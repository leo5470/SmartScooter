function DU(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function Rs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var NR={exports:{}},d0={},UR={exports:{}},Nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh=Symbol.for("react.element"),OU=Symbol.for("react.portal"),kU=Symbol.for("react.fragment"),FU=Symbol.for("react.strict_mode"),NU=Symbol.for("react.profiler"),UU=Symbol.for("react.provider"),zU=Symbol.for("react.context"),HU=Symbol.for("react.forward_ref"),GU=Symbol.for("react.suspense"),VU=Symbol.for("react.memo"),jU=Symbol.for("react.lazy"),nC=Symbol.iterator;function WU(n){return n===null||typeof n!="object"?null:(n=nC&&n[nC]||n["@@iterator"],typeof n=="function"?n:null)}var zR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HR=Object.assign,GR={};function hf(n,e,t){this.props=n,this.context=e,this.refs=GR,this.updater=t||zR}hf.prototype.isReactComponent={};hf.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};hf.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function VR(){}VR.prototype=hf.prototype;function Hw(n,e,t){this.props=n,this.context=e,this.refs=GR,this.updater=t||zR}var Gw=Hw.prototype=new VR;Gw.constructor=Hw;HR(Gw,hf.prototype);Gw.isPureReactComponent=!0;var rC=Array.isArray,jR=Object.prototype.hasOwnProperty,Vw={current:null},WR={key:!0,ref:!0,__self:!0,__source:!0};function $R(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)jR.call(e,r)&&!WR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Jh,type:n,key:s,ref:o,props:i,_owner:Vw.current}}function $U(n,e){return{$$typeof:Jh,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function jw(n){return typeof n=="object"&&n!==null&&n.$$typeof===Jh}function JU(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var iC=/\/+/g;function x1(n,e){return typeof n=="object"&&n!==null&&n.key!=null?JU(""+n.key):e.toString(36)}function Vg(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Jh:case OU:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+x1(o,0):r,rC(i)?(t="",n!=null&&(t=n.replace(iC,"$&/")+"/"),Vg(i,e,t,"",function(u){return u})):i!=null&&(jw(i)&&(i=$U(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(iC,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",rC(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+x1(s,a);o+=Vg(s,e,t,l,i)}else if(l=WU(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+x1(s,a++),o+=Vg(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xm(n,e,t){if(n==null)return n;var r=[],i=0;return Vg(n,r,"","",function(s){return e.call(t,s,i++)}),r}function KU(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Xr={current:null},jg={transition:null},XU={ReactCurrentDispatcher:Xr,ReactCurrentBatchConfig:jg,ReactCurrentOwner:Vw};Nt.Children={map:xm,forEach:function(n,e,t){xm(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return xm(n,function(){e++}),e},toArray:function(n){return xm(n,function(e){return e})||[]},only:function(n){if(!jw(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Nt.Component=hf;Nt.Fragment=kU;Nt.Profiler=NU;Nt.PureComponent=Hw;Nt.StrictMode=FU;Nt.Suspense=GU;Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XU;Nt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=HR({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Vw.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)jR.call(e,l)&&!WR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Jh,type:n.type,key:i,ref:s,props:r,_owner:o}};Nt.createContext=function(n){return n={$$typeof:zU,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:UU,_context:n},n.Consumer=n};Nt.createElement=$R;Nt.createFactory=function(n){var e=$R.bind(null,n);return e.type=n,e};Nt.createRef=function(){return{current:null}};Nt.forwardRef=function(n){return{$$typeof:HU,render:n}};Nt.isValidElement=jw;Nt.lazy=function(n){return{$$typeof:jU,_payload:{_status:-1,_result:n},_init:KU}};Nt.memo=function(n,e){return{$$typeof:VU,type:n,compare:e===void 0?null:e}};Nt.startTransition=function(n){var e=jg.transition;jg.transition={};try{n()}finally{jg.transition=e}};Nt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Nt.useCallback=function(n,e){return Xr.current.useCallback(n,e)};Nt.useContext=function(n){return Xr.current.useContext(n)};Nt.useDebugValue=function(){};Nt.useDeferredValue=function(n){return Xr.current.useDeferredValue(n)};Nt.useEffect=function(n,e){return Xr.current.useEffect(n,e)};Nt.useId=function(){return Xr.current.useId()};Nt.useImperativeHandle=function(n,e,t){return Xr.current.useImperativeHandle(n,e,t)};Nt.useInsertionEffect=function(n,e){return Xr.current.useInsertionEffect(n,e)};Nt.useLayoutEffect=function(n,e){return Xr.current.useLayoutEffect(n,e)};Nt.useMemo=function(n,e){return Xr.current.useMemo(n,e)};Nt.useReducer=function(n,e,t){return Xr.current.useReducer(n,e,t)};Nt.useRef=function(n){return Xr.current.useRef(n)};Nt.useState=function(n){return Xr.current.useState(n)};Nt.useSyncExternalStore=function(n,e,t){return Xr.current.useSyncExternalStore(n,e,t)};Nt.useTransition=function(){return Xr.current.useTransition()};Nt.version="18.2.0";UR.exports=Nt;var w=UR.exports;const ne=Rs(w),jc=DU({__proto__:null,default:ne},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YU=w,QU=Symbol.for("react.element"),ZU=Symbol.for("react.fragment"),qU=Object.prototype.hasOwnProperty,ez=YU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tz={key:!0,ref:!0,__self:!0,__source:!0};function JR(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)qU.call(e,r)&&!tz.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:QU,type:n,key:s,ref:o,props:i,_owner:ez.current}}d0.Fragment=ZU;d0.jsx=JR;d0.jsxs=JR;NR.exports=d0;var F=NR.exports,x_={},KR={exports:{}},Bi={},XR={exports:{}},YR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(k,W){var V=k.length;k.push(W);e:for(;0<V;){var ce=V-1>>>1,oe=k[ce];if(0<i(oe,W))k[ce]=W,k[V]=oe,V=ce;else break e}}function t(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var W=k[0],V=k.pop();if(V!==W){k[0]=V;e:for(var ce=0,oe=k.length,re=oe>>>1;ce<re;){var q=2*(ce+1)-1,we=k[q],xe=q+1,se=k[xe];if(0>i(we,V))xe<oe&&0>i(se,we)?(k[ce]=se,k[xe]=V,ce=xe):(k[ce]=we,k[q]=V,ce=q);else if(xe<oe&&0>i(se,V))k[ce]=se,k[xe]=V,ce=xe;else break e}}return W}function i(k,W){var V=k.sortIndex-W.sortIndex;return V!==0?V:k.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,p=3,g=!1,y=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(k){for(var W=t(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=k)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(u)}}function M(k){if(x=!1,_(k),!y)if(t(l)!==null)y=!0,$(P);else{var W=t(u);W!==null&&Z(M,W.startTime-k)}}function P(k,W){y=!1,x&&(x=!1,m(T),T=-1),g=!0;var V=p;try{for(_(W),d=t(l);d!==null&&(!(d.expirationTime>W)||k&&!B());){var ce=d.callback;if(typeof ce=="function"){d.callback=null,p=d.priorityLevel;var oe=ce(d.expirationTime<=W);W=n.unstable_now(),typeof oe=="function"?d.callback=oe:d===t(l)&&r(l),_(W)}else r(l);d=t(l)}if(d!==null)var re=!0;else{var q=t(u);q!==null&&Z(M,q.startTime-W),re=!1}return re}finally{d=null,p=V,g=!1}}var C=!1,R=null,T=-1,E=5,A=-1;function B(){return!(n.unstable_now()-A<E)}function D(){if(R!==null){var k=n.unstable_now();A=k;var W=!0;try{W=R(!0,k)}finally{W?U():(C=!1,R=null)}}else C=!1}var U;if(typeof S=="function")U=function(){S(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,j=H.port2;H.port1.onmessage=D,U=function(){j.postMessage(null)}}else U=function(){v(D,0)};function $(k){R=k,C||(C=!0,U())}function Z(k,W){T=v(function(){k(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){y||g||(y=!0,$(P))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(k){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var V=p;p=W;try{return k()}finally{p=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,W){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var V=p;p=k;try{return W()}finally{p=V}},n.unstable_scheduleCallback=function(k,W,V){var ce=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ce+V:ce):V=ce,k){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=V+oe,k={id:c++,callback:W,priorityLevel:k,startTime:V,expirationTime:oe,sortIndex:-1},V>ce?(k.sortIndex=V,e(u,k),t(l)===null&&k===t(u)&&(x?(m(T),T=-1):x=!0,Z(M,V-ce))):(k.sortIndex=oe,e(l,k),y||g||(y=!0,$(P))),k},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(k){var W=p;return function(){var V=p;p=W;try{return k.apply(this,arguments)}finally{p=V}}}})(YR);XR.exports=YR;var nz=XR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QR=w,Ri=nz;function Ne(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZR=new Set,fh={};function uu(n,e){Wc(n,e),Wc(n+"Capture",e)}function Wc(n,e){for(fh[n]=e,n=0;n<e.length;n++)ZR.add(e[n])}var Wo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),__=Object.prototype.hasOwnProperty,rz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sC={},oC={};function iz(n){return __.call(oC,n)?!0:__.call(sC,n)?!1:rz.test(n)?oC[n]=!0:(sC[n]=!0,!1)}function sz(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function oz(n,e,t,r){if(e===null||typeof e>"u"||sz(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yr(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Sr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Sr[n]=new Yr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Sr[e]=new Yr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Sr[n]=new Yr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Sr[n]=new Yr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Sr[n]=new Yr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Sr[n]=new Yr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Sr[n]=new Yr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Sr[n]=new Yr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Sr[n]=new Yr(n,5,!1,n.toLowerCase(),null,!1,!1)});var Ww=/[\-:]([a-z])/g;function $w(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Ww,$w);Sr[e]=new Yr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Ww,$w);Sr[e]=new Yr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Ww,$w);Sr[e]=new Yr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Sr[n]=new Yr(n,1,!1,n.toLowerCase(),null,!1,!1)});Sr.xlinkHref=new Yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Sr[n]=new Yr(n,1,!1,n.toLowerCase(),null,!0,!0)});function Jw(n,e,t,r){var i=Sr.hasOwnProperty(e)?Sr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oz(e,t,i,r)&&(t=null),r||i===null?iz(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var ea=QR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_m=Symbol.for("react.element"),fc=Symbol.for("react.portal"),dc=Symbol.for("react.fragment"),Kw=Symbol.for("react.strict_mode"),S_=Symbol.for("react.profiler"),qR=Symbol.for("react.provider"),eI=Symbol.for("react.context"),Xw=Symbol.for("react.forward_ref"),w_=Symbol.for("react.suspense"),b_=Symbol.for("react.suspense_list"),Yw=Symbol.for("react.memo"),Aa=Symbol.for("react.lazy"),tI=Symbol.for("react.offscreen"),aC=Symbol.iterator;function sd(n){return n===null||typeof n!="object"?null:(n=aC&&n[aC]||n["@@iterator"],typeof n=="function"?n:null)}var Tn=Object.assign,_1;function Fd(n){if(_1===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);_1=e&&e[1]||""}return`
`+_1+n}var S1=!1;function w1(n,e){if(!n||S1)return"";S1=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{S1=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Fd(n):""}function az(n){switch(n.tag){case 5:return Fd(n.type);case 16:return Fd("Lazy");case 13:return Fd("Suspense");case 19:return Fd("SuspenseList");case 0:case 2:case 15:return n=w1(n.type,!1),n;case 11:return n=w1(n.type.render,!1),n;case 1:return n=w1(n.type,!0),n;default:return""}}function M_(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case dc:return"Fragment";case fc:return"Portal";case S_:return"Profiler";case Kw:return"StrictMode";case w_:return"Suspense";case b_:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case eI:return(n.displayName||"Context")+".Consumer";case qR:return(n._context.displayName||"Context")+".Provider";case Xw:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Yw:return e=n.displayName||null,e!==null?e:M_(n.type)||"Memo";case Aa:e=n._payload,n=n._init;try{return M_(n(e))}catch{}}return null}function lz(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M_(e);case 8:return e===Kw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ja(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function nI(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uz(n){var e=nI(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Sm(n){n._valueTracker||(n._valueTracker=uz(n))}function rI(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=nI(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function vv(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function E_(n,e){var t=e.checked;return Tn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function lC(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Ja(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iI(n,e){e=e.checked,e!=null&&Jw(n,"checked",e,!1)}function A_(n,e){iI(n,e);var t=Ja(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?C_(n,e.type,t):e.hasOwnProperty("defaultValue")&&C_(n,e.type,Ja(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function uC(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function C_(n,e,t){(e!=="number"||vv(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Nd=Array.isArray;function Ic(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Ja(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function T_(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return Tn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function cC(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ne(92));if(Nd(t)){if(1<t.length)throw Error(Ne(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ja(t)}}function sI(n,e){var t=Ja(e.value),r=Ja(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function fC(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function oI(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function L_(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?oI(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var wm,aI=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(wm=wm||document.createElement("div"),wm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wm.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function dh(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Wd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cz=["Webkit","ms","Moz","O"];Object.keys(Wd).forEach(function(n){cz.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Wd[e]=Wd[n]})});function lI(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Wd.hasOwnProperty(n)&&Wd[n]?(""+e).trim():e+"px"}function uI(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=lI(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var fz=Tn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function P_(n,e){if(e){if(fz[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ne(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ne(62))}}function R_(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I_=null;function Qw(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var B_=null,Bc=null,Dc=null;function dC(n){if(n=Yh(n)){if(typeof B_!="function")throw Error(Ne(280));var e=n.stateNode;e&&(e=v0(e),B_(n.stateNode,n.type,e))}}function cI(n){Bc?Dc?Dc.push(n):Dc=[n]:Bc=n}function fI(){if(Bc){var n=Bc,e=Dc;if(Dc=Bc=null,dC(n),e)for(n=0;n<e.length;n++)dC(e[n])}}function dI(n,e){return n(e)}function hI(){}var b1=!1;function pI(n,e,t){if(b1)return n(e,t);b1=!0;try{return dI(n,e,t)}finally{b1=!1,(Bc!==null||Dc!==null)&&(hI(),fI())}}function hh(n,e){var t=n.stateNode;if(t===null)return null;var r=v0(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ne(231,e,typeof t));return t}var D_=!1;if(Wo)try{var od={};Object.defineProperty(od,"passive",{get:function(){D_=!0}}),window.addEventListener("test",od,od),window.removeEventListener("test",od,od)}catch{D_=!1}function dz(n,e,t,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(c){this.onError(c)}}var $d=!1,yv=null,xv=!1,O_=null,hz={onError:function(n){$d=!0,yv=n}};function pz(n,e,t,r,i,s,o,a,l){$d=!1,yv=null,dz.apply(hz,arguments)}function mz(n,e,t,r,i,s,o,a,l){if(pz.apply(this,arguments),$d){if($d){var u=yv;$d=!1,yv=null}else throw Error(Ne(198));xv||(xv=!0,O_=u)}}function cu(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function mI(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function hC(n){if(cu(n)!==n)throw Error(Ne(188))}function gz(n){var e=n.alternate;if(!e){if(e=cu(n),e===null)throw Error(Ne(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return hC(i),n;if(s===r)return hC(i),e;s=s.sibling}throw Error(Ne(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Ne(189))}}if(t.alternate!==r)throw Error(Ne(190))}if(t.tag!==3)throw Error(Ne(188));return t.stateNode.current===t?n:e}function gI(n){return n=gz(n),n!==null?vI(n):null}function vI(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=vI(n);if(e!==null)return e;n=n.sibling}return null}var yI=Ri.unstable_scheduleCallback,pC=Ri.unstable_cancelCallback,vz=Ri.unstable_shouldYield,yz=Ri.unstable_requestPaint,Nn=Ri.unstable_now,xz=Ri.unstable_getCurrentPriorityLevel,Zw=Ri.unstable_ImmediatePriority,xI=Ri.unstable_UserBlockingPriority,_v=Ri.unstable_NormalPriority,_z=Ri.unstable_LowPriority,_I=Ri.unstable_IdlePriority,h0=null,no=null;function Sz(n){if(no&&typeof no.onCommitFiberRoot=="function")try{no.onCommitFiberRoot(h0,n,void 0,(n.current.flags&128)===128)}catch{}}var Es=Math.clz32?Math.clz32:Mz,wz=Math.log,bz=Math.LN2;function Mz(n){return n>>>=0,n===0?32:31-(wz(n)/bz|0)|0}var bm=64,Mm=4194304;function Ud(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Sv(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Ud(a):(s&=o,s!==0&&(r=Ud(s)))}else o=t&~i,o!==0?r=Ud(o):s!==0&&(r=Ud(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Es(e),i=1<<t,r|=n[t],e&=~i;return r}function Ez(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Az(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Es(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=Ez(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function k_(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function SI(){var n=bm;return bm<<=1,!(bm&4194240)&&(bm=64),n}function M1(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Kh(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Es(e),n[e]=t}function Cz(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Es(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function qw(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Es(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var nn=0;function wI(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var bI,eb,MI,EI,AI,F_=!1,Em=[],Na=null,Ua=null,za=null,ph=new Map,mh=new Map,Pa=[],Tz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mC(n,e){switch(n){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":ph.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(e.pointerId)}}function ad(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Yh(e),e!==null&&eb(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function Lz(n,e,t,r,i){switch(e){case"focusin":return Na=ad(Na,n,e,t,r,i),!0;case"dragenter":return Ua=ad(Ua,n,e,t,r,i),!0;case"mouseover":return za=ad(za,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return ph.set(s,ad(ph.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,mh.set(s,ad(mh.get(s)||null,n,e,t,r,i)),!0}return!1}function CI(n){var e=Bl(n.target);if(e!==null){var t=cu(e);if(t!==null){if(e=t.tag,e===13){if(e=mI(t),e!==null){n.blockedOn=e,AI(n.priority,function(){MI(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Wg(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=N_(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);I_=r,t.target.dispatchEvent(r),I_=null}else return e=Yh(t),e!==null&&eb(e),n.blockedOn=t,!1;e.shift()}return!0}function gC(n,e,t){Wg(n)&&t.delete(e)}function Pz(){F_=!1,Na!==null&&Wg(Na)&&(Na=null),Ua!==null&&Wg(Ua)&&(Ua=null),za!==null&&Wg(za)&&(za=null),ph.forEach(gC),mh.forEach(gC)}function ld(n,e){n.blockedOn===e&&(n.blockedOn=null,F_||(F_=!0,Ri.unstable_scheduleCallback(Ri.unstable_NormalPriority,Pz)))}function gh(n){function e(i){return ld(i,n)}if(0<Em.length){ld(Em[0],n);for(var t=1;t<Em.length;t++){var r=Em[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Na!==null&&ld(Na,n),Ua!==null&&ld(Ua,n),za!==null&&ld(za,n),ph.forEach(e),mh.forEach(e),t=0;t<Pa.length;t++)r=Pa[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Pa.length&&(t=Pa[0],t.blockedOn===null);)CI(t),t.blockedOn===null&&Pa.shift()}var Oc=ea.ReactCurrentBatchConfig,wv=!0;function Rz(n,e,t,r){var i=nn,s=Oc.transition;Oc.transition=null;try{nn=1,tb(n,e,t,r)}finally{nn=i,Oc.transition=s}}function Iz(n,e,t,r){var i=nn,s=Oc.transition;Oc.transition=null;try{nn=4,tb(n,e,t,r)}finally{nn=i,Oc.transition=s}}function tb(n,e,t,r){if(wv){var i=N_(n,e,t,r);if(i===null)D1(n,e,r,bv,t),mC(n,r);else if(Lz(i,n,e,t,r))r.stopPropagation();else if(mC(n,r),e&4&&-1<Tz.indexOf(n)){for(;i!==null;){var s=Yh(i);if(s!==null&&bI(s),s=N_(n,e,t,r),s===null&&D1(n,e,r,bv,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else D1(n,e,r,null,t)}}var bv=null;function N_(n,e,t,r){if(bv=null,n=Qw(r),n=Bl(n),n!==null)if(e=cu(n),e===null)n=null;else if(t=e.tag,t===13){if(n=mI(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return bv=n,null}function TI(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xz()){case Zw:return 1;case xI:return 4;case _v:case _z:return 16;case _I:return 536870912;default:return 16}default:return 16}}var Ia=null,nb=null,$g=null;function LI(){if($g)return $g;var n,e=nb,t=e.length,r,i="value"in Ia?Ia.value:Ia.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return $g=i.slice(n,1<r?1-r:void 0)}function Jg(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Am(){return!0}function vC(){return!1}function Di(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Am:vC,this.isPropagationStopped=vC,this}return Tn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Am)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Am)},persist:function(){},isPersistent:Am}),e}var pf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rb=Di(pf),Xh=Tn({},pf,{view:0,detail:0}),Bz=Di(Xh),E1,A1,ud,p0=Tn({},Xh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ib,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ud&&(ud&&n.type==="mousemove"?(E1=n.screenX-ud.screenX,A1=n.screenY-ud.screenY):A1=E1=0,ud=n),E1)},movementY:function(n){return"movementY"in n?n.movementY:A1}}),yC=Di(p0),Dz=Tn({},p0,{dataTransfer:0}),Oz=Di(Dz),kz=Tn({},Xh,{relatedTarget:0}),C1=Di(kz),Fz=Tn({},pf,{animationName:0,elapsedTime:0,pseudoElement:0}),Nz=Di(Fz),Uz=Tn({},pf,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),zz=Di(Uz),Hz=Tn({},pf,{data:0}),xC=Di(Hz),Gz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wz(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=jz[n])?!!e[n]:!1}function ib(){return Wz}var $z=Tn({},Xh,{key:function(n){if(n.key){var e=Gz[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Jg(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Vz[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ib,charCode:function(n){return n.type==="keypress"?Jg(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Jg(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Jz=Di($z),Kz=Tn({},p0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_C=Di(Kz),Xz=Tn({},Xh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ib}),Yz=Di(Xz),Qz=Tn({},pf,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zz=Di(Qz),qz=Tn({},p0,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),e5=Di(qz),t5=[9,13,27,32],sb=Wo&&"CompositionEvent"in window,Jd=null;Wo&&"documentMode"in document&&(Jd=document.documentMode);var n5=Wo&&"TextEvent"in window&&!Jd,PI=Wo&&(!sb||Jd&&8<Jd&&11>=Jd),SC=String.fromCharCode(32),wC=!1;function RI(n,e){switch(n){case"keyup":return t5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function II(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var hc=!1;function r5(n,e){switch(n){case"compositionend":return II(e);case"keypress":return e.which!==32?null:(wC=!0,SC);case"textInput":return n=e.data,n===SC&&wC?null:n;default:return null}}function i5(n,e){if(hc)return n==="compositionend"||!sb&&RI(n,e)?(n=LI(),$g=nb=Ia=null,hc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return PI&&e.locale!=="ko"?null:e.data;default:return null}}var s5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bC(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!s5[n.type]:e==="textarea"}function BI(n,e,t,r){cI(r),e=Mv(e,"onChange"),0<e.length&&(t=new rb("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Kd=null,vh=null;function o5(n){jI(n,0)}function m0(n){var e=gc(n);if(rI(e))return n}function a5(n,e){if(n==="change")return e}var DI=!1;if(Wo){var T1;if(Wo){var L1="oninput"in document;if(!L1){var MC=document.createElement("div");MC.setAttribute("oninput","return;"),L1=typeof MC.oninput=="function"}T1=L1}else T1=!1;DI=T1&&(!document.documentMode||9<document.documentMode)}function EC(){Kd&&(Kd.detachEvent("onpropertychange",OI),vh=Kd=null)}function OI(n){if(n.propertyName==="value"&&m0(vh)){var e=[];BI(e,vh,n,Qw(n)),pI(o5,e)}}function l5(n,e,t){n==="focusin"?(EC(),Kd=e,vh=t,Kd.attachEvent("onpropertychange",OI)):n==="focusout"&&EC()}function u5(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return m0(vh)}function c5(n,e){if(n==="click")return m0(e)}function f5(n,e){if(n==="input"||n==="change")return m0(e)}function d5(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Ts=typeof Object.is=="function"?Object.is:d5;function yh(n,e){if(Ts(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!__.call(e,i)||!Ts(n[i],e[i]))return!1}return!0}function AC(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function CC(n,e){var t=AC(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=AC(t)}}function kI(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?kI(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function FI(){for(var n=window,e=vv();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=vv(n.document)}return e}function ob(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function h5(n){var e=FI(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&kI(t.ownerDocument.documentElement,t)){if(r!==null&&ob(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=CC(t,s);var o=CC(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var p5=Wo&&"documentMode"in document&&11>=document.documentMode,pc=null,U_=null,Xd=null,z_=!1;function TC(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;z_||pc==null||pc!==vv(r)||(r=pc,"selectionStart"in r&&ob(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xd&&yh(Xd,r)||(Xd=r,r=Mv(U_,"onSelect"),0<r.length&&(e=new rb("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=pc)))}function Cm(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var mc={animationend:Cm("Animation","AnimationEnd"),animationiteration:Cm("Animation","AnimationIteration"),animationstart:Cm("Animation","AnimationStart"),transitionend:Cm("Transition","TransitionEnd")},P1={},NI={};Wo&&(NI=document.createElement("div").style,"AnimationEvent"in window||(delete mc.animationend.animation,delete mc.animationiteration.animation,delete mc.animationstart.animation),"TransitionEvent"in window||delete mc.transitionend.transition);function g0(n){if(P1[n])return P1[n];if(!mc[n])return n;var e=mc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in NI)return P1[n]=e[t];return n}var UI=g0("animationend"),zI=g0("animationiteration"),HI=g0("animationstart"),GI=g0("transitionend"),VI=new Map,LC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function el(n,e){VI.set(n,e),uu(e,[n])}for(var R1=0;R1<LC.length;R1++){var I1=LC[R1],m5=I1.toLowerCase(),g5=I1[0].toUpperCase()+I1.slice(1);el(m5,"on"+g5)}el(UI,"onAnimationEnd");el(zI,"onAnimationIteration");el(HI,"onAnimationStart");el("dblclick","onDoubleClick");el("focusin","onFocus");el("focusout","onBlur");el(GI,"onTransitionEnd");Wc("onMouseEnter",["mouseout","mouseover"]);Wc("onMouseLeave",["mouseout","mouseover"]);Wc("onPointerEnter",["pointerout","pointerover"]);Wc("onPointerLeave",["pointerout","pointerover"]);uu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uu("onBeforeInput",["compositionend","keypress","textInput","paste"]);uu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v5=new Set("cancel close invalid load scroll toggle".split(" ").concat(zd));function PC(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,mz(r,e,void 0,n),n.currentTarget=null}function jI(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;PC(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;PC(i,a,u),s=l}}}if(xv)throw n=O_,xv=!1,O_=null,n}function pn(n,e){var t=e[W_];t===void 0&&(t=e[W_]=new Set);var r=n+"__bubble";t.has(r)||(WI(e,n,2,!1),t.add(r))}function B1(n,e,t){var r=0;e&&(r|=4),WI(t,n,r,e)}var Tm="_reactListening"+Math.random().toString(36).slice(2);function xh(n){if(!n[Tm]){n[Tm]=!0,ZR.forEach(function(t){t!=="selectionchange"&&(v5.has(t)||B1(t,!1,n),B1(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Tm]||(e[Tm]=!0,B1("selectionchange",!1,e))}}function WI(n,e,t,r){switch(TI(e)){case 1:var i=Rz;break;case 4:i=Iz;break;default:i=tb}t=i.bind(null,e,t,n),i=void 0,!D_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function D1(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Bl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}pI(function(){var u=s,c=Qw(t),d=[];e:{var p=VI.get(n);if(p!==void 0){var g=rb,y=n;switch(n){case"keypress":if(Jg(t)===0)break e;case"keydown":case"keyup":g=Jz;break;case"focusin":y="focus",g=C1;break;case"focusout":y="blur",g=C1;break;case"beforeblur":case"afterblur":g=C1;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=yC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Oz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Yz;break;case UI:case zI:case HI:g=Nz;break;case GI:g=Zz;break;case"scroll":g=Bz;break;case"wheel":g=e5;break;case"copy":case"cut":case"paste":g=zz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=_C}var x=(e&4)!==0,v=!x&&n==="scroll",m=x?p!==null?p+"Capture":null:p;x=[];for(var S=u,_;S!==null;){_=S;var M=_.stateNode;if(_.tag===5&&M!==null&&(_=M,m!==null&&(M=hh(S,m),M!=null&&x.push(_h(S,M,_)))),v)break;S=S.return}0<x.length&&(p=new g(p,y,null,t,c),d.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",p&&t!==I_&&(y=t.relatedTarget||t.fromElement)&&(Bl(y)||y[$o]))break e;if((g||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,g?(y=t.relatedTarget||t.toElement,g=u,y=y?Bl(y):null,y!==null&&(v=cu(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(x=yC,M="onMouseLeave",m="onMouseEnter",S="mouse",(n==="pointerout"||n==="pointerover")&&(x=_C,M="onPointerLeave",m="onPointerEnter",S="pointer"),v=g==null?p:gc(g),_=y==null?p:gc(y),p=new x(M,S+"leave",g,t,c),p.target=v,p.relatedTarget=_,M=null,Bl(c)===u&&(x=new x(m,S+"enter",y,t,c),x.target=_,x.relatedTarget=v,M=x),v=M,g&&y)t:{for(x=g,m=y,S=0,_=x;_;_=Iu(_))S++;for(_=0,M=m;M;M=Iu(M))_++;for(;0<S-_;)x=Iu(x),S--;for(;0<_-S;)m=Iu(m),_--;for(;S--;){if(x===m||m!==null&&x===m.alternate)break t;x=Iu(x),m=Iu(m)}x=null}else x=null;g!==null&&RC(d,p,g,x,!1),y!==null&&v!==null&&RC(d,v,y,x,!0)}}e:{if(p=u?gc(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var P=a5;else if(bC(p))if(DI)P=f5;else{P=u5;var C=l5}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=c5);if(P&&(P=P(n,u))){BI(d,P,t,c);break e}C&&C(n,p,u),n==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&C_(p,"number",p.value)}switch(C=u?gc(u):window,n){case"focusin":(bC(C)||C.contentEditable==="true")&&(pc=C,U_=u,Xd=null);break;case"focusout":Xd=U_=pc=null;break;case"mousedown":z_=!0;break;case"contextmenu":case"mouseup":case"dragend":z_=!1,TC(d,t,c);break;case"selectionchange":if(p5)break;case"keydown":case"keyup":TC(d,t,c)}var R;if(sb)e:{switch(n){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else hc?RI(n,t)&&(T="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(T="onCompositionStart");T&&(PI&&t.locale!=="ko"&&(hc||T!=="onCompositionStart"?T==="onCompositionEnd"&&hc&&(R=LI()):(Ia=c,nb="value"in Ia?Ia.value:Ia.textContent,hc=!0)),C=Mv(u,T),0<C.length&&(T=new xC(T,n,null,t,c),d.push({event:T,listeners:C}),R?T.data=R:(R=II(t),R!==null&&(T.data=R)))),(R=n5?r5(n,t):i5(n,t))&&(u=Mv(u,"onBeforeInput"),0<u.length&&(c=new xC("onBeforeInput","beforeinput",null,t,c),d.push({event:c,listeners:u}),c.data=R))}jI(d,e)})}function _h(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Mv(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=hh(n,t),s!=null&&r.unshift(_h(n,s,i)),s=hh(n,e),s!=null&&r.push(_h(n,s,i))),n=n.return}return r}function Iu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function RC(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=hh(t,s),l!=null&&o.unshift(_h(t,l,a))):i||(l=hh(t,s),l!=null&&o.push(_h(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var y5=/\r\n?/g,x5=/\u0000|\uFFFD/g;function IC(n){return(typeof n=="string"?n:""+n).replace(y5,`
`).replace(x5,"")}function Lm(n,e,t){if(e=IC(e),IC(n)!==e&&t)throw Error(Ne(425))}function Ev(){}var H_=null,G_=null;function V_(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var j_=typeof setTimeout=="function"?setTimeout:void 0,_5=typeof clearTimeout=="function"?clearTimeout:void 0,BC=typeof Promise=="function"?Promise:void 0,S5=typeof queueMicrotask=="function"?queueMicrotask:typeof BC<"u"?function(n){return BC.resolve(null).then(n).catch(w5)}:j_;function w5(n){setTimeout(function(){throw n})}function O1(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),gh(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);gh(e)}function Ha(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function DC(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var mf=Math.random().toString(36).slice(2),eo="__reactFiber$"+mf,Sh="__reactProps$"+mf,$o="__reactContainer$"+mf,W_="__reactEvents$"+mf,b5="__reactListeners$"+mf,M5="__reactHandles$"+mf;function Bl(n){var e=n[eo];if(e)return e;for(var t=n.parentNode;t;){if(e=t[$o]||t[eo]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=DC(n);n!==null;){if(t=n[eo])return t;n=DC(n)}return e}n=t,t=n.parentNode}return null}function Yh(n){return n=n[eo]||n[$o],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function gc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ne(33))}function v0(n){return n[Sh]||null}var $_=[],vc=-1;function tl(n){return{current:n}}function vn(n){0>vc||(n.current=$_[vc],$_[vc]=null,vc--)}function fn(n,e){vc++,$_[vc]=n.current,n.current=e}var Ka={},Or=tl(Ka),ci=tl(!1),Zl=Ka;function $c(n,e){var t=n.type.contextTypes;if(!t)return Ka;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function fi(n){return n=n.childContextTypes,n!=null}function Av(){vn(ci),vn(Or)}function OC(n,e,t){if(Or.current!==Ka)throw Error(Ne(168));fn(Or,e),fn(ci,t)}function $I(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ne(108,lz(n)||"Unknown",i));return Tn({},t,r)}function Cv(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ka,Zl=Or.current,fn(Or,n),fn(ci,ci.current),!0}function kC(n,e,t){var r=n.stateNode;if(!r)throw Error(Ne(169));t?(n=$I(n,e,Zl),r.__reactInternalMemoizedMergedChildContext=n,vn(ci),vn(Or),fn(Or,n)):vn(ci),fn(ci,t)}var Ro=null,y0=!1,k1=!1;function JI(n){Ro===null?Ro=[n]:Ro.push(n)}function E5(n){y0=!0,JI(n)}function nl(){if(!k1&&Ro!==null){k1=!0;var n=0,e=nn;try{var t=Ro;for(nn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Ro=null,y0=!1}catch(i){throw Ro!==null&&(Ro=Ro.slice(n+1)),yI(Zw,nl),i}finally{nn=e,k1=!1}}return null}var yc=[],xc=0,Tv=null,Lv=0,Ki=[],Xi=0,ql=null,Oo=1,ko="";function El(n,e){yc[xc++]=Lv,yc[xc++]=Tv,Tv=n,Lv=e}function KI(n,e,t){Ki[Xi++]=Oo,Ki[Xi++]=ko,Ki[Xi++]=ql,ql=n;var r=Oo;n=ko;var i=32-Es(r)-1;r&=~(1<<i),t+=1;var s=32-Es(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Oo=1<<32-Es(e)+i|t<<i|r,ko=s+n}else Oo=1<<s|t<<i|r,ko=n}function ab(n){n.return!==null&&(El(n,1),KI(n,1,0))}function lb(n){for(;n===Tv;)Tv=yc[--xc],yc[xc]=null,Lv=yc[--xc],yc[xc]=null;for(;n===ql;)ql=Ki[--Xi],Ki[Xi]=null,ko=Ki[--Xi],Ki[Xi]=null,Oo=Ki[--Xi],Ki[Xi]=null}var Ti=null,Ei=null,_n=!1,ws=null;function XI(n,e){var t=Qi(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function FC(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Ti=n,Ei=Ha(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Ti=n,Ei=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=ql!==null?{id:Oo,overflow:ko}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Qi(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Ti=n,Ei=null,!0):!1;default:return!1}}function J_(n){return(n.mode&1)!==0&&(n.flags&128)===0}function K_(n){if(_n){var e=Ei;if(e){var t=e;if(!FC(n,e)){if(J_(n))throw Error(Ne(418));e=Ha(t.nextSibling);var r=Ti;e&&FC(n,e)?XI(r,t):(n.flags=n.flags&-4097|2,_n=!1,Ti=n)}}else{if(J_(n))throw Error(Ne(418));n.flags=n.flags&-4097|2,_n=!1,Ti=n}}}function NC(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ti=n}function Pm(n){if(n!==Ti)return!1;if(!_n)return NC(n),_n=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!V_(n.type,n.memoizedProps)),e&&(e=Ei)){if(J_(n))throw YI(),Error(Ne(418));for(;e;)XI(n,e),e=Ha(e.nextSibling)}if(NC(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ne(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Ei=Ha(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Ei=null}}else Ei=Ti?Ha(n.stateNode.nextSibling):null;return!0}function YI(){for(var n=Ei;n;)n=Ha(n.nextSibling)}function Jc(){Ei=Ti=null,_n=!1}function ub(n){ws===null?ws=[n]:ws.push(n)}var A5=ea.ReactCurrentBatchConfig;function xs(n,e){if(n&&n.defaultProps){e=Tn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Pv=tl(null),Rv=null,_c=null,cb=null;function fb(){cb=_c=Rv=null}function db(n){var e=Pv.current;vn(Pv),n._currentValue=e}function X_(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function kc(n,e){Rv=n,cb=_c=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(ai=!0),n.firstContext=null)}function ts(n){var e=n._currentValue;if(cb!==n)if(n={context:n,memoizedValue:e,next:null},_c===null){if(Rv===null)throw Error(Ne(308));_c=n,Rv.dependencies={lanes:0,firstContext:n}}else _c=_c.next=n;return e}var Dl=null;function hb(n){Dl===null?Dl=[n]:Dl.push(n)}function QI(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,hb(e)):(t.next=i.next,i.next=t),e.interleaved=t,Jo(n,r)}function Jo(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Ca=!1;function pb(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZI(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function No(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Ga(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Gt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Jo(n,t)}return i=r.interleaved,i===null?(e.next=e,hb(r)):(e.next=i.next,i.next=e),r.interleaved=e,Jo(n,t)}function Kg(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,qw(n,t)}}function UC(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Iv(n,e,t,r){var i=n.updateQueue;Ca=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=n.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,x=a;switch(p=e,g=t,x.tag){case 1:if(y=x.payload,typeof y=="function"){d=y.call(g,d,p);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,p=typeof y=="function"?y.call(g,d,p):y,p==null)break e;d=Tn({},d,p);break e;case 2:Ca=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);tu|=o,n.lanes=o,n.memoizedState=d}}function zC(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ne(191,i));i.call(r)}}}var qI=new QR.Component().refs;function Y_(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Tn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var x0={isMounted:function(n){return(n=n._reactInternals)?cu(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Jr(),i=ja(n),s=No(r,i);s.payload=e,t!=null&&(s.callback=t),e=Ga(n,s,i),e!==null&&(As(e,n,i,r),Kg(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Jr(),i=ja(n),s=No(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Ga(n,s,i),e!==null&&(As(e,n,i,r),Kg(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Jr(),r=ja(n),i=No(t,r);i.tag=2,e!=null&&(i.callback=e),e=Ga(n,i,r),e!==null&&(As(e,n,r,t),Kg(e,n,r))}};function HC(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!yh(t,r)||!yh(i,s):!0}function eB(n,e,t){var r=!1,i=Ka,s=e.contextType;return typeof s=="object"&&s!==null?s=ts(s):(i=fi(e)?Zl:Or.current,r=e.contextTypes,s=(r=r!=null)?$c(n,i):Ka),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=x0,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function GC(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&x0.enqueueReplaceState(e,e.state,null)}function Q_(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=qI,pb(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ts(s):(s=fi(e)?Zl:Or.current,i.context=$c(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Y_(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&x0.enqueueReplaceState(i,i.state,null),Iv(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function cd(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ne(309));var r=t.stateNode}if(!r)throw Error(Ne(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===qI&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ne(284));if(!t._owner)throw Error(Ne(290,n))}return n}function Rm(n,e){throw n=Object.prototype.toString.call(e),Error(Ne(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function VC(n){var e=n._init;return e(n._payload)}function tB(n){function e(m,S){if(n){var _=m.deletions;_===null?(m.deletions=[S],m.flags|=16):_.push(S)}}function t(m,S){if(!n)return null;for(;S!==null;)e(m,S),S=S.sibling;return null}function r(m,S){for(m=new Map;S!==null;)S.key!==null?m.set(S.key,S):m.set(S.index,S),S=S.sibling;return m}function i(m,S){return m=Wa(m,S),m.index=0,m.sibling=null,m}function s(m,S,_){return m.index=_,n?(_=m.alternate,_!==null?(_=_.index,_<S?(m.flags|=2,S):_):(m.flags|=2,S)):(m.flags|=1048576,S)}function o(m){return n&&m.alternate===null&&(m.flags|=2),m}function a(m,S,_,M){return S===null||S.tag!==6?(S=V1(_,m.mode,M),S.return=m,S):(S=i(S,_),S.return=m,S)}function l(m,S,_,M){var P=_.type;return P===dc?c(m,S,_.props.children,M,_.key):S!==null&&(S.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Aa&&VC(P)===S.type)?(M=i(S,_.props),M.ref=cd(m,S,_),M.return=m,M):(M=ev(_.type,_.key,_.props,null,m.mode,M),M.ref=cd(m,S,_),M.return=m,M)}function u(m,S,_,M){return S===null||S.tag!==4||S.stateNode.containerInfo!==_.containerInfo||S.stateNode.implementation!==_.implementation?(S=j1(_,m.mode,M),S.return=m,S):(S=i(S,_.children||[]),S.return=m,S)}function c(m,S,_,M,P){return S===null||S.tag!==7?(S=jl(_,m.mode,M,P),S.return=m,S):(S=i(S,_),S.return=m,S)}function d(m,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return S=V1(""+S,m.mode,_),S.return=m,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case _m:return _=ev(S.type,S.key,S.props,null,m.mode,_),_.ref=cd(m,null,S),_.return=m,_;case fc:return S=j1(S,m.mode,_),S.return=m,S;case Aa:var M=S._init;return d(m,M(S._payload),_)}if(Nd(S)||sd(S))return S=jl(S,m.mode,_,null),S.return=m,S;Rm(m,S)}return null}function p(m,S,_,M){var P=S!==null?S.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return P!==null?null:a(m,S,""+_,M);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case _m:return _.key===P?l(m,S,_,M):null;case fc:return _.key===P?u(m,S,_,M):null;case Aa:return P=_._init,p(m,S,P(_._payload),M)}if(Nd(_)||sd(_))return P!==null?null:c(m,S,_,M,null);Rm(m,_)}return null}function g(m,S,_,M,P){if(typeof M=="string"&&M!==""||typeof M=="number")return m=m.get(_)||null,a(S,m,""+M,P);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case _m:return m=m.get(M.key===null?_:M.key)||null,l(S,m,M,P);case fc:return m=m.get(M.key===null?_:M.key)||null,u(S,m,M,P);case Aa:var C=M._init;return g(m,S,_,C(M._payload),P)}if(Nd(M)||sd(M))return m=m.get(_)||null,c(S,m,M,P,null);Rm(S,M)}return null}function y(m,S,_,M){for(var P=null,C=null,R=S,T=S=0,E=null;R!==null&&T<_.length;T++){R.index>T?(E=R,R=null):E=R.sibling;var A=p(m,R,_[T],M);if(A===null){R===null&&(R=E);break}n&&R&&A.alternate===null&&e(m,R),S=s(A,S,T),C===null?P=A:C.sibling=A,C=A,R=E}if(T===_.length)return t(m,R),_n&&El(m,T),P;if(R===null){for(;T<_.length;T++)R=d(m,_[T],M),R!==null&&(S=s(R,S,T),C===null?P=R:C.sibling=R,C=R);return _n&&El(m,T),P}for(R=r(m,R);T<_.length;T++)E=g(R,m,T,_[T],M),E!==null&&(n&&E.alternate!==null&&R.delete(E.key===null?T:E.key),S=s(E,S,T),C===null?P=E:C.sibling=E,C=E);return n&&R.forEach(function(B){return e(m,B)}),_n&&El(m,T),P}function x(m,S,_,M){var P=sd(_);if(typeof P!="function")throw Error(Ne(150));if(_=P.call(_),_==null)throw Error(Ne(151));for(var C=P=null,R=S,T=S=0,E=null,A=_.next();R!==null&&!A.done;T++,A=_.next()){R.index>T?(E=R,R=null):E=R.sibling;var B=p(m,R,A.value,M);if(B===null){R===null&&(R=E);break}n&&R&&B.alternate===null&&e(m,R),S=s(B,S,T),C===null?P=B:C.sibling=B,C=B,R=E}if(A.done)return t(m,R),_n&&El(m,T),P;if(R===null){for(;!A.done;T++,A=_.next())A=d(m,A.value,M),A!==null&&(S=s(A,S,T),C===null?P=A:C.sibling=A,C=A);return _n&&El(m,T),P}for(R=r(m,R);!A.done;T++,A=_.next())A=g(R,m,T,A.value,M),A!==null&&(n&&A.alternate!==null&&R.delete(A.key===null?T:A.key),S=s(A,S,T),C===null?P=A:C.sibling=A,C=A);return n&&R.forEach(function(D){return e(m,D)}),_n&&El(m,T),P}function v(m,S,_,M){if(typeof _=="object"&&_!==null&&_.type===dc&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case _m:e:{for(var P=_.key,C=S;C!==null;){if(C.key===P){if(P=_.type,P===dc){if(C.tag===7){t(m,C.sibling),S=i(C,_.props.children),S.return=m,m=S;break e}}else if(C.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Aa&&VC(P)===C.type){t(m,C.sibling),S=i(C,_.props),S.ref=cd(m,C,_),S.return=m,m=S;break e}t(m,C);break}else e(m,C);C=C.sibling}_.type===dc?(S=jl(_.props.children,m.mode,M,_.key),S.return=m,m=S):(M=ev(_.type,_.key,_.props,null,m.mode,M),M.ref=cd(m,S,_),M.return=m,m=M)}return o(m);case fc:e:{for(C=_.key;S!==null;){if(S.key===C)if(S.tag===4&&S.stateNode.containerInfo===_.containerInfo&&S.stateNode.implementation===_.implementation){t(m,S.sibling),S=i(S,_.children||[]),S.return=m,m=S;break e}else{t(m,S);break}else e(m,S);S=S.sibling}S=j1(_,m.mode,M),S.return=m,m=S}return o(m);case Aa:return C=_._init,v(m,S,C(_._payload),M)}if(Nd(_))return y(m,S,_,M);if(sd(_))return x(m,S,_,M);Rm(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,S!==null&&S.tag===6?(t(m,S.sibling),S=i(S,_),S.return=m,m=S):(t(m,S),S=V1(_,m.mode,M),S.return=m,m=S),o(m)):t(m,S)}return v}var Kc=tB(!0),nB=tB(!1),Qh={},ro=tl(Qh),wh=tl(Qh),bh=tl(Qh);function Ol(n){if(n===Qh)throw Error(Ne(174));return n}function mb(n,e){switch(fn(bh,e),fn(wh,n),fn(ro,Qh),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:L_(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=L_(e,n)}vn(ro),fn(ro,e)}function Xc(){vn(ro),vn(wh),vn(bh)}function rB(n){Ol(bh.current);var e=Ol(ro.current),t=L_(e,n.type);e!==t&&(fn(wh,n),fn(ro,t))}function gb(n){wh.current===n&&(vn(ro),vn(wh))}var Mn=tl(0);function Bv(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var F1=[];function vb(){for(var n=0;n<F1.length;n++)F1[n]._workInProgressVersionPrimary=null;F1.length=0}var Xg=ea.ReactCurrentDispatcher,N1=ea.ReactCurrentBatchConfig,eu=0,Cn=null,Zn=null,cr=null,Dv=!1,Yd=!1,Mh=0,C5=0;function Cr(){throw Error(Ne(321))}function yb(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Ts(n[t],e[t]))return!1;return!0}function xb(n,e,t,r,i,s){if(eu=s,Cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xg.current=n===null||n.memoizedState===null?R5:I5,n=t(r,i),Yd){s=0;do{if(Yd=!1,Mh=0,25<=s)throw Error(Ne(301));s+=1,cr=Zn=null,e.updateQueue=null,Xg.current=B5,n=t(r,i)}while(Yd)}if(Xg.current=Ov,e=Zn!==null&&Zn.next!==null,eu=0,cr=Zn=Cn=null,Dv=!1,e)throw Error(Ne(300));return n}function _b(){var n=Mh!==0;return Mh=0,n}function Ys(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?Cn.memoizedState=cr=n:cr=cr.next=n,cr}function ns(){if(Zn===null){var n=Cn.alternate;n=n!==null?n.memoizedState:null}else n=Zn.next;var e=cr===null?Cn.memoizedState:cr.next;if(e!==null)cr=e,Zn=n;else{if(n===null)throw Error(Ne(310));Zn=n,n={memoizedState:Zn.memoizedState,baseState:Zn.baseState,baseQueue:Zn.baseQueue,queue:Zn.queue,next:null},cr===null?Cn.memoizedState=cr=n:cr=cr.next=n}return cr}function Eh(n,e){return typeof e=="function"?e(n):e}function U1(n){var e=ns(),t=e.queue;if(t===null)throw Error(Ne(311));t.lastRenderedReducer=n;var r=Zn,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((eu&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Cn.lanes|=c,tu|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Ts(r,e.memoizedState)||(ai=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Cn.lanes|=s,tu|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function z1(n){var e=ns(),t=e.queue;if(t===null)throw Error(Ne(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Ts(s,e.memoizedState)||(ai=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function iB(){}function sB(n,e){var t=Cn,r=ns(),i=e(),s=!Ts(r.memoizedState,i);if(s&&(r.memoizedState=i,ai=!0),r=r.queue,Sb(lB.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||cr!==null&&cr.memoizedState.tag&1){if(t.flags|=2048,Ah(9,aB.bind(null,t,r,i,e),void 0,null),dr===null)throw Error(Ne(349));eu&30||oB(t,e,i)}return i}function oB(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Cn.updateQueue,e===null?(e={lastEffect:null,stores:null},Cn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function aB(n,e,t,r){e.value=t,e.getSnapshot=r,uB(e)&&cB(n)}function lB(n,e,t){return t(function(){uB(e)&&cB(n)})}function uB(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Ts(n,t)}catch{return!0}}function cB(n){var e=Jo(n,1);e!==null&&As(e,n,1,-1)}function jC(n){var e=Ys();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eh,lastRenderedState:n},e.queue=n,n=n.dispatch=P5.bind(null,Cn,n),[e.memoizedState,n]}function Ah(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Cn.updateQueue,e===null?(e={lastEffect:null,stores:null},Cn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function fB(){return ns().memoizedState}function Yg(n,e,t,r){var i=Ys();Cn.flags|=n,i.memoizedState=Ah(1|e,t,void 0,r===void 0?null:r)}function _0(n,e,t,r){var i=ns();r=r===void 0?null:r;var s=void 0;if(Zn!==null){var o=Zn.memoizedState;if(s=o.destroy,r!==null&&yb(r,o.deps)){i.memoizedState=Ah(e,t,s,r);return}}Cn.flags|=n,i.memoizedState=Ah(1|e,t,s,r)}function WC(n,e){return Yg(8390656,8,n,e)}function Sb(n,e){return _0(2048,8,n,e)}function dB(n,e){return _0(4,2,n,e)}function hB(n,e){return _0(4,4,n,e)}function pB(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function mB(n,e,t){return t=t!=null?t.concat([n]):null,_0(4,4,pB.bind(null,e,n),t)}function wb(){}function gB(n,e){var t=ns();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&yb(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function vB(n,e){var t=ns();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&yb(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function yB(n,e,t){return eu&21?(Ts(t,e)||(t=SI(),Cn.lanes|=t,tu|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,ai=!0),n.memoizedState=t)}function T5(n,e){var t=nn;nn=t!==0&&4>t?t:4,n(!0);var r=N1.transition;N1.transition={};try{n(!1),e()}finally{nn=t,N1.transition=r}}function xB(){return ns().memoizedState}function L5(n,e,t){var r=ja(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},_B(n))SB(e,t);else if(t=QI(n,e,t,r),t!==null){var i=Jr();As(t,n,r,i),wB(t,e,r)}}function P5(n,e,t){var r=ja(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(_B(n))SB(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Ts(a,o)){var l=e.interleaved;l===null?(i.next=i,hb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=QI(n,e,i,r),t!==null&&(i=Jr(),As(t,n,r,i),wB(t,e,r))}}function _B(n){var e=n.alternate;return n===Cn||e!==null&&e===Cn}function SB(n,e){Yd=Dv=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function wB(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,qw(n,t)}}var Ov={readContext:ts,useCallback:Cr,useContext:Cr,useEffect:Cr,useImperativeHandle:Cr,useInsertionEffect:Cr,useLayoutEffect:Cr,useMemo:Cr,useReducer:Cr,useRef:Cr,useState:Cr,useDebugValue:Cr,useDeferredValue:Cr,useTransition:Cr,useMutableSource:Cr,useSyncExternalStore:Cr,useId:Cr,unstable_isNewReconciler:!1},R5={readContext:ts,useCallback:function(n,e){return Ys().memoizedState=[n,e===void 0?null:e],n},useContext:ts,useEffect:WC,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Yg(4194308,4,pB.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Yg(4194308,4,n,e)},useInsertionEffect:function(n,e){return Yg(4,2,n,e)},useMemo:function(n,e){var t=Ys();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Ys();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=L5.bind(null,Cn,n),[r.memoizedState,n]},useRef:function(n){var e=Ys();return n={current:n},e.memoizedState=n},useState:jC,useDebugValue:wb,useDeferredValue:function(n){return Ys().memoizedState=n},useTransition:function(){var n=jC(!1),e=n[0];return n=T5.bind(null,n[1]),Ys().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Cn,i=Ys();if(_n){if(t===void 0)throw Error(Ne(407));t=t()}else{if(t=e(),dr===null)throw Error(Ne(349));eu&30||oB(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,WC(lB.bind(null,r,s,n),[n]),r.flags|=2048,Ah(9,aB.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Ys(),e=dr.identifierPrefix;if(_n){var t=ko,r=Oo;t=(r&~(1<<32-Es(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Mh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=C5++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},I5={readContext:ts,useCallback:gB,useContext:ts,useEffect:Sb,useImperativeHandle:mB,useInsertionEffect:dB,useLayoutEffect:hB,useMemo:vB,useReducer:U1,useRef:fB,useState:function(){return U1(Eh)},useDebugValue:wb,useDeferredValue:function(n){var e=ns();return yB(e,Zn.memoizedState,n)},useTransition:function(){var n=U1(Eh)[0],e=ns().memoizedState;return[n,e]},useMutableSource:iB,useSyncExternalStore:sB,useId:xB,unstable_isNewReconciler:!1},B5={readContext:ts,useCallback:gB,useContext:ts,useEffect:Sb,useImperativeHandle:mB,useInsertionEffect:dB,useLayoutEffect:hB,useMemo:vB,useReducer:z1,useRef:fB,useState:function(){return z1(Eh)},useDebugValue:wb,useDeferredValue:function(n){var e=ns();return Zn===null?e.memoizedState=n:yB(e,Zn.memoizedState,n)},useTransition:function(){var n=z1(Eh)[0],e=ns().memoizedState;return[n,e]},useMutableSource:iB,useSyncExternalStore:sB,useId:xB,unstable_isNewReconciler:!1};function Yc(n,e){try{var t="",r=e;do t+=az(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function H1(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Z_(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var D5=typeof WeakMap=="function"?WeakMap:Map;function bB(n,e,t){t=No(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Fv||(Fv=!0,lS=r),Z_(n,e)},t}function MB(n,e,t){t=No(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){Z_(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Z_(n,e),typeof r!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function $C(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new D5;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=K5.bind(null,n,e,t),e.then(n,n))}function JC(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function KC(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=No(-1,1),e.tag=2,Ga(t,e,1))),t.lanes|=1),n)}var O5=ea.ReactCurrentOwner,ai=!1;function jr(n,e,t,r){e.child=n===null?nB(e,null,t,r):Kc(e,n.child,t,r)}function XC(n,e,t,r,i){t=t.render;var s=e.ref;return kc(e,i),r=xb(n,e,t,r,s,i),t=_b(),n!==null&&!ai?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Ko(n,e,i)):(_n&&t&&ab(e),e.flags|=1,jr(n,e,r,i),e.child)}function YC(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!Pb(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,EB(n,e,s,r,i)):(n=ev(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:yh,t(o,r)&&n.ref===e.ref)return Ko(n,e,i)}return e.flags|=1,n=Wa(s,r),n.ref=e.ref,n.return=e,e.child=n}function EB(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(yh(s,r)&&n.ref===e.ref)if(ai=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(ai=!0);else return e.lanes=n.lanes,Ko(n,e,i)}return q_(n,e,t,r,i)}function AB(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fn(wc,bi),bi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,fn(wc,bi),bi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,fn(wc,bi),bi|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,fn(wc,bi),bi|=r;return jr(n,e,i,t),e.child}function CB(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function q_(n,e,t,r,i){var s=fi(t)?Zl:Or.current;return s=$c(e,s),kc(e,i),t=xb(n,e,t,r,s,i),r=_b(),n!==null&&!ai?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Ko(n,e,i)):(_n&&r&&ab(e),e.flags|=1,jr(n,e,t,i),e.child)}function QC(n,e,t,r,i){if(fi(t)){var s=!0;Cv(e)}else s=!1;if(kc(e,i),e.stateNode===null)Qg(n,e),eB(e,t,r),Q_(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=ts(u):(u=fi(t)?Zl:Or.current,u=$c(e,u));var c=t.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&GC(e,o,r,u),Ca=!1;var p=e.memoizedState;o.state=p,Iv(e,r,o,i),l=e.memoizedState,a!==r||p!==l||ci.current||Ca?(typeof c=="function"&&(Y_(e,t,c,r),l=e.memoizedState),(a=Ca||HC(e,t,a,r,p,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ZI(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:xs(e.type,a),o.props=u,d=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=ts(l):(l=fi(t)?Zl:Or.current,l=$c(e,l));var g=t.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&GC(e,o,r,l),Ca=!1,p=e.memoizedState,o.state=p,Iv(e,r,o,i);var y=e.memoizedState;a!==d||p!==y||ci.current||Ca?(typeof g=="function"&&(Y_(e,t,g,r),y=e.memoizedState),(u=Ca||HC(e,t,u,r,p,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return eS(n,e,t,r,s,i)}function eS(n,e,t,r,i,s){CB(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&kC(e,t,!1),Ko(n,e,s);r=e.stateNode,O5.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Kc(e,n.child,null,s),e.child=Kc(e,null,a,s)):jr(n,e,a,s),e.memoizedState=r.state,i&&kC(e,t,!0),e.child}function TB(n){var e=n.stateNode;e.pendingContext?OC(n,e.pendingContext,e.pendingContext!==e.context):e.context&&OC(n,e.context,!1),mb(n,e.containerInfo)}function ZC(n,e,t,r,i){return Jc(),ub(i),e.flags|=256,jr(n,e,t,r),e.child}var tS={dehydrated:null,treeContext:null,retryLane:0};function nS(n){return{baseLanes:n,cachePool:null,transitions:null}}function LB(n,e,t){var r=e.pendingProps,i=Mn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),fn(Mn,i&1),n===null)return K_(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=b0(o,r,0,null),n=jl(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=nS(t),e.memoizedState=tS,n):bb(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return k5(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Wa(a,s):(s=jl(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?nS(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=tS,r}return s=n.child,n=s.sibling,r=Wa(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function bb(n,e){return e=b0({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Im(n,e,t,r){return r!==null&&ub(r),Kc(e,n.child,null,t),n=bb(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function k5(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=H1(Error(Ne(422))),Im(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=b0({mode:"visible",children:r.children},i,0,null),s=jl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Kc(e,n.child,null,o),e.child.memoizedState=nS(o),e.memoizedState=tS,s);if(!(e.mode&1))return Im(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ne(419)),r=H1(s,r,void 0),Im(n,e,o,r)}if(a=(o&n.childLanes)!==0,ai||a){if(r=dr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Jo(n,i),As(r,n,i,-1))}return Lb(),r=H1(Error(Ne(421))),Im(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=X5.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Ei=Ha(i.nextSibling),Ti=e,_n=!0,ws=null,n!==null&&(Ki[Xi++]=Oo,Ki[Xi++]=ko,Ki[Xi++]=ql,Oo=n.id,ko=n.overflow,ql=e),e=bb(e,r.children),e.flags|=4096,e)}function qC(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),X_(n.return,e,t)}function G1(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function PB(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(jr(n,e,r.children,t),r=Mn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&qC(n,t,e);else if(n.tag===19)qC(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(fn(Mn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Bv(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),G1(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Bv(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}G1(e,!0,t,null,s);break;case"together":G1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qg(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ko(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),tu|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ne(153));if(e.child!==null){for(n=e.child,t=Wa(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Wa(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function F5(n,e,t){switch(e.tag){case 3:TB(e),Jc();break;case 5:rB(e);break;case 1:fi(e.type)&&Cv(e);break;case 4:mb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;fn(Pv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(fn(Mn,Mn.current&1),e.flags|=128,null):t&e.child.childLanes?LB(n,e,t):(fn(Mn,Mn.current&1),n=Ko(n,e,t),n!==null?n.sibling:null);fn(Mn,Mn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return PB(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fn(Mn,Mn.current),r)break;return null;case 22:case 23:return e.lanes=0,AB(n,e,t)}return Ko(n,e,t)}var RB,rS,IB,BB;RB=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};rS=function(){};IB=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Ol(ro.current);var s=null;switch(t){case"input":i=E_(n,i),r=E_(n,r),s=[];break;case"select":i=Tn({},i,{value:void 0}),r=Tn({},r,{value:void 0}),s=[];break;case"textarea":i=T_(n,i),r=T_(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Ev)}P_(t,r);var o;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&pn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};BB=function(n,e,t,r){t!==r&&(e.flags|=4)};function fd(n,e){if(!_n)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Tr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function N5(n,e,t){var r=e.pendingProps;switch(lb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(e),null;case 1:return fi(e.type)&&Av(),Tr(e),null;case 3:return r=e.stateNode,Xc(),vn(ci),vn(Or),vb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Pm(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ws!==null&&(fS(ws),ws=null))),rS(n,e),Tr(e),null;case 5:gb(e);var i=Ol(bh.current);if(t=e.type,n!==null&&e.stateNode!=null)IB(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ne(166));return Tr(e),null}if(n=Ol(ro.current),Pm(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[eo]=e,r[Sh]=s,n=(e.mode&1)!==0,t){case"dialog":pn("cancel",r),pn("close",r);break;case"iframe":case"object":case"embed":pn("load",r);break;case"video":case"audio":for(i=0;i<zd.length;i++)pn(zd[i],r);break;case"source":pn("error",r);break;case"img":case"image":case"link":pn("error",r),pn("load",r);break;case"details":pn("toggle",r);break;case"input":lC(r,s),pn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},pn("invalid",r);break;case"textarea":cC(r,s),pn("invalid",r)}P_(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Lm(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Lm(r.textContent,a,n),i=["children",""+a]):fh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&pn("scroll",r)}switch(t){case"input":Sm(r),uC(r,s,!0);break;case"textarea":Sm(r),fC(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ev)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=oI(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[eo]=e,n[Sh]=r,RB(n,e,!1,!1),e.stateNode=n;e:{switch(o=R_(t,r),t){case"dialog":pn("cancel",n),pn("close",n),i=r;break;case"iframe":case"object":case"embed":pn("load",n),i=r;break;case"video":case"audio":for(i=0;i<zd.length;i++)pn(zd[i],n);i=r;break;case"source":pn("error",n),i=r;break;case"img":case"image":case"link":pn("error",n),pn("load",n),i=r;break;case"details":pn("toggle",n),i=r;break;case"input":lC(n,r),i=E_(n,r),pn("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Tn({},r,{value:void 0}),pn("invalid",n);break;case"textarea":cC(n,r),i=T_(n,r),pn("invalid",n);break;default:i=r}P_(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?uI(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&aI(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&dh(n,l):typeof l=="number"&&dh(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&pn("scroll",n):l!=null&&Jw(n,s,l,o))}switch(t){case"input":Sm(n),uC(n,r,!1);break;case"textarea":Sm(n),fC(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Ja(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Ic(n,!!r.multiple,s,!1):r.defaultValue!=null&&Ic(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Ev)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tr(e),null;case 6:if(n&&e.stateNode!=null)BB(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ne(166));if(t=Ol(bh.current),Ol(ro.current),Pm(e)){if(r=e.stateNode,t=e.memoizedProps,r[eo]=e,(s=r.nodeValue!==t)&&(n=Ti,n!==null))switch(n.tag){case 3:Lm(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Lm(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[eo]=e,e.stateNode=r}return Tr(e),null;case 13:if(vn(Mn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(_n&&Ei!==null&&e.mode&1&&!(e.flags&128))YI(),Jc(),e.flags|=98560,s=!1;else if(s=Pm(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Ne(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ne(317));s[eo]=e}else Jc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tr(e),s=!1}else ws!==null&&(fS(ws),ws=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Mn.current&1?er===0&&(er=3):Lb())),e.updateQueue!==null&&(e.flags|=4),Tr(e),null);case 4:return Xc(),rS(n,e),n===null&&xh(e.stateNode.containerInfo),Tr(e),null;case 10:return db(e.type._context),Tr(e),null;case 17:return fi(e.type)&&Av(),Tr(e),null;case 19:if(vn(Mn),s=e.memoizedState,s===null)return Tr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)fd(s,!1);else{if(er!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Bv(n),o!==null){for(e.flags|=128,fd(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return fn(Mn,Mn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Nn()>Qc&&(e.flags|=128,r=!0,fd(s,!1),e.lanes=4194304)}else{if(!r)if(n=Bv(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),fd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!_n)return Tr(e),null}else 2*Nn()-s.renderingStartTime>Qc&&t!==1073741824&&(e.flags|=128,r=!0,fd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Nn(),e.sibling=null,t=Mn.current,fn(Mn,r?t&1|2:t&1),e):(Tr(e),null);case 22:case 23:return Tb(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?bi&1073741824&&(Tr(e),e.subtreeFlags&6&&(e.flags|=8192)):Tr(e),null;case 24:return null;case 25:return null}throw Error(Ne(156,e.tag))}function U5(n,e){switch(lb(e),e.tag){case 1:return fi(e.type)&&Av(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Xc(),vn(ci),vn(Or),vb(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return gb(e),null;case 13:if(vn(Mn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ne(340));Jc()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return vn(Mn),null;case 4:return Xc(),null;case 10:return db(e.type._context),null;case 22:case 23:return Tb(),null;case 24:return null;default:return null}}var Bm=!1,Ir=!1,z5=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Sc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Rn(n,e,r)}else t.current=null}function iS(n,e,t){try{t()}catch(r){Rn(n,e,r)}}var e2=!1;function H5(n,e){if(H_=wv,n=FI(),ob(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=n,p=null;t:for(;;){for(var g;d!==t||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)p=d,d=g;for(;;){if(d===n)break t;if(p===t&&++u===i&&(a=o),p===s&&++c===r&&(l=o),(g=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=g}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(G_={focusedElem:n,selectionRange:t},wv=!1,qe=e;qe!==null;)if(e=qe,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,qe=n;else for(;qe!==null;){e=qe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,v=y.memoizedState,m=e.stateNode,S=m.getSnapshotBeforeUpdate(e.elementType===e.type?x:xs(e.type,x),v);m.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(M){Rn(e,e.return,M)}if(n=e.sibling,n!==null){n.return=e.return,qe=n;break}qe=e.return}return y=e2,e2=!1,y}function Qd(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&iS(e,t,s)}i=i.next}while(i!==r)}}function S0(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function sS(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function DB(n){var e=n.alternate;e!==null&&(n.alternate=null,DB(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[eo],delete e[Sh],delete e[W_],delete e[b5],delete e[M5])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function OB(n){return n.tag===5||n.tag===3||n.tag===4}function t2(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||OB(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function oS(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Ev));else if(r!==4&&(n=n.child,n!==null))for(oS(n,e,t),n=n.sibling;n!==null;)oS(n,e,t),n=n.sibling}function aS(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(aS(n,e,t),n=n.sibling;n!==null;)aS(n,e,t),n=n.sibling}var vr=null,_s=!1;function va(n,e,t){for(t=t.child;t!==null;)kB(n,e,t),t=t.sibling}function kB(n,e,t){if(no&&typeof no.onCommitFiberUnmount=="function")try{no.onCommitFiberUnmount(h0,t)}catch{}switch(t.tag){case 5:Ir||Sc(t,e);case 6:var r=vr,i=_s;vr=null,va(n,e,t),vr=r,_s=i,vr!==null&&(_s?(n=vr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):vr.removeChild(t.stateNode));break;case 18:vr!==null&&(_s?(n=vr,t=t.stateNode,n.nodeType===8?O1(n.parentNode,t):n.nodeType===1&&O1(n,t),gh(n)):O1(vr,t.stateNode));break;case 4:r=vr,i=_s,vr=t.stateNode.containerInfo,_s=!0,va(n,e,t),vr=r,_s=i;break;case 0:case 11:case 14:case 15:if(!Ir&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&iS(t,e,o),i=i.next}while(i!==r)}va(n,e,t);break;case 1:if(!Ir&&(Sc(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Rn(t,e,a)}va(n,e,t);break;case 21:va(n,e,t);break;case 22:t.mode&1?(Ir=(r=Ir)||t.memoizedState!==null,va(n,e,t),Ir=r):va(n,e,t);break;default:va(n,e,t)}}function n2(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new z5),e.forEach(function(r){var i=Y5.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function ps(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:vr=a.stateNode,_s=!1;break e;case 3:vr=a.stateNode.containerInfo,_s=!0;break e;case 4:vr=a.stateNode.containerInfo,_s=!0;break e}a=a.return}if(vr===null)throw Error(Ne(160));kB(s,o,i),vr=null,_s=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Rn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FB(e,n),e=e.sibling}function FB(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ps(e,n),Js(n),r&4){try{Qd(3,n,n.return),S0(3,n)}catch(x){Rn(n,n.return,x)}try{Qd(5,n,n.return)}catch(x){Rn(n,n.return,x)}}break;case 1:ps(e,n),Js(n),r&512&&t!==null&&Sc(t,t.return);break;case 5:if(ps(e,n),Js(n),r&512&&t!==null&&Sc(t,t.return),n.flags&32){var i=n.stateNode;try{dh(i,"")}catch(x){Rn(n,n.return,x)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&iI(i,s),R_(a,o);var u=R_(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?uI(i,d):c==="dangerouslySetInnerHTML"?aI(i,d):c==="children"?dh(i,d):Jw(i,c,d,u)}switch(a){case"input":A_(i,s);break;case"textarea":sI(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ic(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ic(i,!!s.multiple,s.defaultValue,!0):Ic(i,!!s.multiple,s.multiple?[]:"",!1))}i[Sh]=s}catch(x){Rn(n,n.return,x)}}break;case 6:if(ps(e,n),Js(n),r&4){if(n.stateNode===null)throw Error(Ne(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(x){Rn(n,n.return,x)}}break;case 3:if(ps(e,n),Js(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{gh(e.containerInfo)}catch(x){Rn(n,n.return,x)}break;case 4:ps(e,n),Js(n);break;case 13:ps(e,n),Js(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ab=Nn())),r&4&&n2(n);break;case 22:if(c=t!==null&&t.memoizedState!==null,n.mode&1?(Ir=(u=Ir)||c,ps(e,n),Ir=u):ps(e,n),Js(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!c&&n.mode&1)for(qe=n,c=n.child;c!==null;){for(d=qe=c;qe!==null;){switch(p=qe,g=p.child,p.tag){case 0:case 11:case 14:case 15:Qd(4,p,p.return);break;case 1:Sc(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){Rn(r,t,x)}}break;case 5:Sc(p,p.return);break;case 22:if(p.memoizedState!==null){i2(d);continue}}g!==null?(g.return=p,qe=g):i2(d)}c=c.sibling}e:for(c=null,d=n;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=lI("display",o))}catch(x){Rn(n,n.return,x)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){Rn(n,n.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ps(e,n),Js(n),r&4&&n2(n);break;case 21:break;default:ps(e,n),Js(n)}}function Js(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(OB(t)){var r=t;break e}t=t.return}throw Error(Ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(dh(i,""),r.flags&=-33);var s=t2(n);aS(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=t2(n);oS(n,a,o);break;default:throw Error(Ne(161))}}catch(l){Rn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function G5(n,e,t){qe=n,NB(n)}function NB(n,e,t){for(var r=(n.mode&1)!==0;qe!==null;){var i=qe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Bm;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ir;a=Bm;var u=Ir;if(Bm=o,(Ir=l)&&!u)for(qe=i;qe!==null;)o=qe,l=o.child,o.tag===22&&o.memoizedState!==null?s2(i):l!==null?(l.return=o,qe=l):s2(i);for(;s!==null;)qe=s,NB(s),s=s.sibling;qe=i,Bm=a,Ir=u}r2(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,qe=s):r2(n)}}function r2(n){for(;qe!==null;){var e=qe;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ir||S0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ir)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:xs(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&zC(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}zC(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&gh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}Ir||e.flags&512&&sS(e)}catch(p){Rn(e,e.return,p)}}if(e===n){qe=null;break}if(t=e.sibling,t!==null){t.return=e.return,qe=t;break}qe=e.return}}function i2(n){for(;qe!==null;){var e=qe;if(e===n){qe=null;break}var t=e.sibling;if(t!==null){t.return=e.return,qe=t;break}qe=e.return}}function s2(n){for(;qe!==null;){var e=qe;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{S0(4,e)}catch(l){Rn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Rn(e,i,l)}}var s=e.return;try{sS(e)}catch(l){Rn(e,s,l)}break;case 5:var o=e.return;try{sS(e)}catch(l){Rn(e,o,l)}}}catch(l){Rn(e,e.return,l)}if(e===n){qe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,qe=a;break}qe=e.return}}var V5=Math.ceil,kv=ea.ReactCurrentDispatcher,Mb=ea.ReactCurrentOwner,es=ea.ReactCurrentBatchConfig,Gt=0,dr=null,Kn=null,_r=0,bi=0,wc=tl(0),er=0,Ch=null,tu=0,w0=0,Eb=0,Zd=null,ii=null,Ab=0,Qc=1/0,Lo=null,Fv=!1,lS=null,Va=null,Dm=!1,Ba=null,Nv=0,qd=0,uS=null,Zg=-1,qg=0;function Jr(){return Gt&6?Nn():Zg!==-1?Zg:Zg=Nn()}function ja(n){return n.mode&1?Gt&2&&_r!==0?_r&-_r:A5.transition!==null?(qg===0&&(qg=SI()),qg):(n=nn,n!==0||(n=window.event,n=n===void 0?16:TI(n.type)),n):1}function As(n,e,t,r){if(50<qd)throw qd=0,uS=null,Error(Ne(185));Kh(n,t,r),(!(Gt&2)||n!==dr)&&(n===dr&&(!(Gt&2)&&(w0|=t),er===4&&Ra(n,_r)),di(n,r),t===1&&Gt===0&&!(e.mode&1)&&(Qc=Nn()+500,y0&&nl()))}function di(n,e){var t=n.callbackNode;Az(n,e);var r=Sv(n,n===dr?_r:0);if(r===0)t!==null&&pC(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&pC(t),e===1)n.tag===0?E5(o2.bind(null,n)):JI(o2.bind(null,n)),S5(function(){!(Gt&6)&&nl()}),t=null;else{switch(wI(r)){case 1:t=Zw;break;case 4:t=xI;break;case 16:t=_v;break;case 536870912:t=_I;break;default:t=_v}t=$B(t,UB.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function UB(n,e){if(Zg=-1,qg=0,Gt&6)throw Error(Ne(327));var t=n.callbackNode;if(Fc()&&n.callbackNode!==t)return null;var r=Sv(n,n===dr?_r:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Uv(n,r);else{e=r;var i=Gt;Gt|=2;var s=HB();(dr!==n||_r!==e)&&(Lo=null,Qc=Nn()+500,Vl(n,e));do try{$5();break}catch(a){zB(n,a)}while(1);fb(),kv.current=s,Gt=i,Kn!==null?e=0:(dr=null,_r=0,e=er)}if(e!==0){if(e===2&&(i=k_(n),i!==0&&(r=i,e=cS(n,i))),e===1)throw t=Ch,Vl(n,0),Ra(n,r),di(n,Nn()),t;if(e===6)Ra(n,r);else{if(i=n.current.alternate,!(r&30)&&!j5(i)&&(e=Uv(n,r),e===2&&(s=k_(n),s!==0&&(r=s,e=cS(n,s))),e===1))throw t=Ch,Vl(n,0),Ra(n,r),di(n,Nn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Ne(345));case 2:Al(n,ii,Lo);break;case 3:if(Ra(n,r),(r&130023424)===r&&(e=Ab+500-Nn(),10<e)){if(Sv(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Jr(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=j_(Al.bind(null,n,ii,Lo),e);break}Al(n,ii,Lo);break;case 4:if(Ra(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Es(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Nn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*V5(r/1960))-r,10<r){n.timeoutHandle=j_(Al.bind(null,n,ii,Lo),r);break}Al(n,ii,Lo);break;case 5:Al(n,ii,Lo);break;default:throw Error(Ne(329))}}}return di(n,Nn()),n.callbackNode===t?UB.bind(null,n):null}function cS(n,e){var t=Zd;return n.current.memoizedState.isDehydrated&&(Vl(n,e).flags|=256),n=Uv(n,e),n!==2&&(e=ii,ii=t,e!==null&&fS(e)),n}function fS(n){ii===null?ii=n:ii.push.apply(ii,n)}function j5(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Ts(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ra(n,e){for(e&=~Eb,e&=~w0,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Es(e),r=1<<t;n[t]=-1,e&=~r}}function o2(n){if(Gt&6)throw Error(Ne(327));Fc();var e=Sv(n,0);if(!(e&1))return di(n,Nn()),null;var t=Uv(n,e);if(n.tag!==0&&t===2){var r=k_(n);r!==0&&(e=r,t=cS(n,r))}if(t===1)throw t=Ch,Vl(n,0),Ra(n,e),di(n,Nn()),t;if(t===6)throw Error(Ne(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Al(n,ii,Lo),di(n,Nn()),null}function Cb(n,e){var t=Gt;Gt|=1;try{return n(e)}finally{Gt=t,Gt===0&&(Qc=Nn()+500,y0&&nl())}}function nu(n){Ba!==null&&Ba.tag===0&&!(Gt&6)&&Fc();var e=Gt;Gt|=1;var t=es.transition,r=nn;try{if(es.transition=null,nn=1,n)return n()}finally{nn=r,es.transition=t,Gt=e,!(Gt&6)&&nl()}}function Tb(){bi=wc.current,vn(wc)}function Vl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,_5(t)),Kn!==null)for(t=Kn.return;t!==null;){var r=t;switch(lb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Av();break;case 3:Xc(),vn(ci),vn(Or),vb();break;case 5:gb(r);break;case 4:Xc();break;case 13:vn(Mn);break;case 19:vn(Mn);break;case 10:db(r.type._context);break;case 22:case 23:Tb()}t=t.return}if(dr=n,Kn=n=Wa(n.current,null),_r=bi=e,er=0,Ch=null,Eb=w0=tu=0,ii=Zd=null,Dl!==null){for(e=0;e<Dl.length;e++)if(t=Dl[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Dl=null}return n}function zB(n,e){do{var t=Kn;try{if(fb(),Xg.current=Ov,Dv){for(var r=Cn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Dv=!1}if(eu=0,cr=Zn=Cn=null,Yd=!1,Mh=0,Mb.current=null,t===null||t.return===null){er=1,Ch=e,Kn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=_r,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=JC(o);if(g!==null){g.flags&=-257,KC(g,o,a,s,e),g.mode&1&&$C(s,u,e),e=g,l=u;var y=e.updateQueue;if(y===null){var x=new Set;x.add(l),e.updateQueue=x}else y.add(l);break e}else{if(!(e&1)){$C(s,u,e),Lb();break e}l=Error(Ne(426))}}else if(_n&&a.mode&1){var v=JC(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),KC(v,o,a,s,e),ub(Yc(l,a));break e}}s=l=Yc(l,a),er!==4&&(er=2),Zd===null?Zd=[s]:Zd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=bB(s,l,e);UC(s,m);break e;case 1:a=l;var S=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Va===null||!Va.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=MB(s,a,e);UC(s,M);break e}}s=s.return}while(s!==null)}VB(t)}catch(P){e=P,Kn===t&&t!==null&&(Kn=t=t.return);continue}break}while(1)}function HB(){var n=kv.current;return kv.current=Ov,n===null?Ov:n}function Lb(){(er===0||er===3||er===2)&&(er=4),dr===null||!(tu&268435455)&&!(w0&268435455)||Ra(dr,_r)}function Uv(n,e){var t=Gt;Gt|=2;var r=HB();(dr!==n||_r!==e)&&(Lo=null,Vl(n,e));do try{W5();break}catch(i){zB(n,i)}while(1);if(fb(),Gt=t,kv.current=r,Kn!==null)throw Error(Ne(261));return dr=null,_r=0,er}function W5(){for(;Kn!==null;)GB(Kn)}function $5(){for(;Kn!==null&&!vz();)GB(Kn)}function GB(n){var e=WB(n.alternate,n,bi);n.memoizedProps=n.pendingProps,e===null?VB(n):Kn=e,Mb.current=null}function VB(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=U5(t,e),t!==null){t.flags&=32767,Kn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{er=6,Kn=null;return}}else if(t=N5(t,e,bi),t!==null){Kn=t;return}if(e=e.sibling,e!==null){Kn=e;return}Kn=e=n}while(e!==null);er===0&&(er=5)}function Al(n,e,t){var r=nn,i=es.transition;try{es.transition=null,nn=1,J5(n,e,t,r)}finally{es.transition=i,nn=r}return null}function J5(n,e,t,r){do Fc();while(Ba!==null);if(Gt&6)throw Error(Ne(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ne(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(Cz(n,s),n===dr&&(Kn=dr=null,_r=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Dm||(Dm=!0,$B(_v,function(){return Fc(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=es.transition,es.transition=null;var o=nn;nn=1;var a=Gt;Gt|=4,Mb.current=null,H5(n,t),FB(t,n),h5(G_),wv=!!H_,G_=H_=null,n.current=t,G5(t),yz(),Gt=a,nn=o,es.transition=s}else n.current=t;if(Dm&&(Dm=!1,Ba=n,Nv=i),s=n.pendingLanes,s===0&&(Va=null),Sz(t.stateNode),di(n,Nn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fv)throw Fv=!1,n=lS,lS=null,n;return Nv&1&&n.tag!==0&&Fc(),s=n.pendingLanes,s&1?n===uS?qd++:(qd=0,uS=n):qd=0,nl(),null}function Fc(){if(Ba!==null){var n=wI(Nv),e=es.transition,t=nn;try{if(es.transition=null,nn=16>n?16:n,Ba===null)var r=!1;else{if(n=Ba,Ba=null,Nv=0,Gt&6)throw Error(Ne(331));var i=Gt;for(Gt|=4,qe=n.current;qe!==null;){var s=qe,o=s.child;if(qe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(qe=u;qe!==null;){var c=qe;switch(c.tag){case 0:case 11:case 15:Qd(8,c,s)}var d=c.child;if(d!==null)d.return=c,qe=d;else for(;qe!==null;){c=qe;var p=c.sibling,g=c.return;if(DB(c),c===u){qe=null;break}if(p!==null){p.return=g,qe=p;break}qe=g}}}var y=s.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}qe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,qe=o;else e:for(;qe!==null;){if(s=qe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qd(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,qe=m;break e}qe=s.return}}var S=n.current;for(qe=S;qe!==null;){o=qe;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,qe=_;else e:for(o=S;qe!==null;){if(a=qe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:S0(9,a)}}catch(P){Rn(a,a.return,P)}if(a===o){qe=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,qe=M;break e}qe=a.return}}if(Gt=i,nl(),no&&typeof no.onPostCommitFiberRoot=="function")try{no.onPostCommitFiberRoot(h0,n)}catch{}r=!0}return r}finally{nn=t,es.transition=e}}return!1}function a2(n,e,t){e=Yc(t,e),e=bB(n,e,1),n=Ga(n,e,1),e=Jr(),n!==null&&(Kh(n,1,e),di(n,e))}function Rn(n,e,t){if(n.tag===3)a2(n,n,t);else for(;e!==null;){if(e.tag===3){a2(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Va===null||!Va.has(r))){n=Yc(t,n),n=MB(e,n,1),e=Ga(e,n,1),n=Jr(),e!==null&&(Kh(e,1,n),di(e,n));break}}e=e.return}}function K5(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Jr(),n.pingedLanes|=n.suspendedLanes&t,dr===n&&(_r&t)===t&&(er===4||er===3&&(_r&130023424)===_r&&500>Nn()-Ab?Vl(n,0):Eb|=t),di(n,e)}function jB(n,e){e===0&&(n.mode&1?(e=Mm,Mm<<=1,!(Mm&130023424)&&(Mm=4194304)):e=1);var t=Jr();n=Jo(n,e),n!==null&&(Kh(n,e,t),di(n,t))}function X5(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),jB(n,t)}function Y5(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ne(314))}r!==null&&r.delete(e),jB(n,t)}var WB;WB=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||ci.current)ai=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return ai=!1,F5(n,e,t);ai=!!(n.flags&131072)}else ai=!1,_n&&e.flags&1048576&&KI(e,Lv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qg(n,e),n=e.pendingProps;var i=$c(e,Or.current);kc(e,t),i=xb(null,e,r,n,i,t);var s=_b();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fi(r)?(s=!0,Cv(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pb(e),i.updater=x0,e.stateNode=i,i._reactInternals=e,Q_(e,r,n,t),e=eS(null,e,r,!0,s,t)):(e.tag=0,_n&&s&&ab(e),jr(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Qg(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Z5(r),n=xs(r,n),i){case 0:e=q_(null,e,r,n,t);break e;case 1:e=QC(null,e,r,n,t);break e;case 11:e=XC(null,e,r,n,t);break e;case 14:e=YC(null,e,r,xs(r.type,n),t);break e}throw Error(Ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xs(r,i),q_(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xs(r,i),QC(n,e,r,i,t);case 3:e:{if(TB(e),n===null)throw Error(Ne(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ZI(n,e),Iv(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Yc(Error(Ne(423)),e),e=ZC(n,e,r,t,i);break e}else if(r!==i){i=Yc(Error(Ne(424)),e),e=ZC(n,e,r,t,i);break e}else for(Ei=Ha(e.stateNode.containerInfo.firstChild),Ti=e,_n=!0,ws=null,t=nB(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Jc(),r===i){e=Ko(n,e,t);break e}jr(n,e,r,t)}e=e.child}return e;case 5:return rB(e),n===null&&K_(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,V_(r,i)?o=null:s!==null&&V_(r,s)&&(e.flags|=32),CB(n,e),jr(n,e,o,t),e.child;case 6:return n===null&&K_(e),null;case 13:return LB(n,e,t);case 4:return mb(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Kc(e,null,r,t):jr(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xs(r,i),XC(n,e,r,i,t);case 7:return jr(n,e,e.pendingProps,t),e.child;case 8:return jr(n,e,e.pendingProps.children,t),e.child;case 12:return jr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,fn(Pv,r._currentValue),r._currentValue=o,s!==null)if(Ts(s.value,o)){if(s.children===i.children&&!ci.current){e=Ko(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=No(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),X_(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ne(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),X_(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}jr(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,kc(e,t),i=ts(i),r=r(i),e.flags|=1,jr(n,e,r,t),e.child;case 14:return r=e.type,i=xs(r,e.pendingProps),i=xs(r.type,i),YC(n,e,r,i,t);case 15:return EB(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xs(r,i),Qg(n,e),e.tag=1,fi(r)?(n=!0,Cv(e)):n=!1,kc(e,t),eB(e,r,i),Q_(e,r,i,t),eS(null,e,r,!0,n,t);case 19:return PB(n,e,t);case 22:return AB(n,e,t)}throw Error(Ne(156,e.tag))};function $B(n,e){return yI(n,e)}function Q5(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(n,e,t,r){return new Q5(n,e,t,r)}function Pb(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Z5(n){if(typeof n=="function")return Pb(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Xw)return 11;if(n===Yw)return 14}return 2}function Wa(n,e){var t=n.alternate;return t===null?(t=Qi(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function ev(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")Pb(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case dc:return jl(t.children,i,s,e);case Kw:o=8,i|=8;break;case S_:return n=Qi(12,t,e,i|2),n.elementType=S_,n.lanes=s,n;case w_:return n=Qi(13,t,e,i),n.elementType=w_,n.lanes=s,n;case b_:return n=Qi(19,t,e,i),n.elementType=b_,n.lanes=s,n;case tI:return b0(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case qR:o=10;break e;case eI:o=9;break e;case Xw:o=11;break e;case Yw:o=14;break e;case Aa:o=16,r=null;break e}throw Error(Ne(130,n==null?n:typeof n,""))}return e=Qi(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function jl(n,e,t,r){return n=Qi(7,n,r,e),n.lanes=t,n}function b0(n,e,t,r){return n=Qi(22,n,r,e),n.elementType=tI,n.lanes=t,n.stateNode={isHidden:!1},n}function V1(n,e,t){return n=Qi(6,n,null,e),n.lanes=t,n}function j1(n,e,t){return e=Qi(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function q5(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=M1(0),this.expirationTimes=M1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=M1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Rb(n,e,t,r,i,s,o,a,l){return n=new q5(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qi(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},pb(s),n}function e6(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fc,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function JB(n){if(!n)return Ka;n=n._reactInternals;e:{if(cu(n)!==n||n.tag!==1)throw Error(Ne(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ne(171))}if(n.tag===1){var t=n.type;if(fi(t))return $I(n,t,e)}return e}function KB(n,e,t,r,i,s,o,a,l){return n=Rb(t,r,!0,n,i,s,o,a,l),n.context=JB(null),t=n.current,r=Jr(),i=ja(t),s=No(r,i),s.callback=e??null,Ga(t,s,i),n.current.lanes=i,Kh(n,i,r),di(n,r),n}function M0(n,e,t,r){var i=e.current,s=Jr(),o=ja(i);return t=JB(t),e.context===null?e.context=t:e.pendingContext=t,e=No(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Ga(i,e,o),n!==null&&(As(n,i,o,s),Kg(n,i,o)),o}function zv(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function l2(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Ib(n,e){l2(n,e),(n=n.alternate)&&l2(n,e)}function t6(){return null}var XB=typeof reportError=="function"?reportError:function(n){console.error(n)};function Bb(n){this._internalRoot=n}E0.prototype.render=Bb.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ne(409));M0(n,e,null,null)};E0.prototype.unmount=Bb.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;nu(function(){M0(null,n,null,null)}),e[$o]=null}};function E0(n){this._internalRoot=n}E0.prototype.unstable_scheduleHydration=function(n){if(n){var e=EI();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Pa.length&&e!==0&&e<Pa[t].priority;t++);Pa.splice(t,0,n),t===0&&CI(n)}};function Db(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function A0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function u2(){}function n6(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=zv(o);s.call(u)}}var o=KB(e,r,n,0,null,!1,!1,"",u2);return n._reactRootContainer=o,n[$o]=o.current,xh(n.nodeType===8?n.parentNode:n),nu(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=zv(l);a.call(u)}}var l=Rb(n,0,!1,null,null,!1,!1,"",u2);return n._reactRootContainer=l,n[$o]=l.current,xh(n.nodeType===8?n.parentNode:n),nu(function(){M0(e,l,t,r)}),l}function C0(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=zv(o);a.call(l)}}M0(e,o,n,i)}else o=n6(t,e,n,i,r);return zv(o)}bI=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Ud(e.pendingLanes);t!==0&&(qw(e,t|1),di(e,Nn()),!(Gt&6)&&(Qc=Nn()+500,nl()))}break;case 13:nu(function(){var r=Jo(n,1);if(r!==null){var i=Jr();As(r,n,1,i)}}),Ib(n,1)}};eb=function(n){if(n.tag===13){var e=Jo(n,134217728);if(e!==null){var t=Jr();As(e,n,134217728,t)}Ib(n,134217728)}};MI=function(n){if(n.tag===13){var e=ja(n),t=Jo(n,e);if(t!==null){var r=Jr();As(t,n,e,r)}Ib(n,e)}};EI=function(){return nn};AI=function(n,e){var t=nn;try{return nn=n,e()}finally{nn=t}};B_=function(n,e,t){switch(e){case"input":if(A_(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=v0(r);if(!i)throw Error(Ne(90));rI(r),A_(r,i)}}}break;case"textarea":sI(n,t);break;case"select":e=t.value,e!=null&&Ic(n,!!t.multiple,e,!1)}};dI=Cb;hI=nu;var r6={usingClientEntryPoint:!1,Events:[Yh,gc,v0,cI,fI,Cb]},dd={findFiberByHostInstance:Bl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},i6={bundleType:dd.bundleType,version:dd.version,rendererPackageName:dd.rendererPackageName,rendererConfig:dd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ea.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=gI(n),n===null?null:n.stateNode},findFiberByHostInstance:dd.findFiberByHostInstance||t6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Om=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Om.isDisabled&&Om.supportsFiber)try{h0=Om.inject(i6),no=Om}catch{}}Bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r6;Bi.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Db(e))throw Error(Ne(200));return e6(n,e,null,t)};Bi.createRoot=function(n,e){if(!Db(n))throw Error(Ne(299));var t=!1,r="",i=XB;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Rb(n,1,!1,null,null,t,!1,r,i),n[$o]=e.current,xh(n.nodeType===8?n.parentNode:n),new Bb(e)};Bi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ne(188)):(n=Object.keys(n).join(","),Error(Ne(268,n)));return n=gI(e),n=n===null?null:n.stateNode,n};Bi.flushSync=function(n){return nu(n)};Bi.hydrate=function(n,e,t){if(!A0(e))throw Error(Ne(200));return C0(null,n,e,!0,t)};Bi.hydrateRoot=function(n,e,t){if(!Db(n))throw Error(Ne(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=XB;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=KB(e,null,n,1,t??null,i,!1,s,o),n[$o]=e.current,xh(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new E0(e)};Bi.render=function(n,e,t){if(!A0(e))throw Error(Ne(200));return C0(null,n,e,!1,t)};Bi.unmountComponentAtNode=function(n){if(!A0(n))throw Error(Ne(40));return n._reactRootContainer?(nu(function(){C0(null,null,n,!1,function(){n._reactRootContainer=null,n[$o]=null})}),!0):!1};Bi.unstable_batchedUpdates=Cb;Bi.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!A0(t))throw Error(Ne(200));if(n==null||n._reactInternals===void 0)throw Error(Ne(38));return C0(n,e,t,!1,r)};Bi.version="18.2.0-next-9e3b772b8-20220608";function YB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YB)}catch(n){console.error(n)}}YB(),KR.exports=Bi;var ta=KR.exports;const QB=Rs(ta);var c2=ta;x_.createRoot=c2.createRoot,x_.hydrateRoot=c2.hydrateRoot;/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ut(){return Ut=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ut.apply(this,arguments)}var Wn;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Wn||(Wn={}));const f2="popstate";function s6(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Th("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Xo(i)}return a6(e,t,null,n)}function At(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Zc(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function o6(){return Math.random().toString(36).substr(2,8)}function d2(n,e){return{usr:n.state,key:n.key,idx:e}}function Th(n,e,t,r){return t===void 0&&(t=null),Ut({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?na(e):e,{state:t,key:e&&e.key||r||o6()})}function Xo(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function na(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function a6(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Wn.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Ut({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Wn.Pop;let v=c(),m=v==null?null:v-u;u=v,l&&l({action:a,location:x.location,delta:m})}function p(v,m){a=Wn.Push;let S=Th(x.location,v,m);t&&t(S,v),u=c()+1;let _=d2(S,u),M=x.createHref(S);try{o.pushState(_,"",M)}catch{i.location.assign(M)}s&&l&&l({action:a,location:x.location,delta:1})}function g(v,m){a=Wn.Replace;let S=Th(x.location,v,m);t&&t(S,v),u=c();let _=d2(S,u),M=x.createHref(S);o.replaceState(_,"",M),s&&l&&l({action:a,location:x.location,delta:0})}function y(v){let m=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof v=="string"?v:Xo(v);return At(m,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,m)}let x={get action(){return a},get location(){return n(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(f2,d),l=v,()=>{i.removeEventListener(f2,d),l=null}},createHref(v){return e(i,v)},createURL:y,encodeLocation(v){let m=y(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:p,replace:g,go(v){return o.go(v)}};return x}var Qn;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Qn||(Qn={}));const l6=new Set(["lazy","caseSensitive","path","id","index","children"]);function u6(n){return n.index===!0}function ZB(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((i,s)=>{let o=[...t,s],a=typeof i.id=="string"?i.id:o.join("-");if(At(i.index!==!0||!i.children,"Cannot specify children on an index route"),At(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),u6(i)){let l=Ut({},i,{hasErrorBoundary:e(i),id:a});return r[a]=l,l}else{let l=Ut({},i,{id:a,hasErrorBoundary:e(i),children:void 0});return r[a]=l,i.children&&(l.children=ZB(i.children,e,o,r)),l}})}function bc(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?na(e):e,i=Zh(r.pathname||"/",t);if(i==null)return null;let s=qB(n);c6(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=x6(s[a],w6(i));return o}function qB(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(At(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Uo([r,l.relativePath]),c=t.concat(l);s.children&&s.children.length>0&&(At(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),qB(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:v6(u,s.index),routesMeta:c})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of eD(s.path))i(s,o,l)}),e}function eD(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=eD(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function c6(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:y6(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const f6=/^:\w+$/,d6=3,h6=2,p6=1,m6=10,g6=-2,h2=n=>n==="*";function v6(n,e){let t=n.split("/"),r=t.length;return t.some(h2)&&(r+=g6),e&&(r+=h6),t.filter(i=>!h2(i)).reduce((i,s)=>i+(f6.test(s)?d6:s===""?p6:m6),r)}function y6(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function x6(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=_6({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:Uo([i,c.pathname]),pathnameBase:A6(Uo([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Uo([i,c.pathnameBase]))}return s}function _6(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=S6(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let p=a[d]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return u[c]=b6(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:n}}function S6(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Zc(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return n.endsWith("*")?(r.push("*"),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function w6(n){try{return decodeURI(n)}catch(e){return Zc(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function b6(n,e){try{return decodeURIComponent(n)}catch(t){return Zc(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function Zh(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function M6(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?na(n):n;return{pathname:t?t.startsWith("/")?t:E6(t,e):e,search:C6(r),hash:T6(i)}}function E6(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function W1(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function T0(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ob(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=na(n):(i=Ut({},n),At(!i.pathname||!i.pathname.includes("?"),W1("?","pathname","search",i)),At(!i.pathname||!i.pathname.includes("#"),W1("#","pathname","hash",i)),At(!i.search||!i.search.includes("#"),W1("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=t;else{let d=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=M6(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Uo=n=>n.join("/").replace(/\/\/+/g,"/"),A6=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),C6=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,T6=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class kb{constructor(e,t,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Fb(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const tD=["post","put","patch","delete"],L6=new Set(tD),P6=["get",...tD],R6=new Set(P6),I6=new Set([301,302,303,307,308]),B6=new Set([307,308]),$1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},D6={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},p2={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},nD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",O6=!rD,k6=n=>!!n.hasErrorBoundary;function F6(n){At(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=n.detectErrorBoundary||k6,t={},r=ZB(n.routes,e,void 0,t),i,s=Ut({v7_normalizeFormMethod:!1},n.future),o=null,a=new Set,l=null,u=null,c=null,d=n.hydrationData!=null,p=bc(r,n.history.location,n.basename),g=null;if(p==null){let ue=Qs(404,{pathname:n.history.location.pathname}),{matches:ee,route:me}=S2(r);p=ee,g={[me.id]:ue}}let y=!p.some(ue=>ue.route.lazy)&&(!p.some(ue=>ue.route.loader)||n.hydrationData!=null),x,v={historyAction:n.history.action,location:n.history.location,matches:p,initialized:y,navigation:$1,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||g,fetchers:new Map,blockers:new Map},m=Wn.Pop,S=!1,_,M=!1,P=!1,C=[],R=[],T=new Map,E=0,A=-1,B=new Map,D=new Set,U=new Map,H=new Map,j=new Map,$=!1;function Z(){return o=n.history.listen(ue=>{let{action:ee,location:me,delta:Ee}=ue;if($){$=!1;return}Zc(j.size===0||Ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Le=z({currentLocation:v.location,nextLocation:me,historyAction:ee});if(Le&&Ee!=null){$=!0,n.history.go(Ee*-1),J(Le,{state:"blocked",location:me,proceed(){J(Le,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),n.history.go(Ee)},reset(){et(Le),V({blockers:new Map(x.state.blockers)})}});return}return q(ee,me)}),v.initialized||q(Wn.Pop,v.location),x}function k(){o&&o(),a.clear(),_&&_.abort(),v.fetchers.forEach((ue,ee)=>Re(ee)),v.blockers.forEach((ue,ee)=>et(ee))}function W(ue){return a.add(ue),()=>a.delete(ue)}function V(ue){v=Ut({},v,ue),a.forEach(ee=>ee(v))}function ce(ue,ee){var me,Ee;let Le=v.actionData!=null&&v.navigation.formMethod!=null&&Po(v.navigation.formMethod)&&v.navigation.state==="loading"&&((me=ue.state)==null?void 0:me._isRedirect)!==!0,Ae;ee.actionData?Object.keys(ee.actionData).length>0?Ae=ee.actionData:Ae=null:Le?Ae=v.actionData:Ae=null;let De=ee.loaderData?_2(v.loaderData,ee.loaderData,ee.matches||[],ee.errors):v.loaderData;for(let[ze]of j)et(ze);let Ue=S===!0||v.navigation.formMethod!=null&&Po(v.navigation.formMethod)&&((Ee=ue.state)==null?void 0:Ee._isRedirect)!==!0;i&&(r=i,i=void 0),V(Ut({},ee,{actionData:Ae,loaderData:De,historyAction:m,location:ue,initialized:!0,navigation:$1,revalidation:"idle",restoreScrollPosition:ke(ue,ee.matches||v.matches),preventScrollReset:Ue,blockers:new Map(v.blockers)})),M||m===Wn.Pop||(m===Wn.Push?n.history.push(ue,ue.state):m===Wn.Replace&&n.history.replace(ue,ue.state)),m=Wn.Pop,S=!1,M=!1,P=!1,C=[],R=[]}async function oe(ue,ee){if(typeof ue=="number"){n.history.go(ue);return}let{path:me,submission:Ee,error:Le}=m2(ue,s,ee),Ae=v.location,De=Th(v.location,me,ee&&ee.state);De=Ut({},De,n.history.encodeLocation(De));let Ue=ee&&ee.replace!=null?ee.replace:void 0,ze=Wn.Push;Ue===!0?ze=Wn.Replace:Ue===!1||Ee!=null&&Po(Ee.formMethod)&&Ee.formAction===v.location.pathname+v.location.search&&(ze=Wn.Replace);let ot=ee&&"preventScrollReset"in ee?ee.preventScrollReset===!0:void 0,ie=z({currentLocation:Ae,nextLocation:De,historyAction:ze});if(ie){J(ie,{state:"blocked",location:De,proceed(){J(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:De}),oe(ue,ee)},reset(){et(ie),V({blockers:new Map(v.blockers)})}});return}return await q(ze,De,{submission:Ee,pendingError:Le,preventScrollReset:ot,replace:ee&&ee.replace})}function re(){if(te(),V({revalidation:"loading"}),v.navigation.state!=="submitting"){if(v.navigation.state==="idle"){q(v.historyAction,v.location,{startUninterruptedRevalidation:!0});return}q(m||v.historyAction,v.navigation.location,{overrideNavigation:v.navigation})}}async function q(ue,ee,me){_&&_.abort(),_=null,m=ue,M=(me&&me.startUninterruptedRevalidation)===!0,Be(v.location,v.matches),S=(me&&me.preventScrollReset)===!0;let Ee=i||r,Le=me&&me.overrideNavigation,Ae=bc(Ee,ee,n.basename);if(!Ae){let Pe=Qs(404,{pathname:ee.pathname}),{matches:Fe,route:Xe}=S2(Ee);fe(),ce(ee,{matches:Fe,loaderData:{},errors:{[Xe.id]:Pe}});return}if(G6(v.location,ee)&&!(me&&me.submission&&Po(me.submission.formMethod))){ce(ee,{matches:Ae});return}_=new AbortController;let De=pd(n.history,ee,_.signal,me&&me.submission),Ue,ze;if(me&&me.pendingError)ze={[Mc(Ae).route.id]:me.pendingError};else if(me&&me.submission&&Po(me.submission.formMethod)){let Pe=await we(De,ee,me.submission,Ae,{replace:me.replace});if(Pe.shortCircuited)return;Ue=Pe.pendingActionData,ze=Pe.pendingActionError,Le=Ut({state:"loading",location:ee},me.submission),De=new Request(De.url,{signal:De.signal})}let{shortCircuited:ot,loaderData:ie,errors:_e}=await xe(De,ee,Ae,Le,me&&me.submission,me&&me.fetcherSubmission,me&&me.replace,Ue,ze);ot||(_=null,ce(ee,Ut({matches:Ae},Ue?{actionData:Ue}:{},{loaderData:ie,errors:_e})))}async function we(ue,ee,me,Ee,Le){te();let Ae=Ut({state:"submitting",location:ee},me);V({navigation:Ae});let De,Ue=dS(Ee,ee);if(!Ue.route.action&&!Ue.route.lazy)De={type:Qn.error,error:Qs(405,{method:ue.method,pathname:ee.pathname,routeId:Ue.route.id})};else if(De=await hd("action",ue,Ue,Ee,t,e,x.basename),ue.signal.aborted)return{shortCircuited:!0};if(Nc(De)){let ze;return Le&&Le.replace!=null?ze=Le.replace:ze=De.location===v.location.pathname+v.location.search,await Y(v,De,{submission:me,replace:ze}),{shortCircuited:!0}}if(eh(De)){let ze=Mc(Ee,Ue.route.id);return(Le&&Le.replace)!==!0&&(m=Wn.Push),{pendingActionData:{},pendingActionError:{[ze.route.id]:De.error}}}if(kl(De))throw Qs(400,{type:"defer-action"});return{pendingActionData:{[Ue.route.id]:De.data}}}async function xe(ue,ee,me,Ee,Le,Ae,De,Ue,ze){let ot=Ee;ot||(ot=Ut({state:"loading",location:ee,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Le));let ie=Le||Ae?Le||Ae:ot.formMethod&&ot.formAction&&ot.formData&&ot.formEncType?{formMethod:ot.formMethod,formAction:ot.formAction,formData:ot.formData,formEncType:ot.formEncType}:void 0,_e=i||r,[Pe,Fe]=g2(n.history,v,me,ie,ee,P,C,R,U,_e,n.basename,Ue,ze);if(fe(Ye=>!(me&&me.some(sr=>sr.route.id===Ye))||Pe&&Pe.some(sr=>sr.route.id===Ye)),Pe.length===0&&Fe.length===0)return ce(ee,Ut({matches:me,loaderData:{},errors:ze||null},Ue?{actionData:Ue}:{})),{shortCircuited:!0};if(!M){Fe.forEach(sr=>{let ki=v.fetchers.get(sr.key),Us={state:"loading",data:ki&&ki.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(sr.key,Us)});let Ye=Ue||v.actionData;V(Ut({navigation:ot},Ye?Object.keys(Ye).length===0?{actionData:null}:{actionData:Ye}:{},Fe.length>0?{fetchers:new Map(v.fetchers)}:{}))}A=++E,Fe.forEach(Ye=>T.set(Ye.key,_));let{results:Xe,loaderResults:Ct,fetcherResults:Ht}=await ae(v.matches,me,Pe,Fe,ue);if(ue.signal.aborted)return{shortCircuited:!0};Fe.forEach(Ye=>T.delete(Ye.key));let en=w2(Xe);if(en)return await Y(v,en,{replace:De}),{shortCircuited:!0};let{loaderData:On,errors:Qt}=x2(v,me,Pe,Ct,ze,Fe,Ht,H);H.forEach((Ye,sr)=>{Ye.subscribe(ki=>{(ki||Ye.done)&&H.delete(sr)})}),Ke();let hn=We(A);return Ut({loaderData:On,errors:Qt},hn||Fe.length>0?{fetchers:new Map(v.fetchers)}:{})}function se(ue){return v.fetchers.get(ue)||D6}function pe(ue,ee,me,Ee){if(O6)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");T.has(ue)&&Ie(ue);let Ae=bc(i||r,me,n.basename);if(!Ae){le(ue,ee,Qs(404,{pathname:me}));return}let{path:De,submission:Ue}=m2(me,s,Ee,!0),ze=dS(Ae,De);if(S=(Ee&&Ee.preventScrollReset)===!0,Ue&&Po(Ue.formMethod)){N(ue,ee,De,ze,Ae,Ue);return}U.set(ue,{routeId:ee,path:De}),G(ue,ee,De,ze,Ae,Ue)}async function N(ue,ee,me,Ee,Le,Ae){if(te(),U.delete(ue),!Ee.route.action&&!Ee.route.lazy){let K=Qs(405,{method:Ae.formMethod,pathname:me,routeId:ee});le(ue,ee,K);return}let De=v.fetchers.get(ue),Ue=Ut({state:"submitting"},Ae,{data:De&&De.data," _hasFetcherDoneAnything ":!0});v.fetchers.set(ue,Ue),V({fetchers:new Map(v.fetchers)});let ze=new AbortController,ot=pd(n.history,me,ze.signal,Ae);T.set(ue,ze);let ie=await hd("action",ot,Ee,Le,t,e,x.basename);if(ot.signal.aborted){T.get(ue)===ze&&T.delete(ue);return}if(Nc(ie)){T.delete(ue),D.add(ue);let K=Ut({state:"loading"},Ae,{data:void 0," _hasFetcherDoneAnything ":!0});return v.fetchers.set(ue,K),V({fetchers:new Map(v.fetchers)}),Y(v,ie,{submission:Ae,isFetchActionRedirect:!0})}if(eh(ie)){le(ue,ee,ie.error);return}if(kl(ie))throw Qs(400,{type:"defer-action"});let _e=v.navigation.location||v.location,Pe=pd(n.history,_e,ze.signal),Fe=i||r,Xe=v.navigation.state!=="idle"?bc(Fe,v.navigation.location,n.basename):v.matches;At(Xe,"Didn't find any matches after fetcher action");let Ct=++E;B.set(ue,Ct);let Ht=Ut({state:"loading",data:ie.data},Ae,{" _hasFetcherDoneAnything ":!0});v.fetchers.set(ue,Ht);let[en,On]=g2(n.history,v,Xe,Ae,_e,P,C,R,U,Fe,n.basename,{[Ee.route.id]:ie.data},void 0);On.filter(K=>K.key!==ue).forEach(K=>{let ve=K.key,Me=v.fetchers.get(ve),ge={state:"loading",data:Me&&Me.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(ve,ge),T.set(ve,ze)}),V({fetchers:new Map(v.fetchers)});let{results:Qt,loaderResults:hn,fetcherResults:Ye}=await ae(v.matches,Xe,en,On,Pe);if(ze.signal.aborted)return;B.delete(ue),T.delete(ue),On.forEach(K=>T.delete(K.key));let sr=w2(Qt);if(sr)return Y(v,sr);let{loaderData:ki,errors:Us}=x2(v,v.matches,en,hn,void 0,On,Ye,H),sl={state:"idle",data:ie.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(ue,sl);let Uf=We(Ct);v.navigation.state==="loading"&&Ct>A?(At(m,"Expected pending action"),_&&_.abort(),ce(v.navigation.location,{matches:Xe,loaderData:ki,errors:Us,fetchers:new Map(v.fetchers)})):(V(Ut({errors:Us,loaderData:_2(v.loaderData,ki,Xe,Us)},Uf?{fetchers:new Map(v.fetchers)}:{})),P=!1)}async function G(ue,ee,me,Ee,Le,Ae){let De=v.fetchers.get(ue),Ue=Ut({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Ae,{data:De&&De.data," _hasFetcherDoneAnything ":!0});v.fetchers.set(ue,Ue),V({fetchers:new Map(v.fetchers)});let ze=new AbortController,ot=pd(n.history,me,ze.signal);T.set(ue,ze);let ie=await hd("loader",ot,Ee,Le,t,e,x.basename);if(kl(ie)&&(ie=await aD(ie,ot.signal,!0)||ie),T.get(ue)===ze&&T.delete(ue),ot.signal.aborted)return;if(Nc(ie)){await Y(v,ie);return}if(eh(ie)){let Pe=Mc(v.matches,ee);v.fetchers.delete(ue),V({fetchers:new Map(v.fetchers),errors:{[Pe.route.id]:ie.error}});return}At(!kl(ie),"Unhandled fetcher deferred data");let _e={state:"idle",data:ie.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(ue,_e),V({fetchers:new Map(v.fetchers)})}async function Y(ue,ee,me){var Ee;let{submission:Le,replace:Ae,isFetchActionRedirect:De}=me===void 0?{}:me;ee.revalidate&&(P=!0);let Ue=Th(ue.location,ee.location,Ut({_isRedirect:!0},De?{_isFetchActionRedirect:!0}:{}));if(At(Ue,"Expected a location on the redirect navigation"),nD.test(ee.location)&&rD&&typeof((Ee=window)==null?void 0:Ee.location)<"u"){let Fe=n.history.createURL(ee.location),Xe=Zh(Fe.pathname,n.basename||"/")==null;if(window.location.origin!==Fe.origin||Xe){Ae?window.location.replace(ee.location):window.location.assign(ee.location);return}}_=null;let ze=Ae===!0?Wn.Replace:Wn.Push,{formMethod:ot,formAction:ie,formEncType:_e,formData:Pe}=ue.navigation;!Le&&ot&&ie&&Pe&&_e&&(Le={formMethod:ot,formAction:ie,formEncType:_e,formData:Pe}),B6.has(ee.status)&&Le&&Po(Le.formMethod)?await q(ze,Ue,{submission:Ut({},Le,{formAction:ee.location}),preventScrollReset:S}):De?await q(ze,Ue,{overrideNavigation:{state:"loading",location:Ue,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:Le,preventScrollReset:S}):await q(ze,Ue,{overrideNavigation:{state:"loading",location:Ue,formMethod:Le?Le.formMethod:void 0,formAction:Le?Le.formAction:void 0,formEncType:Le?Le.formEncType:void 0,formData:Le?Le.formData:void 0},preventScrollReset:S})}async function ae(ue,ee,me,Ee,Le){let Ae=await Promise.all([...me.map(ze=>hd("loader",Le,ze,ee,t,e,x.basename)),...Ee.map(ze=>ze.matches&&ze.match?hd("loader",pd(n.history,ze.path,Le.signal),ze.match,ze.matches,t,e,x.basename):{type:Qn.error,error:Qs(404,{pathname:ze.path})})]),De=Ae.slice(0,me.length),Ue=Ae.slice(me.length);return await Promise.all([b2(ue,me,De,Le.signal,!1,v.loaderData),b2(ue,Ee.map(ze=>ze.match),Ue,Le.signal,!0)]),{results:Ae,loaderResults:De,fetcherResults:Ue}}function te(){P=!0,C.push(...fe()),U.forEach((ue,ee)=>{T.has(ee)&&(R.push(ee),Ie(ee))})}function le(ue,ee,me){let Ee=Mc(v.matches,ee);Re(ue),V({errors:{[Ee.route.id]:me},fetchers:new Map(v.fetchers)})}function Re(ue){T.has(ue)&&Ie(ue),U.delete(ue),B.delete(ue),D.delete(ue),v.fetchers.delete(ue)}function Ie(ue){let ee=T.get(ue);At(ee,"Expected fetch controller: "+ue),ee.abort(),T.delete(ue)}function Ve(ue){for(let ee of ue){let Ee={state:"idle",data:se(ee).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(ee,Ee)}}function Ke(){let ue=[];for(let ee of D){let me=v.fetchers.get(ee);At(me,"Expected fetcher: "+ee),me.state==="loading"&&(D.delete(ee),ue.push(ee))}Ve(ue)}function We(ue){let ee=[];for(let[me,Ee]of B)if(Ee<ue){let Le=v.fetchers.get(me);At(Le,"Expected fetcher: "+me),Le.state==="loading"&&(Ie(me),B.delete(me),ee.push(me))}return Ve(ee),ee.length>0}function Ze(ue,ee){let me=v.blockers.get(ue)||p2;return j.get(ue)!==ee&&j.set(ue,ee),me}function et(ue){v.blockers.delete(ue),j.delete(ue)}function J(ue,ee){let me=v.blockers.get(ue)||p2;At(me.state==="unblocked"&&ee.state==="blocked"||me.state==="blocked"&&ee.state==="blocked"||me.state==="blocked"&&ee.state==="proceeding"||me.state==="blocked"&&ee.state==="unblocked"||me.state==="proceeding"&&ee.state==="unblocked","Invalid blocker state transition: "+me.state+" -> "+ee.state),v.blockers.set(ue,ee),V({blockers:new Map(v.blockers)})}function z(ue){let{currentLocation:ee,nextLocation:me,historyAction:Ee}=ue;if(j.size===0)return;j.size>1&&Zc(!1,"A router only supports one blocker at a time");let Le=Array.from(j.entries()),[Ae,De]=Le[Le.length-1],Ue=v.blockers.get(Ae);if(!(Ue&&Ue.state==="proceeding")&&De({currentLocation:ee,nextLocation:me,historyAction:Ee}))return Ae}function fe(ue){let ee=[];return H.forEach((me,Ee)=>{(!ue||ue(Ee))&&(me.cancel(),ee.push(Ee),H.delete(Ee))}),ee}function Ce(ue,ee,me){if(l=ue,c=ee,u=me||(Ee=>Ee.key),!d&&v.navigation===$1){d=!0;let Ee=ke(v.location,v.matches);Ee!=null&&V({restoreScrollPosition:Ee})}return()=>{l=null,c=null,u=null}}function Be(ue,ee){if(l&&u&&c){let me=ee.map(Le=>M2(Le,v.loaderData)),Ee=u(ue,me)||ue.key;l[Ee]=c()}}function ke(ue,ee){if(l&&u&&c){let me=ee.map(Ae=>M2(Ae,v.loaderData)),Ee=u(ue,me)||ue.key,Le=l[Ee];if(typeof Le=="number")return Le}return null}function rt(ue){i=ue}return x={get basename(){return n.basename},get state(){return v},get routes(){return r},initialize:Z,subscribe:W,enableScrollRestoration:Ce,navigate:oe,fetch:pe,revalidate:re,createHref:ue=>n.history.createHref(ue),encodeLocation:ue=>n.history.encodeLocation(ue),getFetcher:se,deleteFetcher:Re,dispose:k,getBlocker:Ze,deleteBlocker:et,_internalFetchControllers:T,_internalActiveDeferreds:H,_internalSetRoutes:rt},x}function N6(n){return n!=null&&"formData"in n}function m2(n,e,t,r){r===void 0&&(r=!1);let i=typeof n=="string"?n:Xo(n);if(!t||!N6(t))return{path:i};if(t.formMethod&&!W6(t.formMethod))return{path:i,error:Qs(405,{method:t.formMethod})};let s;if(t.formData){let l=t.formMethod||"get";if(s={formMethod:e.v7_normalizeFormMethod?l.toUpperCase():l.toLowerCase(),formAction:oD(i),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData},Po(s.formMethod))return{path:i,submission:s}}let o=na(i),a=sD(t.formData);return r&&o.search&&lD(o.search)&&a.append("index",""),o.search="?"+a,{path:Xo(o),submission:s}}function U6(n,e){let t=n;if(e){let r=n.findIndex(i=>i.route.id===e);r>=0&&(t=n.slice(0,r))}return t}function g2(n,e,t,r,i,s,o,a,l,u,c,d,p){let g=p?Object.values(p)[0]:d?Object.values(d)[0]:void 0,y=n.createURL(e.location),x=n.createURL(i),v=s||y.toString()===x.toString()||y.search!==x.search,m=p?Object.keys(p)[0]:void 0,_=U6(t,m).filter((P,C)=>{if(P.route.lazy)return!0;if(P.route.loader==null)return!1;if(z6(e.loaderData,e.matches[C],P)||o.some(E=>E===P.route.id))return!0;let R=e.matches[C],T=P;return v2(P,Ut({currentUrl:y,currentParams:R.params,nextUrl:x,nextParams:T.params},r,{actionResult:g,defaultShouldRevalidate:v||iD(R,T)}))}),M=[];return l.forEach((P,C)=>{if(!t.some(A=>A.route.id===P.routeId))return;let R=bc(u,P.path,c);if(!R){M.push(Ut({key:C},P,{matches:null,match:null}));return}let T=dS(R,P.path);if(a.includes(C)){M.push(Ut({key:C,matches:R,match:T},P));return}v2(T,Ut({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:x,nextParams:t[t.length-1].params},r,{actionResult:g,defaultShouldRevalidate:v}))&&M.push(Ut({key:C,matches:R,match:T},P))}),[_,M]}function z6(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function iD(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function v2(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}async function y2(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let i=t[n.id];At(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Zc(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!l6.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,{hasErrorBoundary:e(Ut({},i)),lazy:void 0})}async function hd(n,e,t,r,i,s,o,a,l,u){o===void 0&&(o="/"),a===void 0&&(a=!1),l===void 0&&(l=!1);let c,d,p,g=v=>{let m,S=new Promise((_,M)=>m=M);return p=()=>m(),e.signal.addEventListener("abort",p),Promise.race([v({request:e,params:t.params,context:u}),S])};try{let v=t.route[n];if(t.route.lazy)if(v)d=(await Promise.all([g(v),y2(t.route,s,i)]))[0];else if(await y2(t.route,s,i),v=t.route[n],v)d=await g(v);else{if(n==="action")throw Qs(405,{method:e.method,pathname:new URL(e.url).pathname,routeId:t.route.id});return{type:Qn.data,data:void 0}}else At(v,"Could not find the "+n+' to run on the "'+t.route.id+'" route'),d=await g(v);At(d!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(v){c=Qn.error,d=v}finally{p&&e.signal.removeEventListener("abort",p)}if(j6(d)){let v=d.status;if(I6.has(v)){let _=d.headers.get("Location");if(At(_,"Redirects returned/thrown from loaders/actions must have a Location header"),nD.test(_)){if(!a){let M=new URL(e.url),P=_.startsWith("//")?new URL(M.protocol+_):new URL(_),C=Zh(P.pathname,o)!=null;P.origin===M.origin&&C&&(_=P.pathname+P.search+P.hash)}}else{let M=r.slice(0,r.indexOf(t)+1),P=T0(M).map(R=>R.pathnameBase),C=Ob(_,P,new URL(e.url).pathname);if(At(Xo(C),"Unable to resolve redirect location: "+_),o){let R=C.pathname;C.pathname=R==="/"?o:Uo([o,R])}_=Xo(C)}if(a)throw d.headers.set("Location",_),d;return{type:Qn.redirect,status:v,location:_,revalidate:d.headers.get("X-Remix-Revalidate")!==null}}if(l)throw{type:c||Qn.data,response:d};let m,S=d.headers.get("Content-Type");return S&&/\bapplication\/json\b/.test(S)?m=await d.json():m=await d.text(),c===Qn.error?{type:c,error:new kb(v,d.statusText,m),headers:d.headers}:{type:Qn.data,data:m,statusCode:d.status,headers:d.headers}}if(c===Qn.error)return{type:c,error:d};if(V6(d)){var y,x;return{type:Qn.deferred,deferredData:d,statusCode:(y=d.init)==null?void 0:y.status,headers:((x=d.init)==null?void 0:x.headers)&&new Headers(d.init.headers)}}return{type:Qn.data,data:d}}function pd(n,e,t,r){let i=n.createURL(oD(e)).toString(),s={signal:t};if(r&&Po(r.formMethod)){let{formMethod:o,formEncType:a,formData:l}=r;s.method=o.toUpperCase(),s.body=a==="application/x-www-form-urlencoded"?sD(l):l}return new Request(i,s)}function sD(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,r instanceof File?r.name:r);return e}function H6(n,e,t,r,i){let s={},o=null,a,l=!1,u={};return t.forEach((c,d)=>{let p=e[d].route.id;if(At(!Nc(c),"Cannot handle redirect results in processLoaderData"),eh(c)){let g=Mc(n,p),y=c.error;r&&(y=Object.values(r)[0],r=void 0),o=o||{},o[g.route.id]==null&&(o[g.route.id]=y),s[p]=void 0,l||(l=!0,a=Fb(c.error)?c.error.status:500),c.headers&&(u[p]=c.headers)}else kl(c)?(i.set(p,c.deferredData),s[p]=c.deferredData.data):s[p]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[p]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function x2(n,e,t,r,i,s,o,a){let{loaderData:l,errors:u}=H6(e,t,r,i,a);for(let c=0;c<s.length;c++){let{key:d,match:p}=s[c];At(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let g=o[c];if(eh(g)){let y=Mc(n.matches,p==null?void 0:p.route.id);u&&u[y.route.id]||(u=Ut({},u,{[y.route.id]:g.error})),n.fetchers.delete(d)}else if(Nc(g))At(!1,"Unhandled fetcher revalidation redirect");else if(kl(g))At(!1,"Unhandled fetcher deferred data");else{let y={state:"idle",data:g.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};n.fetchers.set(d,y)}}return{loaderData:l,errors:u}}function _2(n,e,t,r){let i=Ut({},e);for(let s of t){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):n[o]!==void 0&&s.route.loader&&(i[o]=n[o]),r&&r.hasOwnProperty(o))break}return i}function Mc(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function S2(n){let e=n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Qs(n,e){let{pathname:t,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return n===400?(o="Bad Request",i&&t&&r?a="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"&&(a="defer() is not supported in actions")):n===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+t+'"'):n===404?(o="Not Found",a='No route matches URL "'+t+'"'):n===405&&(o="Method Not Allowed",i&&t&&r?a="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new kb(n||500,o,new Error(a),!0)}function w2(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(Nc(t))return t}}function oD(n){let e=typeof n=="string"?na(n):n;return Xo(Ut({},e,{hash:""}))}function G6(n,e){return n.pathname===e.pathname&&n.search===e.search&&n.hash!==e.hash}function kl(n){return n.type===Qn.deferred}function eh(n){return n.type===Qn.error}function Nc(n){return(n&&n.type)===Qn.redirect}function V6(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function j6(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function W6(n){return R6.has(n.toLowerCase())}function Po(n){return L6.has(n.toLowerCase())}async function b2(n,e,t,r,i,s){for(let o=0;o<t.length;o++){let a=t[o],l=e[o];if(!l)continue;let u=n.find(d=>d.route.id===l.route.id),c=u!=null&&!iD(u,l)&&(s&&s[l.route.id])!==void 0;kl(a)&&(i||c)&&await aD(a,r,i).then(d=>{d&&(t[o]=d||t[o])})}}async function aD(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Qn.data,data:n.deferredData.unwrappedData}}catch(i){return{type:Qn.error,error:i}}return{type:Qn.data,data:n.deferredData.data}}}function lD(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function M2(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function dS(n,e){let t=typeof e=="string"?na(e).search:e.search;if(n[n.length-1].route.index&&lD(t||""))return n[n.length-1];let r=T0(n);return r[r.length-1]}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $6(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}const J6=typeof Object.is=="function"?Object.is:$6,{useState:K6,useEffect:X6,useLayoutEffect:Y6,useDebugValue:Q6}=jc;function Z6(n,e,t){const r=e(),[{inst:i},s]=K6({inst:{value:r,getSnapshot:e}});return Y6(()=>{i.value=r,i.getSnapshot=e,J1(i)&&s({inst:i})},[n,r,e]),X6(()=>(J1(i)&&s({inst:i}),n(()=>{J1(i)&&s({inst:i})})),[n]),Q6(r),r}function J1(n){const e=n.getSnapshot,t=n.value;try{const r=e();return!J6(t,r)}catch{return!0}}function q6(n,e,t){return e()}const e8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",t8=!e8,n8=t8?q6:Z6,r8="useSyncExternalStore"in jc?(n=>n.useSyncExternalStore)(jc):n8,Nb=w.createContext(null),L0=w.createContext(null),qh=w.createContext(null),P0=w.createContext(null),fu=w.createContext({outlet:null,matches:[]}),uD=w.createContext(null);function hS(){return hS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},hS.apply(this,arguments)}function i8(n,e){let{relative:t}=e===void 0?{}:e;gf()||At(!1);let{basename:r,navigator:i}=w.useContext(qh),{hash:s,pathname:o,search:a}=fD(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:Uo([r,o])),i.createHref({pathname:l,search:a,hash:s})}function gf(){return w.useContext(P0)!=null}function R0(){return gf()||At(!1),w.useContext(P0).location}function cD(){gf()||At(!1);let{basename:n,navigator:e}=w.useContext(qh),{matches:t}=w.useContext(fu),{pathname:r}=R0(),i=JSON.stringify(T0(t).map(a=>a.pathnameBase)),s=w.useRef(!1);return w.useEffect(()=>{s.current=!0}),w.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=Ob(a,JSON.parse(i),r,l.relative==="path");n!=="/"&&(u.pathname=u.pathname==="/"?n:Uo([n,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[n,e,i,r])}const s8=w.createContext(null);function Ub(n){let e=w.useContext(fu).outlet;return e&&w.createElement(s8.Provider,{value:n},e)}function fD(n,e){let{relative:t}=e===void 0?{}:e,{matches:r}=w.useContext(fu),{pathname:i}=R0(),s=JSON.stringify(T0(r).map(o=>o.pathnameBase));return w.useMemo(()=>Ob(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function o8(n,e){gf()||At(!1);let{navigator:t}=w.useContext(qh),r=w.useContext(L0),{matches:i}=w.useContext(fu),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=R0(),u;if(e){var c;let x=typeof e=="string"?na(e):e;a==="/"||(c=x.pathname)!=null&&c.startsWith(a)||At(!1),u=x}else u=l;let d=u.pathname||"/",p=a==="/"?d:d.slice(a.length)||"/",g=bc(n,{pathname:p}),y=c8(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Uo([a,t.encodeLocation?t.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?a:Uo([a,t.encodeLocation?t.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r||void 0);return e&&y?w.createElement(P0.Provider,{value:{location:hS({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Wn.Pop}},y):y}function a8(){let n=dD(),e=Fb(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:i},t):null,s)}class l8 extends w.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?w.createElement(fu.Provider,{value:this.props.routeContext},w.createElement(uD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function u8(n){let{routeContext:e,match:t,children:r}=n,i=w.useContext(Nb);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(fu.Provider,{value:e},r)}function c8(n,e,t){if(e===void 0&&(e=[]),n==null)if(t!=null&&t.errors)n=t.matches;else return null;let r=n,i=t==null?void 0:t.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||At(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;t&&(o.route.ErrorBoundary?u=w.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=w.createElement(a8,null));let c=e.concat(r.slice(0,a+1)),d=()=>{let p=s;return l?p=u:o.route.Component?p=w.createElement(o.route.Component,null):o.route.element&&(p=o.route.element),w.createElement(u8,{match:o,routeContext:{outlet:s,matches:c},children:p})};return t&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?w.createElement(l8,{location:t.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var E2;(function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator"})(E2||(E2={}));var Hv;(function(n){n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(Hv||(Hv={}));function f8(n){let e=w.useContext(L0);return e||At(!1),e}function d8(n){let e=w.useContext(fu);return e||At(!1),e}function h8(n){let e=d8(),t=e.matches[e.matches.length-1];return t.route.id||At(!1),t.route.id}function dD(){var n;let e=w.useContext(uD),t=f8(Hv.UseRouteError),r=h8(Hv.UseRouteError);return e||((n=t.errors)==null?void 0:n[r])}function p8(n){let{fallbackElement:e,router:t}=n,r=w.useCallback(()=>t.state,[t]),i=r8(t.subscribe,r,r),s=w.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:l=>t.navigate(l),push:(l,u,c)=>t.navigate(l,{state:u,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(l,u,c)=>t.navigate(l,{replace:!0,state:u,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[t]),o=t.basename||"/",a=w.useMemo(()=>({router:t,navigator:s,static:!1,basename:o}),[t,s,o]);return w.createElement(w.Fragment,null,w.createElement(Nb.Provider,{value:a},w.createElement(L0.Provider,{value:i},w.createElement(g8,{basename:t.basename,location:t.state.location,navigationType:t.state.historyAction,navigator:s},t.state.initialized?w.createElement(v8,null):e))),null)}function Gv(n){let{to:e,replace:t,state:r,relative:i}=n;gf()||At(!1);let s=w.useContext(L0),o=cD();return w.useEffect(()=>{s&&s.navigation.state!=="idle"||o(e,{replace:t,state:r,relative:i})}),null}function m8(n){At(!1)}function g8(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Wn.Pop,navigator:s,static:o=!1}=n;gf()&&At(!1);let a=e.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=na(r));let{pathname:u="/",search:c="",hash:d="",state:p=null,key:g="default"}=r,y=w.useMemo(()=>{let x=Zh(u,a);return x==null?null:{location:{pathname:x,search:c,hash:d,state:p,key:g},navigationType:i}},[a,u,c,d,p,g,i]);return y==null?null:w.createElement(qh.Provider,{value:l},w.createElement(P0.Provider,{children:t,value:y}))}function v8(n){let{children:e,location:t}=n,r=w.useContext(Nb),i=r&&!e?r.router.routes:pS(e);return o8(i,t)}var A2;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(A2||(A2={}));new Promise(()=>{});function pS(n,e){e===void 0&&(e=[]);let t=[];return w.Children.forEach(n,(r,i)=>{if(!w.isValidElement(r))return;let s=[...e,i];if(r.type===w.Fragment){t.push.apply(t,pS(r.props.children,s));return}r.type!==m8&&At(!1),!r.props.index||!r.props.children||At(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=pS(r.props.children,s)),t.push(o)}),t}function y8(n){return!!n.ErrorBoundary||!!n.errorElement}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vv(){return Vv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Vv.apply(this,arguments)}function x8(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function _8(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function S8(n,e){return n.button===0&&(!e||e==="_self")&&!_8(n)}const w8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function b8(n,e){return F6({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:s6({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||M8(),routes:n,detectErrorBoundary:y8}).initialize()}function M8(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Vv({},e,{errors:E8(e.errors)})),e}function E8(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new kb(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let s=new Error(i.message);s.stack="",t[r]=s}else t[r]=i;return t}const A8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",C8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ms=w.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,d=x8(e,w8),{basename:p}=w.useContext(qh),g,y=!1;if(typeof u=="string"&&C8.test(u)&&(g=u,A8)){let S=new URL(window.location.href),_=u.startsWith("//")?new URL(S.protocol+u):new URL(u),M=Zh(_.pathname,p);_.origin===S.origin&&M!=null?u=M+_.search+_.hash:y=!0}let x=i8(u,{relative:i}),v=T8(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function m(S){r&&r(S),S.defaultPrevented||v(S)}return w.createElement("a",Vv({},d,{href:g||x,onClick:y||s?r:m,ref:t,target:l}))});var C2;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(C2||(C2={}));var T2;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(T2||(T2={}));function T8(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=cD(),l=R0(),u=fD(n,{relative:o});return w.useCallback(c=>{if(S8(c,t)){c.preventDefault();let d=r!==void 0?r:Xo(l)===Xo(u);a(n,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,t,n,s,o])}function L8(){return F.jsxs(F.Fragment,{children:[" ",F.jsxs("nav",{className:"container-fluid",children:[F.jsxs("ul",{children:[F.jsx("li",{children:F.jsx("strong",{children:" Smart Scooter "})}),F.jsx("li",{children:F.jsx(Ms,{to:"/",children:"Home"})})]}),F.jsxs("ul",{children:[F.jsx("li",{children:F.jsx(Ms,{to:"/signup",children:"Sign up"})}),F.jsx("li",{children:F.jsx(Ms,{to:"/login",children:"Login"})})]})]})]})}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const I0="151",P8={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},R8={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},hD=0,mS=1,pD=2,I8=3,mD=0,B0=1,th=2,Fl=3,lo=0,Dr=1,Mi=2,B8=2,zo=0,Wl=1,gS=2,vS=3,yS=4,gD=5,Pl=100,vD=101,yD=102,xS=103,_S=104,xD=200,_D=201,SD=202,wD=203,zb=204,Hb=205,bD=206,MD=207,ED=208,AD=209,CD=210,TD=0,LD=1,PD=2,jv=3,RD=4,ID=5,BD=6,DD=7,ep=0,OD=1,kD=2,Cs=0,FD=1,ND=2,UD=3,Gb=4,zD=5,D0=300,Yo=301,Xa=302,qc=303,Lh=304,vf=306,Ya=1e3,xr=1001,ef=1002,In=1003,Ph=1004,D8=1004,Uc=1005,O8=1005,gn=1006,O0=1007,k8=1007,uo=1008,F8=1008,Qo=1009,HD=1010,GD=1011,Vb=1012,VD=1013,Da=1014,Ai=1015,Zi=1016,jD=1017,WD=1018,$l=1020,$D=1021,oi=1023,JD=1024,KD=1025,$a=1026,ru=1027,XD=1028,YD=1029,QD=1030,ZD=1031,qD=1033,tv=33776,nv=33777,rv=33778,iv=33779,SS=35840,wS=35841,bS=35842,MS=35843,eO=36196,ES=37492,AS=37496,CS=37808,TS=37809,LS=37810,PS=37811,RS=37812,IS=37813,BS=37814,DS=37815,OS=37816,kS=37817,FS=37818,NS=37819,US=37820,zS=37821,sv=36492,tO=36283,HS=36284,GS=36285,VS=36286,nO=2200,rO=2201,iO=2202,tf=2300,iu=2301,ov=2302,Nl=2400,Ul=2401,Rh=2402,k0=2500,jb=2501,N8=0,sO=1,Wb=2,Ls=3e3,Ft=3001,oO=3200,aO=3201,ra=0,lO=1,U8="",Ss="srgb",nf="srgb-linear",$b="display-p3",z8=0,av=7680,H8=7681,G8=7682,V8=7683,j8=34055,W8=34056,$8=5386,J8=512,K8=513,X8=514,Y8=515,Q8=516,Z8=517,q8=518,uO=519,Ih=35044,e9=35048,t9=35040,n9=35045,r9=35049,i9=35041,s9=35046,o9=35050,a9=35042,l9="100",jS="300 es",Wv=1035;class ia{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Lr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let L2=1234567;const Jl=Math.PI/180,rf=180/Math.PI;function Li(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Lr[n&255]+Lr[n>>8&255]+Lr[n>>16&255]+Lr[n>>24&255]+"-"+Lr[e&255]+Lr[e>>8&255]+"-"+Lr[e>>16&15|64]+Lr[e>>24&255]+"-"+Lr[t&63|128]+Lr[t>>8&255]+"-"+Lr[t>>16&255]+Lr[t>>24&255]+Lr[r&255]+Lr[r>>8&255]+Lr[r>>16&255]+Lr[r>>24&255]).toLowerCase()}function Bn(n,e,t){return Math.max(e,Math.min(t,n))}function Jb(n,e){return(n%e+e)%e}function u9(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function c9(n,e,t){return n!==e?(t-n)/(e-n):0}function nh(n,e,t){return(1-t)*n+t*e}function f9(n,e,t,r){return nh(n,e,1-Math.exp(-t*r))}function d9(n,e=1){return e-Math.abs(Jb(n,e*2)-e)}function h9(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function p9(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function m9(n,e){return n+Math.floor(Math.random()*(e-n+1))}function g9(n,e){return n+Math.random()*(e-n)}function v9(n){return n*(.5-Math.random())}function y9(n){n!==void 0&&(L2=n);let e=L2+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function x9(n){return n*Jl}function _9(n){return n*rf}function WS(n){return(n&n-1)===0&&n!==0}function cO(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function fO(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function S9(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),u=s((e+r)/2),c=o((e+r)/2),d=s((e-r)/2),p=o((e-r)/2),g=s((r-e)/2),y=o((r-e)/2);switch(i){case"XYX":n.set(a*c,l*d,l*p,a*u);break;case"YZY":n.set(l*p,a*c,l*d,a*u);break;case"ZXZ":n.set(l*d,l*p,a*c,a*u);break;case"XZX":n.set(a*c,l*y,l*g,a*u);break;case"YXY":n.set(l*g,a*c,l*y,a*u);break;case"ZYZ":n.set(l*y,l*g,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ci(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Et(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Ho={DEG2RAD:Jl,RAD2DEG:rf,generateUUID:Li,clamp:Bn,euclideanModulo:Jb,mapLinear:u9,inverseLerp:c9,lerp:nh,damp:f9,pingpong:d9,smoothstep:h9,smootherstep:p9,randInt:m9,randFloat:g9,randFloatSpread:v9,seededRandom:y9,degToRad:x9,radToDeg:_9,isPowerOfTwo:WS,ceilPowerOfTwo:cO,floorPowerOfTwo:fO,setQuaternionFromProperEuler:S9,normalize:Et,denormalize:Ci};class Oe{constructor(e=0,t=0){Oe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Bn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Bt{constructor(){Bt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,s,o,a,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=t,c[4]=s,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],c=r[4],d=r[7],p=r[2],g=r[5],y=r[8],x=i[0],v=i[3],m=i[6],S=i[1],_=i[4],M=i[7],P=i[2],C=i[5],R=i[8];return s[0]=o*x+a*S+l*P,s[3]=o*v+a*_+l*C,s[6]=o*m+a*M+l*R,s[1]=u*x+c*S+d*P,s[4]=u*v+c*_+d*C,s[7]=u*m+c*M+d*R,s[2]=p*x+g*S+y*P,s[5]=p*v+g*_+y*C,s[8]=p*m+g*M+y*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return t*o*c-t*a*u-r*s*c+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],d=c*o-a*u,p=a*l-c*s,g=u*s-o*l,y=t*d+r*p+i*g;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/y;return e[0]=d*x,e[1]=(i*u-c*r)*x,e[2]=(a*r-i*o)*x,e[3]=p*x,e[4]=(c*t-i*l)*x,e[5]=(i*s-a*t)*x,e[6]=g*x,e[7]=(r*l-u*t)*x,e[8]=(o*t-r*s)*x,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(K1.makeScale(e,t)),this}rotate(e){return this.premultiply(K1.makeRotation(-e)),this}translate(e,t){return this.premultiply(K1.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const K1=new Bt;function dO(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const w9={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Ec(n,e){return new w9[n](e)}function Bh(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function zc(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function X1(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const b9=new Bt().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),M9=new Bt().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function E9(n){return n.convertSRGBToLinear().applyMatrix3(M9)}function A9(n){return n.applyMatrix3(b9).convertLinearToSRGB()}const C9={[nf]:n=>n,[Ss]:n=>n.convertSRGBToLinear(),[$b]:E9},T9={[nf]:n=>n,[Ss]:n=>n.convertLinearToSRGB(),[$b]:A9},ti={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return nf},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=C9[e],i=T9[t];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let Bu;class Kb{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Bu===void 0&&(Bu=Bh("canvas")),Bu.width=e.width,Bu.height=e.height;const r=Bu.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Bu}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Bh("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=zc(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(zc(t[r]/255)*255):t[r]=zc(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class zl{constructor(e=null){this.isSource=!0,this.uuid=Li(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(Y1(i[o].image)):s.push(Y1(i[o]))}else s=Y1(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function Y1(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Kb.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let L9=0;class yn extends ia{constructor(e=yn.DEFAULT_IMAGE,t=yn.DEFAULT_MAPPING,r=xr,i=xr,s=gn,o=uo,a=oi,l=Qo,u=yn.DEFAULT_ANISOTROPY,c=Ls){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:L9++}),this.uuid=Li(),this.name="",this.source=new zl(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Oe(0,0),this.repeat=new Oe(1,1),this.center=new Oe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Bt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==D0)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ya:e.x=e.x-Math.floor(e.x);break;case xr:e.x=e.x<0?0:1;break;case ef:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ya:e.y=e.y-Math.floor(e.y);break;case xr:e.y=e.y<0?0:1;break;case ef:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}yn.DEFAULT_IMAGE=null;yn.DEFAULT_MAPPING=D0;yn.DEFAULT_ANISOTROPY=1;class qt{constructor(e=0,t=0,r=0,i=1){qt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,u=l[0],c=l[4],d=l[8],p=l[1],g=l[5],y=l[9],x=l[2],v=l[6],m=l[10];if(Math.abs(c-p)<.01&&Math.abs(d-x)<.01&&Math.abs(y-v)<.01){if(Math.abs(c+p)<.1&&Math.abs(d+x)<.1&&Math.abs(y+v)<.1&&Math.abs(u+g+m-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const _=(u+1)/2,M=(g+1)/2,P=(m+1)/2,C=(c+p)/4,R=(d+x)/4,T=(y+v)/4;return _>M&&_>P?_<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(_),i=C/r,s=R/r):M>P?M<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(M),r=C/i,s=T/i):P<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(P),r=R/s,i=T/s),this.set(r,i,s,t),this}let S=Math.sqrt((v-y)*(v-y)+(d-x)*(d-x)+(p-c)*(p-c));return Math.abs(S)<.001&&(S=1),this.x=(v-y)/S,this.y=(d-x)/S,this.z=(p-c)/S,this.w=Math.acos((u+g+m-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ii extends ia{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new qt(0,0,e,t),this.scissorTest=!1,this.viewport=new qt(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new yn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:gn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new zl(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class F0 extends yn{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=In,this.minFilter=In,this.wrapR=xr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class P9 extends Ii{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new F0(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class Xb extends yn{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=In,this.minFilter=In,this.wrapR=xr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class R9 extends Ii{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new Xb(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class I9 extends Ii{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Kr{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],u=r[i+1],c=r[i+2],d=r[i+3];const p=s[o+0],g=s[o+1],y=s[o+2],x=s[o+3];if(a===0){e[t+0]=l,e[t+1]=u,e[t+2]=c,e[t+3]=d;return}if(a===1){e[t+0]=p,e[t+1]=g,e[t+2]=y,e[t+3]=x;return}if(d!==x||l!==p||u!==g||c!==y){let v=1-a;const m=l*p+u*g+c*y+d*x,S=m>=0?1:-1,_=1-m*m;if(_>Number.EPSILON){const P=Math.sqrt(_),C=Math.atan2(P,m*S);v=Math.sin(v*C)/P,a=Math.sin(a*C)/P}const M=a*S;if(l=l*v+p*M,u=u*v+g*M,c=c*v+y*M,d=d*v+x*M,v===1-a){const P=1/Math.sqrt(l*l+u*u+c*c+d*d);l*=P,u*=P,c*=P,d*=P}}e[t]=l,e[t+1]=u,e[t+2]=c,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],c=r[i+3],d=s[o],p=s[o+1],g=s[o+2],y=s[o+3];return e[t]=a*y+c*d+l*g-u*p,e[t+1]=l*y+c*p+u*d-a*g,e[t+2]=u*y+c*g+a*p-l*d,e[t+3]=c*y-a*d-l*p-u*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),c=a(i/2),d=a(s/2),p=l(r/2),g=l(i/2),y=l(s/2);switch(o){case"XYZ":this._x=p*c*d+u*g*y,this._y=u*g*d-p*c*y,this._z=u*c*y+p*g*d,this._w=u*c*d-p*g*y;break;case"YXZ":this._x=p*c*d+u*g*y,this._y=u*g*d-p*c*y,this._z=u*c*y-p*g*d,this._w=u*c*d+p*g*y;break;case"ZXY":this._x=p*c*d-u*g*y,this._y=u*g*d+p*c*y,this._z=u*c*y+p*g*d,this._w=u*c*d-p*g*y;break;case"ZYX":this._x=p*c*d-u*g*y,this._y=u*g*d+p*c*y,this._z=u*c*y-p*g*d,this._w=u*c*d+p*g*y;break;case"YZX":this._x=p*c*d+u*g*y,this._y=u*g*d+p*c*y,this._z=u*c*y-p*g*d,this._w=u*c*d-p*g*y;break;case"XZY":this._x=p*c*d-u*g*y,this._y=u*g*d-p*c*y,this._z=u*c*y+p*g*d,this._w=u*c*d+p*g*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],u=t[2],c=t[6],d=t[10],p=r+a+d;if(p>0){const g=.5/Math.sqrt(p+1);this._w=.25/g,this._x=(c-l)*g,this._y=(s-u)*g,this._z=(o-i)*g}else if(r>a&&r>d){const g=2*Math.sqrt(1+r-a-d);this._w=(c-l)/g,this._x=.25*g,this._y=(i+o)/g,this._z=(s+u)/g}else if(a>d){const g=2*Math.sqrt(1+a-r-d);this._w=(s-u)/g,this._x=(i+o)/g,this._y=.25*g,this._z=(l+c)/g}else{const g=2*Math.sqrt(1+d-r-a);this._w=(o-i)/g,this._x=(s+u)/g,this._y=(l+c)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Bn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,u=t._z,c=t._w;return this._x=r*c+o*a+i*u-s*l,this._y=i*c+o*l+s*a-r*u,this._z=s*c+o*u+r*l-i*a,this._w=o*c-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const g=1-t;return this._w=g*o+t*this._w,this._x=g*r+t*this._x,this._y=g*i+t*this._y,this._z=g*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),d=Math.sin((1-t)*c)/u,p=Math.sin(t*c)/u;return this._w=o*d+this._w*p,this._x=r*d+this._x*p,this._y=i*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class X{constructor(e=0,t=0,r=0){X.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(P2.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(P2.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*t+o*i-a*r,c=l*r+a*t-s*i,d=l*i+s*r-o*t,p=-s*t-o*r-a*i;return this.x=u*l+p*-s+c*-a-d*-o,this.y=c*l+p*-o+d*-s-u*-a,this.z=d*l+p*-a+u*-o-c*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Q1.copy(this).projectOnVector(e),this.sub(Q1)}reflect(e){return this.sub(Q1.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Bn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Q1=new X,P2=new Kr;class Is{constructor(e=new X(1/0,1/0,1/0),t=new X(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(So.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(So.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=So.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),Du.copy(e.boundingBox),Du.applyMatrix4(e.matrixWorld),this.union(Du);else{const i=e.geometry;if(i!==void 0)if(t&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)So.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(So)}else i.boundingBox===null&&i.computeBoundingBox(),Du.copy(i.boundingBox),Du.applyMatrix4(e.matrixWorld),this.union(Du)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,So),So.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(md),km.subVectors(this.max,md),Ou.subVectors(e.a,md),ku.subVectors(e.b,md),Fu.subVectors(e.c,md),ya.subVectors(ku,Ou),xa.subVectors(Fu,ku),gl.subVectors(Ou,Fu);let t=[0,-ya.z,ya.y,0,-xa.z,xa.y,0,-gl.z,gl.y,ya.z,0,-ya.x,xa.z,0,-xa.x,gl.z,0,-gl.x,-ya.y,ya.x,0,-xa.y,xa.x,0,-gl.y,gl.x,0];return!Z1(t,Ou,ku,Fu,km)||(t=[1,0,0,0,1,0,0,0,1],!Z1(t,Ou,ku,Fu,km))?!1:(Fm.crossVectors(ya,xa),t=[Fm.x,Fm.y,Fm.z],Z1(t,Ou,ku,Fu,km))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,So).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(So).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(_o[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),_o[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),_o[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),_o[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),_o[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),_o[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),_o[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),_o[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(_o),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _o=[new X,new X,new X,new X,new X,new X,new X,new X],So=new X,Du=new Is,Ou=new X,ku=new X,Fu=new X,ya=new X,xa=new X,gl=new X,md=new X,km=new X,Fm=new X,vl=new X;function Z1(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){vl.fromArray(n,s);const a=i.x*Math.abs(vl.x)+i.y*Math.abs(vl.y)+i.z*Math.abs(vl.z),l=e.dot(vl),u=t.dot(vl),c=r.dot(vl);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const B9=new Is,gd=new X,q1=new X;class Bs{constructor(e=new X,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):B9.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;gd.subVectors(e,this.center);const t=gd.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(gd,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(q1.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(gd.copy(e.center).add(q1)),this.expandByPoint(gd.copy(e.center).sub(q1))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const wo=new X,ex=new X,Nm=new X,_a=new X,tx=new X,Um=new X,nx=new X;class tp{constructor(e=new X,t=new X(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,wo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=wo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(wo.copy(this.origin).addScaledVector(this.direction,t),wo.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){ex.copy(e).add(t).multiplyScalar(.5),Nm.copy(t).sub(e).normalize(),_a.copy(this.origin).sub(ex);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Nm),a=_a.dot(this.direction),l=-_a.dot(Nm),u=_a.lengthSq(),c=Math.abs(1-o*o);let d,p,g,y;if(c>0)if(d=o*l-a,p=o*a-l,y=s*c,d>=0)if(p>=-y)if(p<=y){const x=1/c;d*=x,p*=x,g=d*(d+o*p+2*a)+p*(o*d+p+2*l)+u}else p=s,d=Math.max(0,-(o*p+a)),g=-d*d+p*(p+2*l)+u;else p=-s,d=Math.max(0,-(o*p+a)),g=-d*d+p*(p+2*l)+u;else p<=-y?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),g=-d*d+p*(p+2*l)+u):p<=y?(d=0,p=Math.min(Math.max(-s,-l),s),g=p*(p+2*l)+u):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),g=-d*d+p*(p+2*l)+u);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),g=-d*d+p*(p+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(ex).addScaledVector(Nm,p),g}intersectSphere(e,t){wo.subVectors(e.center,this.origin);const r=wo.dot(this.direction),i=wo.dot(wo)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const u=1/this.direction.x,c=1/this.direction.y,d=1/this.direction.z,p=this.origin;return u>=0?(r=(e.min.x-p.x)*u,i=(e.max.x-p.x)*u):(r=(e.max.x-p.x)*u,i=(e.min.x-p.x)*u),c>=0?(s=(e.min.y-p.y)*c,o=(e.max.y-p.y)*c):(s=(e.max.y-p.y)*c,o=(e.min.y-p.y)*c),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,wo)!==null}intersectTriangle(e,t,r,i,s){tx.subVectors(t,e),Um.subVectors(r,e),nx.crossVectors(tx,Um);let o=this.direction.dot(nx),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;_a.subVectors(this.origin,e);const l=a*this.direction.dot(Um.crossVectors(_a,Um));if(l<0)return null;const u=a*this.direction.dot(tx.cross(_a));if(u<0||l+u>o)return null;const c=-a*_a.dot(nx);return c<0?null:this.at(c/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class mt{constructor(){mt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,s,o,a,l,u,c,d,p,g,y,x,v){const m=this.elements;return m[0]=e,m[4]=t,m[8]=r,m[12]=i,m[1]=s,m[5]=o,m[9]=a,m[13]=l,m[2]=u,m[6]=c,m[10]=d,m[14]=p,m[3]=g,m[7]=y,m[11]=x,m[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new mt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Nu.setFromMatrixColumn(e,0).length(),s=1/Nu.setFromMatrixColumn(e,1).length(),o=1/Nu.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*c,g=o*d,y=a*c,x=a*d;t[0]=l*c,t[4]=-l*d,t[8]=u,t[1]=g+y*u,t[5]=p-x*u,t[9]=-a*l,t[2]=x-p*u,t[6]=y+g*u,t[10]=o*l}else if(e.order==="YXZ"){const p=l*c,g=l*d,y=u*c,x=u*d;t[0]=p+x*a,t[4]=y*a-g,t[8]=o*u,t[1]=o*d,t[5]=o*c,t[9]=-a,t[2]=g*a-y,t[6]=x+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*c,g=l*d,y=u*c,x=u*d;t[0]=p-x*a,t[4]=-o*d,t[8]=y+g*a,t[1]=g+y*a,t[5]=o*c,t[9]=x-p*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*c,g=o*d,y=a*c,x=a*d;t[0]=l*c,t[4]=y*u-g,t[8]=p*u+x,t[1]=l*d,t[5]=x*u+p,t[9]=g*u-y,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,g=o*u,y=a*l,x=a*u;t[0]=l*c,t[4]=x-p*d,t[8]=y*d+g,t[1]=d,t[5]=o*c,t[9]=-a*c,t[2]=-u*c,t[6]=g*d+y,t[10]=p-x*d}else if(e.order==="XZY"){const p=o*l,g=o*u,y=a*l,x=a*u;t[0]=l*c,t[4]=-d,t[8]=u*c,t[1]=p*d+x,t[5]=o*c,t[9]=g*d-y,t[2]=y*d-g,t[6]=a*c,t[10]=x*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(D9,e,O9)}lookAt(e,t,r){const i=this.elements;return Si.subVectors(e,t),Si.lengthSq()===0&&(Si.z=1),Si.normalize(),Sa.crossVectors(r,Si),Sa.lengthSq()===0&&(Math.abs(r.z)===1?Si.x+=1e-4:Si.z+=1e-4,Si.normalize(),Sa.crossVectors(r,Si)),Sa.normalize(),zm.crossVectors(Si,Sa),i[0]=Sa.x,i[4]=zm.x,i[8]=Si.x,i[1]=Sa.y,i[5]=zm.y,i[9]=Si.y,i[2]=Sa.z,i[6]=zm.z,i[10]=Si.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],c=r[1],d=r[5],p=r[9],g=r[13],y=r[2],x=r[6],v=r[10],m=r[14],S=r[3],_=r[7],M=r[11],P=r[15],C=i[0],R=i[4],T=i[8],E=i[12],A=i[1],B=i[5],D=i[9],U=i[13],H=i[2],j=i[6],$=i[10],Z=i[14],k=i[3],W=i[7],V=i[11],ce=i[15];return s[0]=o*C+a*A+l*H+u*k,s[4]=o*R+a*B+l*j+u*W,s[8]=o*T+a*D+l*$+u*V,s[12]=o*E+a*U+l*Z+u*ce,s[1]=c*C+d*A+p*H+g*k,s[5]=c*R+d*B+p*j+g*W,s[9]=c*T+d*D+p*$+g*V,s[13]=c*E+d*U+p*Z+g*ce,s[2]=y*C+x*A+v*H+m*k,s[6]=y*R+x*B+v*j+m*W,s[10]=y*T+x*D+v*$+m*V,s[14]=y*E+x*U+v*Z+m*ce,s[3]=S*C+_*A+M*H+P*k,s[7]=S*R+_*B+M*j+P*W,s[11]=S*T+_*D+M*$+P*V,s[15]=S*E+_*U+M*Z+P*ce,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],c=e[2],d=e[6],p=e[10],g=e[14],y=e[3],x=e[7],v=e[11],m=e[15];return y*(+s*l*d-i*u*d-s*a*p+r*u*p+i*a*g-r*l*g)+x*(+t*l*g-t*u*p+s*o*p-i*o*g+i*u*c-s*l*c)+v*(+t*u*d-t*a*g-s*o*d+r*o*g+s*a*c-r*u*c)+m*(-i*a*c-t*l*d+t*a*p+i*o*d-r*o*p+r*l*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],d=e[9],p=e[10],g=e[11],y=e[12],x=e[13],v=e[14],m=e[15],S=d*v*u-x*p*u+x*l*g-a*v*g-d*l*m+a*p*m,_=y*p*u-c*v*u-y*l*g+o*v*g+c*l*m-o*p*m,M=c*x*u-y*d*u+y*a*g-o*x*g-c*a*m+o*d*m,P=y*d*l-c*x*l-y*a*p+o*x*p+c*a*v-o*d*v,C=t*S+r*_+i*M+s*P;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/C;return e[0]=S*R,e[1]=(x*p*s-d*v*s-x*i*g+r*v*g+d*i*m-r*p*m)*R,e[2]=(a*v*s-x*l*s+x*i*u-r*v*u-a*i*m+r*l*m)*R,e[3]=(d*l*s-a*p*s-d*i*u+r*p*u+a*i*g-r*l*g)*R,e[4]=_*R,e[5]=(c*v*s-y*p*s+y*i*g-t*v*g-c*i*m+t*p*m)*R,e[6]=(y*l*s-o*v*s-y*i*u+t*v*u+o*i*m-t*l*m)*R,e[7]=(o*p*s-c*l*s+c*i*u-t*p*u-o*i*g+t*l*g)*R,e[8]=M*R,e[9]=(y*d*s-c*x*s-y*r*g+t*x*g+c*r*m-t*d*m)*R,e[10]=(o*x*s-y*a*s+y*r*u-t*x*u-o*r*m+t*a*m)*R,e[11]=(c*a*s-o*d*s-c*r*u+t*d*u+o*r*g-t*a*g)*R,e[12]=P*R,e[13]=(c*x*i-y*d*i+y*r*p-t*x*p-c*r*v+t*d*v)*R,e[14]=(y*a*i-o*x*i-y*r*l+t*x*l+o*r*v-t*a*v)*R,e[15]=(o*d*i-c*a*i+c*r*l-t*d*l-o*r*p+t*a*p)*R,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,c=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,c*a+r,c*l-i*o,0,u*l-i*a,c*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,u=s+s,c=o+o,d=a+a,p=s*u,g=s*c,y=s*d,x=o*c,v=o*d,m=a*d,S=l*u,_=l*c,M=l*d,P=r.x,C=r.y,R=r.z;return i[0]=(1-(x+m))*P,i[1]=(g+M)*P,i[2]=(y-_)*P,i[3]=0,i[4]=(g-M)*C,i[5]=(1-(p+m))*C,i[6]=(v+S)*C,i[7]=0,i[8]=(y+_)*R,i[9]=(v-S)*R,i[10]=(1-(p+x))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Nu.set(i[0],i[1],i[2]).length();const o=Nu.set(i[4],i[5],i[6]).length(),a=Nu.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],ms.copy(this);const u=1/s,c=1/o,d=1/a;return ms.elements[0]*=u,ms.elements[1]*=u,ms.elements[2]*=u,ms.elements[4]*=c,ms.elements[5]*=c,ms.elements[6]*=c,ms.elements[8]*=d,ms.elements[9]*=d,ms.elements[10]*=d,t.setFromRotationMatrix(ms),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){const a=this.elements,l=2*s/(t-e),u=2*s/(r-i),c=(t+e)/(t-e),d=(r+i)/(r-i),p=-(o+s)/(o-s),g=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=g,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),u=1/(r-i),c=1/(o-s),d=(t+e)*l,p=(r+i)*u,g=(o+s)*c;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-g,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Nu=new X,ms=new mt,D9=new X(0,0,0),O9=new X(1,1,1),Sa=new X,zm=new X,Si=new X,R2=new mt,I2=new Kr;class np{constructor(e=0,t=0,r=0,i=np.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],c=i[9],d=i[2],p=i[6],g=i[10];switch(t){case"XYZ":this._y=Math.asin(Bn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,g),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Bn(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,g),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Bn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,g),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Bn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,g),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Bn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,g));break;case"XZY":this._z=Math.asin(-Bn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-c,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return R2.makeRotationFromQuaternion(e),this.setFromRotationMatrix(R2,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return I2.setFromEuler(this),this.setFromQuaternion(I2,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}np.DEFAULT_ORDER="XYZ";class Kl{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let k9=0;const B2=new X,Uu=new Kr,bo=new mt,Hm=new X,vd=new X,F9=new X,N9=new Kr,D2=new X(1,0,0),O2=new X(0,1,0),k2=new X(0,0,1),U9={type:"added"},F2={type:"removed"};class Vt extends ia{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:k9++}),this.uuid=Li(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Vt.DEFAULT_UP.clone();const e=new X,t=new np,r=new Kr,i=new X(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new mt},normalMatrix:{value:new Bt}}),this.matrix=new mt,this.matrixWorld=new mt,this.matrixAutoUpdate=Vt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Vt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Kl,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Uu.setFromAxisAngle(e,t),this.quaternion.multiply(Uu),this}rotateOnWorldAxis(e,t){return Uu.setFromAxisAngle(e,t),this.quaternion.premultiply(Uu),this}rotateX(e){return this.rotateOnAxis(D2,e)}rotateY(e){return this.rotateOnAxis(O2,e)}rotateZ(e){return this.rotateOnAxis(k2,e)}translateOnAxis(e,t){return B2.copy(e).applyQuaternion(this.quaternion),this.position.add(B2.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(D2,e)}translateY(e){return this.translateOnAxis(O2,e)}translateZ(e){return this.translateOnAxis(k2,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(bo.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Hm.copy(e):Hm.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),vd.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?bo.lookAt(vd,Hm,this.up):bo.lookAt(Hm,vd,this.up),this.quaternion.setFromRotationMatrix(bo),i&&(bo.extractRotation(i.matrixWorld),Uu.setFromRotationMatrix(bo),this.quaternion.premultiply(Uu.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(U9)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(F2)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(F2)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),bo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),bo.multiply(e.parent.matrixWorld)),e.applyMatrix4(bo),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,t);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(vd,e,F9),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(vd,N9,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const d=l[u];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),d=o(e.shapes),p=o(e.skeletons),g=o(e.animations),y=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),d.length>0&&(r.shapes=d),p.length>0&&(r.skeletons=p),g.length>0&&(r.animations=g),y.length>0&&(r.nodes=y)}return r.object=i,r;function o(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Vt.DEFAULT_UP=new X(0,1,0);Vt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Vt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const gs=new X,Mo=new X,rx=new X,Eo=new X,zu=new X,Hu=new X,N2=new X,ix=new X,sx=new X,ox=new X;let Gm=!1;class si{constructor(e=new X,t=new X,r=new X){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),gs.subVectors(e,t),i.cross(gs);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){gs.subVectors(i,t),Mo.subVectors(r,t),rx.subVectors(e,t);const o=gs.dot(gs),a=gs.dot(Mo),l=gs.dot(rx),u=Mo.dot(Mo),c=Mo.dot(rx),d=o*u-a*a;if(d===0)return s.set(-2,-1,-1);const p=1/d,g=(u*l-a*c)*p,y=(o*c-a*l)*p;return s.set(1-g-y,y,g)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Eo),Eo.x>=0&&Eo.y>=0&&Eo.x+Eo.y<=1}static getUV(e,t,r,i,s,o,a,l){return Gm===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Gm=!0),this.getInterpolation(e,t,r,i,s,o,a,l)}static getInterpolation(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,Eo),l.setScalar(0),l.addScaledVector(s,Eo.x),l.addScaledVector(o,Eo.y),l.addScaledVector(a,Eo.z),l}static isFrontFacing(e,t,r,i){return gs.subVectors(r,t),Mo.subVectors(e,t),gs.cross(Mo).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return gs.subVectors(this.c,this.b),Mo.subVectors(this.a,this.b),gs.cross(Mo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return si.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return si.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return Gm===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Gm=!0),si.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}getInterpolation(e,t,r,i,s){return si.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return si.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return si.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;zu.subVectors(i,r),Hu.subVectors(s,r),ix.subVectors(e,r);const l=zu.dot(ix),u=Hu.dot(ix);if(l<=0&&u<=0)return t.copy(r);sx.subVectors(e,i);const c=zu.dot(sx),d=Hu.dot(sx);if(c>=0&&d<=c)return t.copy(i);const p=l*d-c*u;if(p<=0&&l>=0&&c<=0)return o=l/(l-c),t.copy(r).addScaledVector(zu,o);ox.subVectors(e,s);const g=zu.dot(ox),y=Hu.dot(ox);if(y>=0&&g<=y)return t.copy(s);const x=g*u-l*y;if(x<=0&&u>=0&&y<=0)return a=u/(u-y),t.copy(r).addScaledVector(Hu,a);const v=c*y-g*d;if(v<=0&&d-c>=0&&g-y>=0)return N2.subVectors(s,i),a=(d-c)/(d-c+(g-y)),t.copy(i).addScaledVector(N2,a);const m=1/(v+x+p);return o=x*m,a=p*m,t.copy(r).addScaledVector(zu,o).addScaledVector(Hu,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let z9=0;class Un extends ia{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:z9++}),this.uuid=Li(),this.name="",this.type="Material",this.blending=Wl,this.side=lo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=zb,this.blendDst=Hb,this.blendEquation=Pl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=jv,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=uO,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=av,this.stencilZFail=av,this.stencilZPass=av,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Wl&&(r.blending=this.blending),this.side!==lo&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const hO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},vs={h:0,s:0,l:0},Vm={h:0,s:0,l:0};function ax(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}let Ge=class{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ss){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ti.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=ti.workingColorSpace){return this.r=e,this.g=t,this.b=r,ti.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=ti.workingColorSpace){if(e=Jb(e,1),t=Bn(t,0,1),r=Bn(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=ax(o,s,e+1/3),this.g=ax(o,s,e),this.b=ax(o,s,e-1/3)}return ti.toWorkingColorSpace(this,i),this}setStyle(e,t=Ss){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,ti.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,ti.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,u=parseFloat(s[2])/100,c=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,u,c,t)}break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Ss){const r=hO[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=zc(e.r),this.g=zc(e.g),this.b=zc(e.b),this}copyLinearToSRGB(e){return this.r=X1(e.r),this.g=X1(e.g),this.b=X1(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ss){return ti.fromWorkingColorSpace(Pr.copy(this),e),Bn(Pr.r*255,0,255)<<16^Bn(Pr.g*255,0,255)<<8^Bn(Pr.b*255,0,255)<<0}getHexString(e=Ss){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ti.workingColorSpace){ti.fromWorkingColorSpace(Pr.copy(this),t);const r=Pr.r,i=Pr.g,s=Pr.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const c=(a+o)/2;if(a===o)l=0,u=0;else{const d=o-a;switch(u=c<=.5?d/(o+a):d/(2-o-a),o){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,t=ti.workingColorSpace){return ti.fromWorkingColorSpace(Pr.copy(this),t),e.r=Pr.r,e.g=Pr.g,e.b=Pr.b,e}getStyle(e=Ss){ti.fromWorkingColorSpace(Pr.copy(this),e);const t=Pr.r,r=Pr.g,i=Pr.b;return e!==Ss?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${t*255|0},${r*255|0},${i*255|0})`}offsetHSL(e,t,r){return this.getHSL(vs),vs.h+=e,vs.s+=t,vs.l+=r,this.setHSL(vs.h,vs.s,vs.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(vs),e.getHSL(Vm);const r=nh(vs.h,Vm.h,t),i=nh(vs.s,Vm.s,t),s=nh(vs.l,Vm.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Pr=new Ge;Ge.NAMES=hO;class li extends Un{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ge(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ep,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Io=H9();function H9(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,s[l]=u|c}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function ni(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Bn(n,-65504,65504),Io.floatView[0]=n;const e=Io.uint32View[0],t=e>>23&511;return Io.baseTable[t]+((e&8388607)>>Io.shiftTable[t])}function Hd(n){const e=n>>10;return Io.uint32View[0]=Io.mantissaTable[Io.offsetTable[e]+(n&1023)]+Io.exponentTable[e],Io.floatView[0]}const Gd={toHalfFloat:ni,fromHalfFloat:Hd},jn=new X,jm=new Oe;class jt{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=Ih,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)jm.fromBufferAttribute(this,t),jm.applyMatrix3(e),this.setXY(t,jm.x,jm.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)jn.fromBufferAttribute(this,t),jn.applyMatrix3(e),this.setXYZ(t,jn.x,jn.y,jn.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)jn.fromBufferAttribute(this,t),jn.applyMatrix4(e),this.setXYZ(t,jn.x,jn.y,jn.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)jn.fromBufferAttribute(this,t),jn.applyNormalMatrix(e),this.setXYZ(t,jn.x,jn.y,jn.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)jn.fromBufferAttribute(this,t),jn.transformDirection(e),this.setXYZ(t,jn.x,jn.y,jn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ci(t,this.array)),t}setX(e,t){return this.normalized&&(t=Et(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ci(t,this.array)),t}setY(e,t){return this.normalized&&(t=Et(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ci(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Et(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ci(t,this.array)),t}setW(e,t){return this.normalized&&(t=Et(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Et(t,this.array),r=Et(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Et(t,this.array),r=Et(r,this.array),i=Et(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Et(t,this.array),r=Et(r,this.array),i=Et(i,this.array),s=Et(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Ih&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class G9 extends jt{constructor(e,t,r){super(new Int8Array(e),t,r)}}class V9 extends jt{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class j9 extends jt{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class W9 extends jt{constructor(e,t,r){super(new Int16Array(e),t,r)}}class Yb extends jt{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class $9 extends jt{constructor(e,t,r){super(new Int32Array(e),t,r)}}class Qb extends jt{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class J9 extends jt{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=Hd(this.array[e*this.itemSize]);return this.normalized&&(t=Ci(t,this.array)),t}setX(e,t){return this.normalized&&(t=Et(t,this.array)),this.array[e*this.itemSize]=ni(t),this}getY(e){let t=Hd(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ci(t,this.array)),t}setY(e,t){return this.normalized&&(t=Et(t,this.array)),this.array[e*this.itemSize+1]=ni(t),this}getZ(e){let t=Hd(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ci(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Et(t,this.array)),this.array[e*this.itemSize+2]=ni(t),this}getW(e){let t=Hd(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ci(t,this.array)),t}setW(e,t){return this.normalized&&(t=Et(t,this.array)),this.array[e*this.itemSize+3]=ni(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Et(t,this.array),r=Et(r,this.array)),this.array[e+0]=ni(t),this.array[e+1]=ni(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Et(t,this.array),r=Et(r,this.array),i=Et(i,this.array)),this.array[e+0]=ni(t),this.array[e+1]=ni(r),this.array[e+2]=ni(i),this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Et(t,this.array),r=Et(r,this.array),i=Et(i,this.array),s=Et(s,this.array)),this.array[e+0]=ni(t),this.array[e+1]=ni(r),this.array[e+2]=ni(i),this.array[e+3]=ni(s),this}}class it extends jt{constructor(e,t,r){super(new Float32Array(e),t,r)}}class K9 extends jt{constructor(e,t,r){super(new Float64Array(e),t,r)}}let X9=0;const Wi=new mt,lx=new Vt,Gu=new X,wi=new Is,yd=new Is,ur=new X;class St extends ia{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:X9++}),this.uuid=Li(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(dO(e)?Qb:Yb)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Bt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Wi.makeRotationFromQuaternion(e),this.applyMatrix4(Wi),this}rotateX(e){return Wi.makeRotationX(e),this.applyMatrix4(Wi),this}rotateY(e){return Wi.makeRotationY(e),this.applyMatrix4(Wi),this}rotateZ(e){return Wi.makeRotationZ(e),this.applyMatrix4(Wi),this}translate(e,t,r){return Wi.makeTranslation(e,t,r),this.applyMatrix4(Wi),this}scale(e,t,r){return Wi.makeScale(e,t,r),this.applyMatrix4(Wi),this}lookAt(e){return lx.lookAt(e),lx.updateMatrix(),this.applyMatrix4(lx.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Gu).negate(),this.translate(Gu.x,Gu.y,Gu.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new it(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Is);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new X(-1/0,-1/0,-1/0),new X(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];wi.setFromBufferAttribute(s),this.morphTargetsRelative?(ur.addVectors(this.boundingBox.min,wi.min),this.boundingBox.expandByPoint(ur),ur.addVectors(this.boundingBox.max,wi.max),this.boundingBox.expandByPoint(ur)):(this.boundingBox.expandByPoint(wi.min),this.boundingBox.expandByPoint(wi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Bs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new X,1/0);return}if(e){const r=this.boundingSphere.center;if(wi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];yd.setFromBufferAttribute(a),this.morphTargetsRelative?(ur.addVectors(wi.min,yd.min),wi.expandByPoint(ur),ur.addVectors(wi.max,yd.max),wi.expandByPoint(ur)):(wi.expandByPoint(yd.min),wi.expandByPoint(yd.max))}wi.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)ur.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(ur));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)ur.fromBufferAttribute(a,u),l&&(Gu.fromBufferAttribute(e,u),ur.add(Gu)),i=Math.max(i,r.distanceToSquared(ur))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new jt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let A=0;A<a;A++)u[A]=new X,c[A]=new X;const d=new X,p=new X,g=new X,y=new Oe,x=new Oe,v=new Oe,m=new X,S=new X;function _(A,B,D){d.fromArray(i,A*3),p.fromArray(i,B*3),g.fromArray(i,D*3),y.fromArray(o,A*2),x.fromArray(o,B*2),v.fromArray(o,D*2),p.sub(d),g.sub(d),x.sub(y),v.sub(y);const U=1/(x.x*v.y-v.x*x.y);isFinite(U)&&(m.copy(p).multiplyScalar(v.y).addScaledVector(g,-x.y).multiplyScalar(U),S.copy(g).multiplyScalar(x.x).addScaledVector(p,-v.x).multiplyScalar(U),u[A].add(m),u[B].add(m),u[D].add(m),c[A].add(S),c[B].add(S),c[D].add(S))}let M=this.groups;M.length===0&&(M=[{start:0,count:r.length}]);for(let A=0,B=M.length;A<B;++A){const D=M[A],U=D.start,H=D.count;for(let j=U,$=U+H;j<$;j+=3)_(r[j+0],r[j+1],r[j+2])}const P=new X,C=new X,R=new X,T=new X;function E(A){R.fromArray(s,A*3),T.copy(R);const B=u[A];P.copy(B),P.sub(R.multiplyScalar(R.dot(B))).normalize(),C.crossVectors(T,B);const U=C.dot(c[A])<0?-1:1;l[A*4]=P.x,l[A*4+1]=P.y,l[A*4+2]=P.z,l[A*4+3]=U}for(let A=0,B=M.length;A<B;++A){const D=M[A],U=D.start,H=D.count;for(let j=U,$=U+H;j<$;j+=3)E(r[j+0]),E(r[j+1]),E(r[j+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new jt(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,g=r.count;p<g;p++)r.setXYZ(p,0,0,0);const i=new X,s=new X,o=new X,a=new X,l=new X,u=new X,c=new X,d=new X;if(e)for(let p=0,g=e.count;p<g;p+=3){const y=e.getX(p+0),x=e.getX(p+1),v=e.getX(p+2);i.fromBufferAttribute(t,y),s.fromBufferAttribute(t,x),o.fromBufferAttribute(t,v),c.subVectors(o,s),d.subVectors(i,s),c.cross(d),a.fromBufferAttribute(r,y),l.fromBufferAttribute(r,x),u.fromBufferAttribute(r,v),a.add(c),l.add(c),u.add(c),r.setXYZ(y,a.x,a.y,a.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(v,u.x,u.y,u.z)}else for(let p=0,g=t.count;p<g;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),c.subVectors(o,s),d.subVectors(i,s),c.cross(d),r.setXYZ(p+0,c.x,c.y,c.z),r.setXYZ(p+1,c.x,c.y,c.z),r.setXYZ(p+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)ur.fromBufferAttribute(e,t),ur.normalize(),e.setXYZ(t,ur.x,ur.y,ur.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,d=a.normalized,p=new u.constructor(l.length*c);let g=0,y=0;for(let x=0,v=l.length;x<v;x++){a.isInterleavedBufferAttribute?g=l[x]*a.data.stride+a.offset:g=l[x]*c;for(let m=0;m<c;m++)p[y++]=u[g++]}return new jt(p,c,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new St,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);t.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let c=0,d=u.length;c<d;c++){const p=u[c],g=e(p,r);l.push(g)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let d=0,p=u.length;d<p;d++){const g=u[d];c.push(g.toJSON(e.data))}c.length>0&&(i[l]=c,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(t))}const s=e.morphAttributes;for(const u in s){const c=[],d=s[u];for(let p=0,g=d.length;p<g;p++)c.push(d[p].clone(t));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const d=o[u];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const U2=new mt,Ks=new tp,Wm=new Bs,z2=new X,Vu=new X,ju=new X,Wu=new X,ux=new X,$m=new X,Jm=new Oe,Km=new Oe,Xm=new Oe,H2=new X,G2=new X,V2=new X,Ym=new X,Qm=new X;class tr extends Vt{constructor(e=new St,t=new li){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){$m.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const c=a[l],d=s[l];c!==0&&(ux.fromBufferAttribute(d,e),o?$m.addScaledVector(ux,c):$m.addScaledVector(ux.sub(t),c))}t.add($m)}return this.isSkinnedMesh&&this.applyBoneTransform(e,t),t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),Wm.copy(r.boundingSphere),Wm.applyMatrix4(s),Ks.copy(e.ray).recast(e.near),Wm.containsPoint(Ks.origin)===!1&&(Ks.intersectSphere(Wm,z2)===null||Ks.origin.distanceToSquared(z2)>(e.far-e.near)**2))||(U2.copy(s).invert(),Ks.copy(e.ray).applyMatrix4(U2),r.boundingBox!==null&&Ks.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,u=r.attributes.uv,c=r.attributes.uv2,d=r.attributes.normal,p=r.groups,g=r.drawRange;if(a!==null)if(Array.isArray(i))for(let y=0,x=p.length;y<x;y++){const v=p[y],m=i[v.materialIndex],S=Math.max(v.start,g.start),_=Math.min(a.count,Math.min(v.start+v.count,g.start+g.count));for(let M=S,P=_;M<P;M+=3){const C=a.getX(M),R=a.getX(M+1),T=a.getX(M+2);o=Zm(this,m,e,Ks,u,c,d,C,R,T),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else{const y=Math.max(0,g.start),x=Math.min(a.count,g.start+g.count);for(let v=y,m=x;v<m;v+=3){const S=a.getX(v),_=a.getX(v+1),M=a.getX(v+2);o=Zm(this,i,e,Ks,u,c,d,S,_,M),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let y=0,x=p.length;y<x;y++){const v=p[y],m=i[v.materialIndex],S=Math.max(v.start,g.start),_=Math.min(l.count,Math.min(v.start+v.count,g.start+g.count));for(let M=S,P=_;M<P;M+=3){const C=M,R=M+1,T=M+2;o=Zm(this,m,e,Ks,u,c,d,C,R,T),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else{const y=Math.max(0,g.start),x=Math.min(l.count,g.start+g.count);for(let v=y,m=x;v<m;v+=3){const S=v,_=v+1,M=v+2;o=Zm(this,i,e,Ks,u,c,d,S,_,M),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}}}}function Y9(n,e,t,r,i,s,o,a){let l;if(e.side===Dr?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===lo,a),l===null)return null;Qm.copy(a),Qm.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(Qm);return u<t.near||u>t.far?null:{distance:u,point:Qm.clone(),object:n}}function Zm(n,e,t,r,i,s,o,a,l,u){n.getVertexPosition(a,Vu),n.getVertexPosition(l,ju),n.getVertexPosition(u,Wu);const c=Y9(n,e,t,r,Vu,ju,Wu,Ym);if(c){i&&(Jm.fromBufferAttribute(i,a),Km.fromBufferAttribute(i,l),Xm.fromBufferAttribute(i,u),c.uv=si.getInterpolation(Ym,Vu,ju,Wu,Jm,Km,Xm,new Oe)),s&&(Jm.fromBufferAttribute(s,a),Km.fromBufferAttribute(s,l),Xm.fromBufferAttribute(s,u),c.uv2=si.getInterpolation(Ym,Vu,ju,Wu,Jm,Km,Xm,new Oe)),o&&(H2.fromBufferAttribute(o,a),G2.fromBufferAttribute(o,l),V2.fromBufferAttribute(o,u),c.normal=si.getInterpolation(Ym,Vu,ju,Wu,H2,G2,V2,new X),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const d={a,b:l,c:u,normal:new X,materialIndex:0};si.getNormal(Vu,ju,Wu,d.normal),c.face=d}return c}class rl extends St{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],c=[],d=[];let p=0,g=0;y("z","y","x",-1,-1,r,t,e,o,s,0),y("z","y","x",1,-1,r,t,-e,o,s,1),y("x","z","y",1,1,e,r,t,i,o,2),y("x","z","y",1,-1,e,r,-t,i,o,3),y("x","y","z",1,-1,e,t,r,i,s,4),y("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new it(u,3)),this.setAttribute("normal",new it(c,3)),this.setAttribute("uv",new it(d,2));function y(x,v,m,S,_,M,P,C,R,T,E){const A=M/R,B=P/T,D=M/2,U=P/2,H=C/2,j=R+1,$=T+1;let Z=0,k=0;const W=new X;for(let V=0;V<$;V++){const ce=V*B-U;for(let oe=0;oe<j;oe++){const re=oe*A-D;W[x]=re*S,W[v]=ce*_,W[m]=H,u.push(W.x,W.y,W.z),W[x]=0,W[v]=0,W[m]=C>0?1:-1,c.push(W.x,W.y,W.z),d.push(oe/R),d.push(1-V/T),Z+=1}}for(let V=0;V<T;V++)for(let ce=0;ce<R;ce++){const oe=p+ce+j*V,re=p+ce+j*(V+1),q=p+(ce+1)+j*(V+1),we=p+(ce+1)+j*V;l.push(oe,re,we),l.push(re,q,we),k+=6}a.addGroup(g,k,E),g+=k,p+=Z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rl(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function sf(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Vr(n){const e={};for(let t=0;t<n.length;t++){const r=sf(n[t]);for(const i in r)e[i]=r[i]}return e}function Q9(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function pO(n){return n.getRenderTarget()===null&&n.outputEncoding===Ft?Ss:nf}const Zb={clone:sf,merge:Vr};var Z9=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,q9=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class rs extends Un{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Z9,this.fragmentShader=q9,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=sf(e.uniforms),this.uniformsGroups=Q9(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class rp extends Vt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new mt,this.projectionMatrix=new mt,this.projectionMatrixInverse=new mt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class qn extends rp{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=rf*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Jl*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return rf*2*Math.atan(Math.tan(Jl*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Jl*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const $u=-90,Ju=1;class mO extends Vt{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new qn($u,Ju,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new qn($u,Ju,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new qn($u,Ju,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new qn($u,Ju,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new qn($u,Ju,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const u=new qn($u,Ju,e,t);u.layers=this.layers,u.up.set(0,1,0),u.lookAt(0,0,-1),this.add(u)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,u]=this.children,c=e.getRenderTarget(),d=e.toneMapping,p=e.xr.enabled;e.toneMapping=Cs,e.xr.enabled=!1;const g=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=g,e.setRenderTarget(r,5),e.render(t,u),e.setRenderTarget(c),e.toneMapping=d,e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class ip extends yn{constructor(e,t,r,i,s,o,a,l,u,c){e=e!==void 0?e:[],t=t!==void 0?t:Yo,super(e,t,r,i,s,o,a,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class qb extends Ii{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new ip(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:gn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new rl(5,5,5),s=new rs({name:"CubemapFromEquirect",uniforms:sf(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Dr,blending:zo});s.uniforms.tEquirect.value=t;const o=new tr(i,s),a=t.minFilter;return t.minFilter===uo&&(t.minFilter=gn),new mO(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const cx=new X,eH=new X,tH=new Bt;class Ta{constructor(e=new X(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=cx.subVectors(r,t).cross(eH.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(cx),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||tH.getNormalMatrix(e),i=this.coplanarPoint(cx).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const yl=new Bs,qm=new X;class N0{constructor(e=new Ta,t=new Ta,r=new Ta,i=new Ta,s=new Ta,o=new Ta){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],u=r[5],c=r[6],d=r[7],p=r[8],g=r[9],y=r[10],x=r[11],v=r[12],m=r[13],S=r[14],_=r[15];return t[0].setComponents(a-i,d-l,x-p,_-v).normalize(),t[1].setComponents(a+i,d+l,x+p,_+v).normalize(),t[2].setComponents(a+s,d+u,x+g,_+m).normalize(),t[3].setComponents(a-s,d-u,x-g,_-m).normalize(),t[4].setComponents(a-o,d-c,x-y,_-S).normalize(),t[5].setComponents(a+o,d+c,x+y,_+S).normalize(),this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),yl.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),yl.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(yl)}intersectsSprite(e){return yl.center.set(0,0,0),yl.radius=.7071067811865476,yl.applyMatrix4(e.matrixWorld),this.intersectsSphere(yl)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(qm.x=i.normal.x>0?e.max.x:e.min.x,qm.y=i.normal.y>0?e.max.y:e.min.y,qm.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(qm)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function gO(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function nH(n,e){const t=e.isWebGL2,r=new WeakMap;function i(u,c){const d=u.array,p=u.usage,g=n.createBuffer();n.bindBuffer(c,g),n.bufferData(c,d,p),u.onUploadCallback();let y;if(d instanceof Float32Array)y=5126;else if(d instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)y=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=5123;else if(d instanceof Int16Array)y=5122;else if(d instanceof Uint32Array)y=5125;else if(d instanceof Int32Array)y=5124;else if(d instanceof Int8Array)y=5120;else if(d instanceof Uint8Array)y=5121;else if(d instanceof Uint8ClampedArray)y=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:g,type:y,bytesPerElement:d.BYTES_PER_ELEMENT,version:u.version}}function s(u,c,d){const p=c.array,g=c.updateRange;n.bindBuffer(d,u),g.count===-1?n.bufferSubData(d,0,p):(t?n.bufferSubData(d,g.offset*p.BYTES_PER_ELEMENT,p,g.offset,g.count):n.bufferSubData(d,g.offset*p.BYTES_PER_ELEMENT,p.subarray(g.offset,g.offset+g.count)),g.count=-1),c.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(n.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const p=r.get(u);(!p||p.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const d=r.get(u);d===void 0?r.set(u,i(u,c)):d.version<u.version&&(s(d.buffer,u,c),d.version=u.version)}return{get:o,remove:a,update:l}}class yf extends St{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),u=a+1,c=l+1,d=e/a,p=t/l,g=[],y=[],x=[],v=[];for(let m=0;m<c;m++){const S=m*p-o;for(let _=0;_<u;_++){const M=_*d-s;y.push(M,-S,0),x.push(0,0,1),v.push(_/a),v.push(1-m/l)}}for(let m=0;m<l;m++)for(let S=0;S<a;S++){const _=S+u*m,M=S+u*(m+1),P=S+1+u*(m+1),C=S+1+u*m;g.push(_,M,C),g.push(M,P,C)}this.setIndex(g),this.setAttribute("position",new it(y,3)),this.setAttribute("normal",new it(x,3)),this.setAttribute("uv",new it(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yf(e.width,e.height,e.widthSegments,e.heightSegments)}}var rH=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,iH=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,sH=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,oH=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aH=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,lH=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,uH="vec3 transformed = vec3( position );",cH=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,fH=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,dH=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,hH=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,pH=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,mH=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,gH=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,vH=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,yH=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,xH=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,_H=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,SH=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,wH=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,bH=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,MH=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,EH=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,AH=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,CH=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,TH=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,LH="gl_FragColor = linearToOutputTexel( gl_FragColor );",PH=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,RH=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,IH=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,BH=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,DH=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,OH=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,kH=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,FH=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,NH=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,UH=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,zH=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,HH=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,GH=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,VH=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,jH=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,WH=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,$H=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,JH=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,KH=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,XH=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,YH=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,QH=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif`,ZH=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,qH=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,eG=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,tG=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,nG=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,rG=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,iG=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,sG=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,oG=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,aG=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,lG=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,uG=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,cG=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,fG=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,dG=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,hG=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,pG=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,mG=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,gG=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#ifdef USE_NORMALMAP_TANGENTSPACE
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,vG=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,yG=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,xG=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,_G=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,SG=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,wG=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,bG=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,MG=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,EG=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,AG=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,CG=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,TG=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,LG=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,PG=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,RG=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,IG=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,BG=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,DG=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,OG=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,kG=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,FG=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,NG=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,UG=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,zG=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,HG=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,GG=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,VG=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,jG=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,WG=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,$G=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,JG=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		
		vec2 lodFudge = pow( 1.95, lod ) / fullSize;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec2 fullSize = vec2( textureSize( sampler, 0 ) );
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,KG=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,XG=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_UV2
	attribute vec2 uv2;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,YG=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,QG=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const ZG=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,qG=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,eV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,tV=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,nV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,rV=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,iV=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,sV=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,oV=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,aV=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,lV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,uV=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cV=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fV=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,dV=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,hV=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pV=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mV=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gV=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,vV=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yV=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,xV=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,_V=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,SV=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wV=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,bV=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MV=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,EV=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AV=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,CV=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,TV=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,LV=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,PV=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,RV=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Mt={alphamap_fragment:rH,alphamap_pars_fragment:iH,alphatest_fragment:sH,alphatest_pars_fragment:oH,aomap_fragment:aH,aomap_pars_fragment:lH,begin_vertex:uH,beginnormal_vertex:cH,bsdfs:fH,iridescence_fragment:dH,bumpmap_pars_fragment:hH,clipping_planes_fragment:pH,clipping_planes_pars_fragment:mH,clipping_planes_pars_vertex:gH,clipping_planes_vertex:vH,color_fragment:yH,color_pars_fragment:xH,color_pars_vertex:_H,color_vertex:SH,common:wH,cube_uv_reflection_fragment:bH,defaultnormal_vertex:MH,displacementmap_pars_vertex:EH,displacementmap_vertex:AH,emissivemap_fragment:CH,emissivemap_pars_fragment:TH,encodings_fragment:LH,encodings_pars_fragment:PH,envmap_fragment:RH,envmap_common_pars_fragment:IH,envmap_pars_fragment:BH,envmap_pars_vertex:DH,envmap_physical_pars_fragment:$H,envmap_vertex:OH,fog_vertex:kH,fog_pars_vertex:FH,fog_fragment:NH,fog_pars_fragment:UH,gradientmap_pars_fragment:zH,lightmap_fragment:HH,lightmap_pars_fragment:GH,lights_lambert_fragment:VH,lights_lambert_pars_fragment:jH,lights_pars_begin:WH,lights_toon_fragment:JH,lights_toon_pars_fragment:KH,lights_phong_fragment:XH,lights_phong_pars_fragment:YH,lights_physical_fragment:QH,lights_physical_pars_fragment:ZH,lights_fragment_begin:qH,lights_fragment_maps:eG,lights_fragment_end:tG,logdepthbuf_fragment:nG,logdepthbuf_pars_fragment:rG,logdepthbuf_pars_vertex:iG,logdepthbuf_vertex:sG,map_fragment:oG,map_pars_fragment:aG,map_particle_fragment:lG,map_particle_pars_fragment:uG,metalnessmap_fragment:cG,metalnessmap_pars_fragment:fG,morphcolor_vertex:dG,morphnormal_vertex:hG,morphtarget_pars_vertex:pG,morphtarget_vertex:mG,normal_fragment_begin:gG,normal_fragment_maps:vG,normal_pars_fragment:yG,normal_pars_vertex:xG,normal_vertex:_G,normalmap_pars_fragment:SG,clearcoat_normal_fragment_begin:wG,clearcoat_normal_fragment_maps:bG,clearcoat_pars_fragment:MG,iridescence_pars_fragment:EG,output_fragment:AG,packing:CG,premultiplied_alpha_fragment:TG,project_vertex:LG,dithering_fragment:PG,dithering_pars_fragment:RG,roughnessmap_fragment:IG,roughnessmap_pars_fragment:BG,shadowmap_pars_fragment:DG,shadowmap_pars_vertex:OG,shadowmap_vertex:kG,shadowmask_pars_fragment:FG,skinbase_vertex:NG,skinning_pars_vertex:UG,skinning_vertex:zG,skinnormal_vertex:HG,specularmap_fragment:GG,specularmap_pars_fragment:VG,tonemapping_fragment:jG,tonemapping_pars_fragment:WG,transmission_fragment:$G,transmission_pars_fragment:JG,uv_pars_fragment:KG,uv_pars_vertex:XG,uv_vertex:YG,worldpos_vertex:QG,background_vert:ZG,background_frag:qG,backgroundCube_vert:eV,backgroundCube_frag:tV,cube_vert:nV,cube_frag:rV,depth_vert:iV,depth_frag:sV,distanceRGBA_vert:oV,distanceRGBA_frag:aV,equirect_vert:lV,equirect_frag:uV,linedashed_vert:cV,linedashed_frag:fV,meshbasic_vert:dV,meshbasic_frag:hV,meshlambert_vert:pV,meshlambert_frag:mV,meshmatcap_vert:gV,meshmatcap_frag:vV,meshnormal_vert:yV,meshnormal_frag:xV,meshphong_vert:_V,meshphong_frag:SV,meshphysical_vert:wV,meshphysical_frag:bV,meshtoon_vert:MV,meshtoon_frag:EV,points_vert:AV,points_frag:CV,shadow_vert:TV,shadow_frag:LV,sprite_vert:PV,sprite_frag:RV},je={common:{diffuse:{value:new Ge(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Bt},alphaMap:{value:null},alphaMapTransform:{value:new Bt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Bt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Bt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Bt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Bt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Bt},normalScale:{value:new Oe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Bt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Bt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Bt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Bt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ge(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ge(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Bt}},sprite:{diffuse:{value:new Ge(16777215)},opacity:{value:1},center:{value:new Oe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Bt},alphaMap:{value:null},alphaTest:{value:0}}},bs={basic:{uniforms:Vr([je.common,je.specularmap,je.envmap,je.aomap,je.lightmap,je.fog]),vertexShader:Mt.meshbasic_vert,fragmentShader:Mt.meshbasic_frag},lambert:{uniforms:Vr([je.common,je.specularmap,je.envmap,je.aomap,je.lightmap,je.emissivemap,je.bumpmap,je.normalmap,je.displacementmap,je.fog,je.lights,{emissive:{value:new Ge(0)}}]),vertexShader:Mt.meshlambert_vert,fragmentShader:Mt.meshlambert_frag},phong:{uniforms:Vr([je.common,je.specularmap,je.envmap,je.aomap,je.lightmap,je.emissivemap,je.bumpmap,je.normalmap,je.displacementmap,je.fog,je.lights,{emissive:{value:new Ge(0)},specular:{value:new Ge(1118481)},shininess:{value:30}}]),vertexShader:Mt.meshphong_vert,fragmentShader:Mt.meshphong_frag},standard:{uniforms:Vr([je.common,je.envmap,je.aomap,je.lightmap,je.emissivemap,je.bumpmap,je.normalmap,je.displacementmap,je.roughnessmap,je.metalnessmap,je.fog,je.lights,{emissive:{value:new Ge(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag},toon:{uniforms:Vr([je.common,je.aomap,je.lightmap,je.emissivemap,je.bumpmap,je.normalmap,je.displacementmap,je.gradientmap,je.fog,je.lights,{emissive:{value:new Ge(0)}}]),vertexShader:Mt.meshtoon_vert,fragmentShader:Mt.meshtoon_frag},matcap:{uniforms:Vr([je.common,je.bumpmap,je.normalmap,je.displacementmap,je.fog,{matcap:{value:null}}]),vertexShader:Mt.meshmatcap_vert,fragmentShader:Mt.meshmatcap_frag},points:{uniforms:Vr([je.points,je.fog]),vertexShader:Mt.points_vert,fragmentShader:Mt.points_frag},dashed:{uniforms:Vr([je.common,je.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Mt.linedashed_vert,fragmentShader:Mt.linedashed_frag},depth:{uniforms:Vr([je.common,je.displacementmap]),vertexShader:Mt.depth_vert,fragmentShader:Mt.depth_frag},normal:{uniforms:Vr([je.common,je.bumpmap,je.normalmap,je.displacementmap,{opacity:{value:1}}]),vertexShader:Mt.meshnormal_vert,fragmentShader:Mt.meshnormal_frag},sprite:{uniforms:Vr([je.sprite,je.fog]),vertexShader:Mt.sprite_vert,fragmentShader:Mt.sprite_frag},background:{uniforms:{uvTransform:{value:new Bt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Mt.background_vert,fragmentShader:Mt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Mt.backgroundCube_vert,fragmentShader:Mt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Mt.cube_vert,fragmentShader:Mt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Mt.equirect_vert,fragmentShader:Mt.equirect_frag},distanceRGBA:{uniforms:Vr([je.common,je.displacementmap,{referencePosition:{value:new X},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Mt.distanceRGBA_vert,fragmentShader:Mt.distanceRGBA_frag},shadow:{uniforms:Vr([je.lights,je.fog,{color:{value:new Ge(0)},opacity:{value:1}}]),vertexShader:Mt.shadow_vert,fragmentShader:Mt.shadow_frag}};bs.physical={uniforms:Vr([bs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Bt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Bt},clearcoatNormalScale:{value:new Oe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Bt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Bt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Bt},sheen:{value:0},sheenColor:{value:new Ge(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Bt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Bt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Bt},transmissionSamplerSize:{value:new Oe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Bt},attenuationDistance:{value:0},attenuationColor:{value:new Ge(0)},specularColor:{value:new Ge(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Bt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Bt}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag};const eg={r:0,b:0,g:0};function IV(n,e,t,r,i,s,o){const a=new Ge(0);let l=s===!0?0:1,u,c,d=null,p=0,g=null;function y(v,m){let S=!1,_=m.isScene===!0?m.background:null;_&&_.isTexture&&(_=(m.backgroundBlurriness>0?t:e).get(_));const M=n.xr,P=M.getSession&&M.getSession();P&&P.environmentBlendMode==="additive"&&(_=null),_===null?x(a,l):_&&_.isColor&&(x(_,1),S=!0),(n.autoClear||S)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),_&&(_.isCubeTexture||_.mapping===vf)?(c===void 0&&(c=new tr(new rl(1,1,1),new rs({name:"BackgroundCubeMaterial",uniforms:sf(bs.backgroundCube.uniforms),vertexShader:bs.backgroundCube.vertexShader,fragmentShader:bs.backgroundCube.fragmentShader,side:Dr,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(C,R,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=_,c.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=m.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,c.material.toneMapped=_.encoding!==Ft,(d!==_||p!==_.version||g!==n.toneMapping)&&(c.material.needsUpdate=!0,d=_,p=_.version,g=n.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null)):_&&_.isTexture&&(u===void 0&&(u=new tr(new yf(2,2),new rs({name:"BackgroundMaterial",uniforms:sf(bs.background.uniforms),vertexShader:bs.background.vertexShader,fragmentShader:bs.background.fragmentShader,side:lo,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=_,u.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,u.material.toneMapped=_.encoding!==Ft,_.matrixAutoUpdate===!0&&_.updateMatrix(),u.material.uniforms.uvTransform.value.copy(_.matrix),(d!==_||p!==_.version||g!==n.toneMapping)&&(u.material.needsUpdate=!0,d=_,p=_.version,g=n.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null))}function x(v,m){v.getRGB(eg,pO(n)),r.buffers.color.setClear(eg.r,eg.g,eg.b,m,o)}return{getClearColor:function(){return a},setClearColor:function(v,m=1){a.set(v),l=m,x(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,x(a,l)},render:y}}function BV(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=v(null);let u=l,c=!1;function d(H,j,$,Z,k){let W=!1;if(o){const V=x(Z,$,j);u!==V&&(u=V,g(u.object)),W=m(H,Z,$,k),W&&S(H,Z,$,k)}else{const V=j.wireframe===!0;(u.geometry!==Z.id||u.program!==$.id||u.wireframe!==V)&&(u.geometry=Z.id,u.program=$.id,u.wireframe=V,W=!0)}k!==null&&t.update(k,34963),(W||c)&&(c=!1,T(H,j,$,Z),k!==null&&n.bindBuffer(34963,t.get(k).buffer))}function p(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function g(H){return r.isWebGL2?n.bindVertexArray(H):s.bindVertexArrayOES(H)}function y(H){return r.isWebGL2?n.deleteVertexArray(H):s.deleteVertexArrayOES(H)}function x(H,j,$){const Z=$.wireframe===!0;let k=a[H.id];k===void 0&&(k={},a[H.id]=k);let W=k[j.id];W===void 0&&(W={},k[j.id]=W);let V=W[Z];return V===void 0&&(V=v(p()),W[Z]=V),V}function v(H){const j=[],$=[],Z=[];for(let k=0;k<i;k++)j[k]=0,$[k]=0,Z[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:$,attributeDivisors:Z,object:H,attributes:{},index:null}}function m(H,j,$,Z){const k=u.attributes,W=j.attributes;let V=0;const ce=$.getAttributes();for(const oe in ce)if(ce[oe].location>=0){const q=k[oe];let we=W[oe];if(we===void 0&&(oe==="instanceMatrix"&&H.instanceMatrix&&(we=H.instanceMatrix),oe==="instanceColor"&&H.instanceColor&&(we=H.instanceColor)),q===void 0||q.attribute!==we||we&&q.data!==we.data)return!0;V++}return u.attributesNum!==V||u.index!==Z}function S(H,j,$,Z){const k={},W=j.attributes;let V=0;const ce=$.getAttributes();for(const oe in ce)if(ce[oe].location>=0){let q=W[oe];q===void 0&&(oe==="instanceMatrix"&&H.instanceMatrix&&(q=H.instanceMatrix),oe==="instanceColor"&&H.instanceColor&&(q=H.instanceColor));const we={};we.attribute=q,q&&q.data&&(we.data=q.data),k[oe]=we,V++}u.attributes=k,u.attributesNum=V,u.index=Z}function _(){const H=u.newAttributes;for(let j=0,$=H.length;j<$;j++)H[j]=0}function M(H){P(H,0)}function P(H,j){const $=u.newAttributes,Z=u.enabledAttributes,k=u.attributeDivisors;$[H]=1,Z[H]===0&&(n.enableVertexAttribArray(H),Z[H]=1),k[H]!==j&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](H,j),k[H]=j)}function C(){const H=u.newAttributes,j=u.enabledAttributes;for(let $=0,Z=j.length;$<Z;$++)j[$]!==H[$]&&(n.disableVertexAttribArray($),j[$]=0)}function R(H,j,$,Z,k,W){r.isWebGL2===!0&&($===5124||$===5125)?n.vertexAttribIPointer(H,j,$,k,W):n.vertexAttribPointer(H,j,$,Z,k,W)}function T(H,j,$,Z){if(r.isWebGL2===!1&&(H.isInstancedMesh||Z.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const k=Z.attributes,W=$.getAttributes(),V=j.defaultAttributeValues;for(const ce in W){const oe=W[ce];if(oe.location>=0){let re=k[ce];if(re===void 0&&(ce==="instanceMatrix"&&H.instanceMatrix&&(re=H.instanceMatrix),ce==="instanceColor"&&H.instanceColor&&(re=H.instanceColor)),re!==void 0){const q=re.normalized,we=re.itemSize,xe=t.get(re);if(xe===void 0)continue;const se=xe.buffer,pe=xe.type,N=xe.bytesPerElement;if(re.isInterleavedBufferAttribute){const G=re.data,Y=G.stride,ae=re.offset;if(G.isInstancedInterleavedBuffer){for(let te=0;te<oe.locationSize;te++)P(oe.location+te,G.meshPerAttribute);H.isInstancedMesh!==!0&&Z._maxInstanceCount===void 0&&(Z._maxInstanceCount=G.meshPerAttribute*G.count)}else for(let te=0;te<oe.locationSize;te++)M(oe.location+te);n.bindBuffer(34962,se);for(let te=0;te<oe.locationSize;te++)R(oe.location+te,we/oe.locationSize,pe,q,Y*N,(ae+we/oe.locationSize*te)*N)}else{if(re.isInstancedBufferAttribute){for(let G=0;G<oe.locationSize;G++)P(oe.location+G,re.meshPerAttribute);H.isInstancedMesh!==!0&&Z._maxInstanceCount===void 0&&(Z._maxInstanceCount=re.meshPerAttribute*re.count)}else for(let G=0;G<oe.locationSize;G++)M(oe.location+G);n.bindBuffer(34962,se);for(let G=0;G<oe.locationSize;G++)R(oe.location+G,we/oe.locationSize,pe,q,we*N,we/oe.locationSize*G*N)}}else if(V!==void 0){const q=V[ce];if(q!==void 0)switch(q.length){case 2:n.vertexAttrib2fv(oe.location,q);break;case 3:n.vertexAttrib3fv(oe.location,q);break;case 4:n.vertexAttrib4fv(oe.location,q);break;default:n.vertexAttrib1fv(oe.location,q)}}}}C()}function E(){D();for(const H in a){const j=a[H];for(const $ in j){const Z=j[$];for(const k in Z)y(Z[k].object),delete Z[k];delete j[$]}delete a[H]}}function A(H){if(a[H.id]===void 0)return;const j=a[H.id];for(const $ in j){const Z=j[$];for(const k in Z)y(Z[k].object),delete Z[k];delete j[$]}delete a[H.id]}function B(H){for(const j in a){const $=a[j];if($[H.id]===void 0)continue;const Z=$[H.id];for(const k in Z)y(Z[k].object),delete Z[k];delete $[H.id]}}function D(){U(),c=!0,u!==l&&(u=l,g(u.object))}function U(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:D,resetDefaultState:U,dispose:E,releaseStatesOfGeometry:A,releaseStatesOfProgram:B,initAttributes:_,enableAttribute:M,disableUnusedAttributes:C}}function DV(n,e,t,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,c){n.drawArrays(s,u,c),t.update(c,s,1)}function l(u,c,d){if(d===0)return;let p,g;if(i)p=n,g="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),g="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[g](s,u,c,d),t.update(c,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function OV(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),c=t.logarithmicDepthBuffer===!0,d=n.getParameter(34930),p=n.getParameter(35660),g=n.getParameter(3379),y=n.getParameter(34076),x=n.getParameter(34921),v=n.getParameter(36347),m=n.getParameter(36348),S=n.getParameter(36349),_=p>0,M=o||e.has("OES_texture_float"),P=_&&M,C=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:c,maxTextures:d,maxVertexTextures:p,maxTextureSize:g,maxCubemapSize:y,maxAttributes:x,maxVertexUniforms:v,maxVaryings:m,maxFragmentUniforms:S,vertexTextures:_,floatFragmentTextures:M,floatVertexTextures:P,maxSamples:C}}function kV(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new Ta,a=new Bt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const g=d.length!==0||p||r!==0||i;return i=p,r=d.length,g},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){t=c(d,p,0)},this.setState=function(d,p,g){const y=d.clippingPlanes,x=d.clipIntersection,v=d.clipShadows,m=n.get(d);if(!i||y===null||y.length===0||s&&!v)s?c(null):u();else{const S=s?0:r,_=S*4;let M=m.clippingState||null;l.value=M,M=c(y,p,_,g);for(let P=0;P!==_;++P)M[P]=t[P];m.clippingState=M,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=S}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(d,p,g,y){const x=d!==null?d.length:0;let v=null;if(x!==0){if(v=l.value,y!==!0||v===null){const m=g+x*4,S=p.matrixWorldInverse;a.getNormalMatrix(S),(v===null||v.length<m)&&(v=new Float32Array(m));for(let _=0,M=g;_!==x;++_,M+=4)o.copy(d[_]).applyMatrix4(S,a),o.normal.toArray(v,M),v[M+3]=o.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,v}}function FV(n){let e=new WeakMap;function t(o,a){return a===qc?o.mapping=Yo:a===Lh&&(o.mapping=Xa),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===qc||a===Lh)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new qb(l.height/2);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",i),t(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class xf extends rp{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Ac=4,j2=[.125,.215,.35,.446,.526,.582],Rl=20,fx=new xf,W2=new Ge;let dx=null;const Cl=(1+Math.sqrt(5))/2,Ku=1/Cl,$2=[new X(1,1,1),new X(-1,1,1),new X(1,1,-1),new X(-1,1,-1),new X(0,Cl,Ku),new X(0,Cl,-Ku),new X(Ku,0,Cl),new X(-Ku,0,Cl),new X(Cl,Ku,0),new X(-Cl,Ku,0)];class $S{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){dx=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=X2(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=K2(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(dx),e.scissorTest=!1,tg(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Yo||e.mapping===Xa?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),dx=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:gn,minFilter:gn,generateMipmaps:!1,type:Zi,format:oi,encoding:Ls,depthBuffer:!1},i=J2(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=J2(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=NV(s)),this._blurMaterial=UV(s,e,t)}return i}_compileMaterial(e){const t=new tr(this._lodPlanes[0],e);this._renderer.compile(t,fx)}_sceneToCubeUV(e,t,r,i){const a=new qn(90,1,t,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,d=c.autoClear,p=c.toneMapping;c.getClearColor(W2),c.toneMapping=Cs,c.autoClear=!1;const g=new li({name:"PMREM.Background",side:Dr,depthWrite:!1,depthTest:!1}),y=new tr(new rl,g);let x=!1;const v=e.background;v?v.isColor&&(g.color.copy(v),e.background=null,x=!0):(g.color.copy(W2),x=!0);for(let m=0;m<6;m++){const S=m%3;S===0?(a.up.set(0,l[m],0),a.lookAt(u[m],0,0)):S===1?(a.up.set(0,0,l[m]),a.lookAt(0,u[m],0)):(a.up.set(0,l[m],0),a.lookAt(0,0,u[m]));const _=this._cubeSize;tg(i,S*_,m>2?_:0,_,_),c.setRenderTarget(i),x&&c.render(y,a),c.render(e,a)}y.geometry.dispose(),y.material.dispose(),c.toneMapping=p,c.autoClear=d,e.background=v}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Yo||e.mapping===Xa;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=X2()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=K2());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new tr(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;tg(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,fx)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=$2[(i-1)%$2.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,d=new tr(this._lodPlanes[i],u),p=u.uniforms,g=this._sizeLods[r]-1,y=isFinite(s)?Math.PI/(2*g):2*Math.PI/(2*Rl-1),x=s/y,v=isFinite(s)?1+Math.floor(c*x):Rl;v>Rl&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${Rl}`);const m=[];let S=0;for(let R=0;R<Rl;++R){const T=R/x,E=Math.exp(-T*T/2);m.push(E),R===0?S+=E:R<v&&(S+=2*E)}for(let R=0;R<m.length;R++)m[R]=m[R]/S;p.envMap.value=e.texture,p.samples.value=v,p.weights.value=m,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:_}=this;p.dTheta.value=y,p.mipInt.value=_-r;const M=this._sizeLods[i],P=3*M*(i>_-Ac?i-_+Ac:0),C=4*(this._cubeSize-M);tg(t,P,C,3*M,2*M),l.setRenderTarget(t),l.render(d,fx)}}function NV(n){const e=[],t=[],r=[];let i=n;const s=n-Ac+1+j2.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-Ac?l=j2[o-n+Ac-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),c=-u,d=1+u,p=[c,c,d,c,d,d,c,c,d,d,c,d],g=6,y=6,x=3,v=2,m=1,S=new Float32Array(x*y*g),_=new Float32Array(v*y*g),M=new Float32Array(m*y*g);for(let C=0;C<g;C++){const R=C%3*2/3-1,T=C>2?0:-1,E=[R,T,0,R+2/3,T,0,R+2/3,T+1,0,R,T,0,R+2/3,T+1,0,R,T+1,0];S.set(E,x*y*C),_.set(p,v*y*C);const A=[C,C,C,C,C,C];M.set(A,m*y*C)}const P=new St;P.setAttribute("position",new jt(S,x)),P.setAttribute("uv",new jt(_,v)),P.setAttribute("faceIndex",new jt(M,m)),e.push(P),i>Ac&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function J2(n,e,t){const r=new Ii(n,e,t);return r.texture.mapping=vf,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function tg(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function UV(n,e,t){const r=new Float32Array(Rl),i=new X(0,1,0);return new rs({name:"SphericalGaussianBlur",defines:{n:Rl,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:eM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:zo,depthTest:!1,depthWrite:!1})}function K2(){return new rs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:eM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:zo,depthTest:!1,depthWrite:!1})}function X2(){return new rs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:eM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:zo,depthTest:!1,depthWrite:!1})}function eM(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function zV(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===qc||l===Lh,c=l===Yo||l===Xa;if(u||c)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return t===null&&(t=new $S(n)),d=u?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(u&&d&&d.height>0||c&&d&&i(d)){t===null&&(t=new $S(n));const p=u?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function HV(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function GV(n,e,t,r){const i={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);p.removeEventListener("dispose",o),delete i[p.id];const g=s.get(p);g&&(e.remove(g),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(d,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function l(d){const p=d.attributes;for(const y in p)e.update(p[y],34962);const g=d.morphAttributes;for(const y in g){const x=g[y];for(let v=0,m=x.length;v<m;v++)e.update(x[v],34962)}}function u(d){const p=[],g=d.index,y=d.attributes.position;let x=0;if(g!==null){const S=g.array;x=g.version;for(let _=0,M=S.length;_<M;_+=3){const P=S[_+0],C=S[_+1],R=S[_+2];p.push(P,C,C,R,R,P)}}else{const S=y.array;x=y.version;for(let _=0,M=S.length/3-1;_<M;_+=3){const P=_+0,C=_+1,R=_+2;p.push(P,C,C,R,R,P)}}const v=new(dO(p)?Qb:Yb)(p,1);v.version=x;const m=s.get(d);m&&e.remove(m),s.set(d,v)}function c(d){const p=s.get(d);if(p){const g=d.index;g!==null&&p.version<g.version&&u(d)}else u(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:c}}function VV(n,e,t,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,l;function u(p){a=p.type,l=p.bytesPerElement}function c(p,g){n.drawElements(s,g,a,p*l),t.update(g,s,1)}function d(p,g,y){if(y===0)return;let x,v;if(i)x=n,v="drawElementsInstanced";else if(x=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",x===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}x[v](s,g,a,p*l,y),t.update(g,s,y)}this.setMode=o,this.setIndex=u,this.render=c,this.renderInstances=d}function jV(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function WV(n,e){return n[0]-e[0]}function $V(n,e){return Math.abs(e[1])-Math.abs(n[1])}function JV(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new qt,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,c,d){const p=u.morphTargetInfluences;if(e.isWebGL2===!0){const y=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,x=y!==void 0?y.length:0;let v=s.get(c);if(v===void 0||v.count!==x){let j=function(){U.dispose(),s.delete(c),c.removeEventListener("dispose",j)};var g=j;v!==void 0&&v.texture.dispose();const _=c.morphAttributes.position!==void 0,M=c.morphAttributes.normal!==void 0,P=c.morphAttributes.color!==void 0,C=c.morphAttributes.position||[],R=c.morphAttributes.normal||[],T=c.morphAttributes.color||[];let E=0;_===!0&&(E=1),M===!0&&(E=2),P===!0&&(E=3);let A=c.attributes.position.count*E,B=1;A>e.maxTextureSize&&(B=Math.ceil(A/e.maxTextureSize),A=e.maxTextureSize);const D=new Float32Array(A*B*4*x),U=new F0(D,A,B,x);U.type=Ai,U.needsUpdate=!0;const H=E*4;for(let $=0;$<x;$++){const Z=C[$],k=R[$],W=T[$],V=A*B*4*$;for(let ce=0;ce<Z.count;ce++){const oe=ce*H;_===!0&&(o.fromBufferAttribute(Z,ce),D[V+oe+0]=o.x,D[V+oe+1]=o.y,D[V+oe+2]=o.z,D[V+oe+3]=0),M===!0&&(o.fromBufferAttribute(k,ce),D[V+oe+4]=o.x,D[V+oe+5]=o.y,D[V+oe+6]=o.z,D[V+oe+7]=0),P===!0&&(o.fromBufferAttribute(W,ce),D[V+oe+8]=o.x,D[V+oe+9]=o.y,D[V+oe+10]=o.z,D[V+oe+11]=W.itemSize===4?o.w:1)}}v={count:x,texture:U,size:new Oe(A,B)},s.set(c,v),c.addEventListener("dispose",j)}let m=0;for(let _=0;_<p.length;_++)m+=p[_];const S=c.morphTargetsRelative?1:1-m;d.getUniforms().setValue(n,"morphTargetBaseInfluence",S),d.getUniforms().setValue(n,"morphTargetInfluences",p),d.getUniforms().setValue(n,"morphTargetsTexture",v.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",v.size)}else{const y=p===void 0?0:p.length;let x=r[c.id];if(x===void 0||x.length!==y){x=[];for(let M=0;M<y;M++)x[M]=[M,0];r[c.id]=x}for(let M=0;M<y;M++){const P=x[M];P[0]=M,P[1]=p[M]}x.sort($V);for(let M=0;M<8;M++)M<y&&x[M][1]?(a[M][0]=x[M][0],a[M][1]=x[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(WV);const v=c.morphAttributes.position,m=c.morphAttributes.normal;let S=0;for(let M=0;M<8;M++){const P=a[M],C=P[0],R=P[1];C!==Number.MAX_SAFE_INTEGER&&R?(v&&c.getAttribute("morphTarget"+M)!==v[C]&&c.setAttribute("morphTarget"+M,v[C]),m&&c.getAttribute("morphNormal"+M)!==m[C]&&c.setAttribute("morphNormal"+M,m[C]),i[M]=R,S+=R):(v&&c.hasAttribute("morphTarget"+M)===!0&&c.deleteAttribute("morphTarget"+M),m&&c.hasAttribute("morphNormal"+M)===!0&&c.deleteAttribute("morphNormal"+M),i[M]=0)}const _=c.morphTargetsRelative?1:1-S;d.getUniforms().setValue(n,"morphTargetBaseInfluence",_),d.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function KV(n,e,t,r){let i=new WeakMap;function s(l){const u=r.render.frame,c=l.geometry,d=e.get(l,c);return i.get(d)!==u&&(e.update(d),i.set(d,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),d}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const vO=new yn,yO=new F0,xO=new Xb,_O=new ip,Y2=[],Q2=[],Z2=new Float32Array(16),q2=new Float32Array(9),e3=new Float32Array(4);function _f(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=Y2[i];if(s===void 0&&(s=new Float32Array(i),Y2[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function nr(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function rr(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function U0(n,e){let t=Q2[e];t===void 0&&(t=new Int32Array(e),Q2[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function XV(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function YV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(nr(t,e))return;n.uniform2fv(this.addr,e),rr(t,e)}}function QV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(nr(t,e))return;n.uniform3fv(this.addr,e),rr(t,e)}}function ZV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(nr(t,e))return;n.uniform4fv(this.addr,e),rr(t,e)}}function qV(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(nr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),rr(t,e)}else{if(nr(t,r))return;e3.set(r),n.uniformMatrix2fv(this.addr,!1,e3),rr(t,r)}}function e7(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(nr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),rr(t,e)}else{if(nr(t,r))return;q2.set(r),n.uniformMatrix3fv(this.addr,!1,q2),rr(t,r)}}function t7(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(nr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),rr(t,e)}else{if(nr(t,r))return;Z2.set(r),n.uniformMatrix4fv(this.addr,!1,Z2),rr(t,r)}}function n7(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function r7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(nr(t,e))return;n.uniform2iv(this.addr,e),rr(t,e)}}function i7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(nr(t,e))return;n.uniform3iv(this.addr,e),rr(t,e)}}function s7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(nr(t,e))return;n.uniform4iv(this.addr,e),rr(t,e)}}function o7(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function a7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(nr(t,e))return;n.uniform2uiv(this.addr,e),rr(t,e)}}function l7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(nr(t,e))return;n.uniform3uiv(this.addr,e),rr(t,e)}}function u7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(nr(t,e))return;n.uniform4uiv(this.addr,e),rr(t,e)}}function c7(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||vO,i)}function f7(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||xO,i)}function d7(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||_O,i)}function h7(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||yO,i)}function p7(n){switch(n){case 5126:return XV;case 35664:return YV;case 35665:return QV;case 35666:return ZV;case 35674:return qV;case 35675:return e7;case 35676:return t7;case 5124:case 35670:return n7;case 35667:case 35671:return r7;case 35668:case 35672:return i7;case 35669:case 35673:return s7;case 5125:return o7;case 36294:return a7;case 36295:return l7;case 36296:return u7;case 35678:case 36198:case 36298:case 36306:case 35682:return c7;case 35679:case 36299:case 36307:return f7;case 35680:case 36300:case 36308:case 36293:return d7;case 36289:case 36303:case 36311:case 36292:return h7}}function m7(n,e){n.uniform1fv(this.addr,e)}function g7(n,e){const t=_f(e,this.size,2);n.uniform2fv(this.addr,t)}function v7(n,e){const t=_f(e,this.size,3);n.uniform3fv(this.addr,t)}function y7(n,e){const t=_f(e,this.size,4);n.uniform4fv(this.addr,t)}function x7(n,e){const t=_f(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function _7(n,e){const t=_f(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function S7(n,e){const t=_f(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function w7(n,e){n.uniform1iv(this.addr,e)}function b7(n,e){n.uniform2iv(this.addr,e)}function M7(n,e){n.uniform3iv(this.addr,e)}function E7(n,e){n.uniform4iv(this.addr,e)}function A7(n,e){n.uniform1uiv(this.addr,e)}function C7(n,e){n.uniform2uiv(this.addr,e)}function T7(n,e){n.uniform3uiv(this.addr,e)}function L7(n,e){n.uniform4uiv(this.addr,e)}function P7(n,e,t){const r=this.cache,i=e.length,s=U0(t,i);nr(r,s)||(n.uniform1iv(this.addr,s),rr(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||vO,s[o])}function R7(n,e,t){const r=this.cache,i=e.length,s=U0(t,i);nr(r,s)||(n.uniform1iv(this.addr,s),rr(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||xO,s[o])}function I7(n,e,t){const r=this.cache,i=e.length,s=U0(t,i);nr(r,s)||(n.uniform1iv(this.addr,s),rr(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||_O,s[o])}function B7(n,e,t){const r=this.cache,i=e.length,s=U0(t,i);nr(r,s)||(n.uniform1iv(this.addr,s),rr(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||yO,s[o])}function D7(n){switch(n){case 5126:return m7;case 35664:return g7;case 35665:return v7;case 35666:return y7;case 35674:return x7;case 35675:return _7;case 35676:return S7;case 5124:case 35670:return w7;case 35667:case 35671:return b7;case 35668:case 35672:return M7;case 35669:case 35673:return E7;case 5125:return A7;case 36294:return C7;case 36295:return T7;case 36296:return L7;case 35678:case 36198:case 36298:case 36306:case 35682:return P7;case 35679:case 36299:case 36307:return R7;case 35680:case 36300:case 36308:case 36293:return I7;case 36289:case 36303:case 36311:case 36292:return B7}}class O7{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=p7(t.type)}}class k7{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=D7(t.type)}}class F7{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const hx=/(\w+)(\])?(\[|\.)?/g;function t3(n,e){n.seq.push(e),n.map[e.id]=e}function N7(n,e,t){const r=n.name,i=r.length;for(hx.lastIndex=0;;){const s=hx.exec(r),o=hx.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){t3(t,u===void 0?new O7(a,n,e):new k7(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new F7(a),t3(t,d)),t=d}}}class lv{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);N7(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function n3(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let U7=0;function z7(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function H7(n){switch(n){case Ls:return["Linear","( value )"];case Ft:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function r3(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+z7(n.getShaderSource(e),o)}else return i}function G7(n,e){const t=H7(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function V7(n,e){let t;switch(e){case FD:t="Linear";break;case ND:t="Reinhard";break;case UD:t="OptimizedCineon";break;case Gb:t="ACESFilmic";break;case zD:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function j7(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Vd).join(`
`)}function W7(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function $7(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Vd(n){return n!==""}function i3(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function s3(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const J7=/^[ \t]*#include +<([\w\d./]+)>/gm;function JS(n){return n.replace(J7,K7)}function K7(n,e){const t=Mt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return JS(t)}const X7=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function o3(n){return n.replace(X7,Y7)}function Y7(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function a3(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Q7(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===B0?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===th?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Fl&&(e="SHADOWMAP_TYPE_VSM"),e}function Z7(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Yo:case Xa:e="ENVMAP_TYPE_CUBE";break;case vf:e="ENVMAP_TYPE_CUBE_UV";break}return e}function q7(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Xa:e="ENVMAP_MODE_REFRACTION";break}return e}function ej(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case ep:e="ENVMAP_BLENDING_MULTIPLY";break;case OD:e="ENVMAP_BLENDING_MIX";break;case kD:e="ENVMAP_BLENDING_ADD";break}return e}function tj(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function nj(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=Q7(t),u=Z7(t),c=q7(t),d=ej(t),p=tj(t),g=t.isWebGL2?"":j7(t),y=W7(s),x=i.createProgram();let v,m,S=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(v=[y].filter(Vd).join(`
`),v.length>0&&(v+=`
`),m=[g,y].filter(Vd).join(`
`),m.length>0&&(m+=`
`)):(v=[a3(t),"#define SHADER_NAME "+t.shaderName,y,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs2?"#define USE_UV2":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Vd).join(`
`),m=[g,a3(t),"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+c:"",t.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs2?"#define USE_UV2":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Cs?"#define TONE_MAPPING":"",t.toneMapping!==Cs?Mt.tonemapping_pars_fragment:"",t.toneMapping!==Cs?V7("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Mt.encodings_pars_fragment,G7("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Vd).join(`
`)),o=JS(o),o=i3(o,t),o=s3(o,t),a=JS(a),a=i3(a,t),a=s3(a,t),o=o3(o),a=o3(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,v=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,m=["#define varying in",t.glslVersion===jS?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===jS?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+m);const _=S+v+o,M=S+m+a,P=n3(i,35633,_),C=n3(i,35632,M);if(i.attachShader(x,P),i.attachShader(x,C),t.index0AttributeName!==void 0?i.bindAttribLocation(x,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x),n.debug.checkShaderErrors){const E=i.getProgramInfoLog(x).trim(),A=i.getShaderInfoLog(P).trim(),B=i.getShaderInfoLog(C).trim();let D=!0,U=!0;if(i.getProgramParameter(x,35714)===!1)if(D=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,x,P,C);else{const H=r3(i,P,"vertex"),j=r3(i,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,35715)+`

Program Info Log: `+E+`
`+H+`
`+j)}else E!==""?console.warn("THREE.WebGLProgram: Program Info Log:",E):(A===""||B==="")&&(U=!1);U&&(this.diagnostics={runnable:D,programLog:E,vertexShader:{log:A,prefix:v},fragmentShader:{log:B,prefix:m}})}i.deleteShader(P),i.deleteShader(C);let R;this.getUniforms=function(){return R===void 0&&(R=new lv(i,x)),R};let T;return this.getAttributes=function(){return T===void 0&&(T=$7(i,x)),T},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.name=t.shaderName,this.id=U7++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=P,this.fragmentShader=C,this}let rj=0;class ij{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new sj(e),t.set(e,r)),r}}class sj{constructor(e){this.id=rj++,this.code=e,this.usedTimes=0}}function oj(n,e,t,r,i,s,o){const a=new Kl,l=new ij,u=[],c=i.isWebGL2,d=i.logarithmicDepthBuffer,p=i.vertexTextures;let g=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(E){return E===1?"uv2":"uv"}function v(E,A,B,D,U){const H=D.fog,j=U.geometry,$=E.isMeshStandardMaterial?D.environment:null,Z=(E.isMeshStandardMaterial?t:e).get(E.envMap||$),k=Z&&Z.mapping===vf?Z.image.height:null,W=y[E.type];E.precision!==null&&(g=i.getMaxPrecision(E.precision),g!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",g,"instead."));const V=j.morphAttributes.position||j.morphAttributes.normal||j.morphAttributes.color,ce=V!==void 0?V.length:0;let oe=0;j.morphAttributes.position!==void 0&&(oe=1),j.morphAttributes.normal!==void 0&&(oe=2),j.morphAttributes.color!==void 0&&(oe=3);let re,q,we,xe;if(W){const Fe=bs[W];re=Fe.vertexShader,q=Fe.fragmentShader}else re=E.vertexShader,q=E.fragmentShader,l.update(E),we=l.getVertexShaderID(E),xe=l.getFragmentShaderID(E);const se=n.getRenderTarget(),pe=U.isInstancedMesh===!0,N=!!E.map,G=!!E.matcap,Y=!!Z,ae=!!E.aoMap,te=!!E.lightMap,le=!!E.bumpMap,Re=!!E.normalMap,Ie=!!E.displacementMap,Ve=!!E.emissiveMap,Ke=!!E.metalnessMap,We=!!E.roughnessMap,Ze=E.clearcoat>0,et=E.iridescence>0,J=E.sheen>0,z=E.transmission>0,fe=Ze&&!!E.clearcoatMap,Ce=Ze&&!!E.clearcoatNormalMap,Be=Ze&&!!E.clearcoatRoughnessMap,ke=et&&!!E.iridescenceMap,rt=et&&!!E.iridescenceThicknessMap,ue=J&&!!E.sheenColorMap,ee=J&&!!E.sheenRoughnessMap,me=!!E.specularMap,Ee=!!E.specularColorMap,Le=!!E.specularIntensityMap,Ae=z&&!!E.transmissionMap,De=z&&!!E.thicknessMap,Ue=!!E.gradientMap,ze=!!E.alphaMap,ot=E.alphaTest>0,ie=!!E.extensions,_e=!!j.attributes.uv2;return{isWebGL2:c,shaderID:W,shaderName:E.type,vertexShader:re,fragmentShader:q,defines:E.defines,customVertexShaderID:we,customFragmentShaderID:xe,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:g,instancing:pe,instancingColor:pe&&U.instanceColor!==null,supportsVertexTextures:p,outputEncoding:se===null?n.outputEncoding:se.isXRRenderTarget===!0?se.texture.encoding:Ls,map:N,matcap:G,envMap:Y,envMapMode:Y&&Z.mapping,envMapCubeUVHeight:k,aoMap:ae,lightMap:te,bumpMap:le,normalMap:Re,displacementMap:p&&Ie,emissiveMap:Ve,normalMapObjectSpace:Re&&E.normalMapType===lO,normalMapTangentSpace:Re&&E.normalMapType===ra,decodeVideoTexture:N&&E.map.isVideoTexture===!0&&E.map.encoding===Ft,metalnessMap:Ke,roughnessMap:We,clearcoat:Ze,clearcoatMap:fe,clearcoatNormalMap:Ce,clearcoatRoughnessMap:Be,iridescence:et,iridescenceMap:ke,iridescenceThicknessMap:rt,sheen:J,sheenColorMap:ue,sheenRoughnessMap:ee,specularMap:me,specularColorMap:Ee,specularIntensityMap:Le,transmission:z,transmissionMap:Ae,thicknessMap:De,gradientMap:Ue,opaque:E.transparent===!1&&E.blending===Wl,alphaMap:ze,alphaTest:ot,combine:E.combine,mapUv:N&&x(E.map.channel),aoMapUv:ae&&x(E.aoMap.channel),lightMapUv:te&&x(E.lightMap.channel),bumpMapUv:le&&x(E.bumpMap.channel),normalMapUv:Re&&x(E.normalMap.channel),displacementMapUv:Ie&&x(E.displacementMap.channel),emissiveMapUv:Ve&&x(E.emissiveMap.channel),metalnessMapUv:Ke&&x(E.metalnessMap.channel),roughnessMapUv:We&&x(E.roughnessMap.channel),clearcoatMapUv:fe&&x(E.clearcoatMap.channel),clearcoatNormalMapUv:Ce&&x(E.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Be&&x(E.clearcoatRoughnessMap.channel),iridescenceMapUv:ke&&x(E.iridescenceMap.channel),iridescenceThicknessMapUv:rt&&x(E.iridescenceThicknessMap.channel),sheenColorMapUv:ue&&x(E.sheenColorMap.channel),sheenRoughnessMapUv:ee&&x(E.sheenRoughnessMap.channel),specularMapUv:me&&x(E.specularMap.channel),specularColorMapUv:Ee&&x(E.specularColorMap.channel),specularIntensityMapUv:Le&&x(E.specularIntensityMap.channel),transmissionMapUv:Ae&&x(E.transmissionMap.channel),thicknessMapUv:De&&x(E.thicknessMap.channel),alphaMapUv:ze&&x(E.alphaMap.channel),vertexTangents:Re&&!!j.attributes.tangent,vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!j.attributes.color&&j.attributes.color.itemSize===4,vertexUvs2:_e,pointsUvs:U.isPoints===!0&&!!j.attributes.uv&&(N||ze),fog:!!H,useFog:E.fog===!0,fogExp2:H&&H.isFogExp2,flatShading:E.flatShading===!0,sizeAttenuation:E.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:U.isSkinnedMesh===!0,morphTargets:j.morphAttributes.position!==void 0,morphNormals:j.morphAttributes.normal!==void 0,morphColors:j.morphAttributes.color!==void 0,morphTargetsCount:ce,morphTextureStride:oe,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numSpotLightMaps:A.spotLightMap.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numSpotLightShadowsWithMaps:A.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:E.dithering,shadowMapEnabled:n.shadowMap.enabled&&B.length>0,shadowMapType:n.shadowMap.type,toneMapping:E.toneMapped?n.toneMapping:Cs,useLegacyLights:n.useLegacyLights,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===Mi,flipSided:E.side===Dr,useDepthPacking:E.depthPacking>=0,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionDerivatives:ie&&E.extensions.derivatives===!0,extensionFragDepth:ie&&E.extensions.fragDepth===!0,extensionDrawBuffers:ie&&E.extensions.drawBuffers===!0,extensionShaderTextureLOD:ie&&E.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:E.customProgramCacheKey()}}function m(E){const A=[];if(E.shaderID?A.push(E.shaderID):(A.push(E.customVertexShaderID),A.push(E.customFragmentShaderID)),E.defines!==void 0)for(const B in E.defines)A.push(B),A.push(E.defines[B]);return E.isRawShaderMaterial===!1&&(S(A,E),_(A,E),A.push(n.outputEncoding)),A.push(E.customProgramCacheKey),A.join()}function S(E,A){E.push(A.precision),E.push(A.outputEncoding),E.push(A.envMapMode),E.push(A.envMapCubeUVHeight),E.push(A.mapUv),E.push(A.alphaMapUv),E.push(A.lightMapUv),E.push(A.aoMapUv),E.push(A.bumpMapUv),E.push(A.normalMapUv),E.push(A.displacementMapUv),E.push(A.emissiveMapUv),E.push(A.metalnessMapUv),E.push(A.roughnessMapUv),E.push(A.clearcoatMapUv),E.push(A.clearcoatNormalMapUv),E.push(A.clearcoatRoughnessMapUv),E.push(A.iridescenceMapUv),E.push(A.iridescenceThicknessMapUv),E.push(A.sheenColorMapUv),E.push(A.sheenRoughnessMapUv),E.push(A.specularMapUv),E.push(A.specularColorMapUv),E.push(A.specularIntensityMapUv),E.push(A.transmissionMapUv),E.push(A.thicknessMapUv),E.push(A.combine),E.push(A.fogExp2),E.push(A.sizeAttenuation),E.push(A.morphTargetsCount),E.push(A.morphAttributeCount),E.push(A.numDirLights),E.push(A.numPointLights),E.push(A.numSpotLights),E.push(A.numSpotLightMaps),E.push(A.numHemiLights),E.push(A.numRectAreaLights),E.push(A.numDirLightShadows),E.push(A.numPointLightShadows),E.push(A.numSpotLightShadows),E.push(A.numSpotLightShadowsWithMaps),E.push(A.shadowMapType),E.push(A.toneMapping),E.push(A.numClippingPlanes),E.push(A.numClipIntersection),E.push(A.depthPacking)}function _(E,A){a.disableAll(),A.isWebGL2&&a.enable(0),A.supportsVertexTextures&&a.enable(1),A.instancing&&a.enable(2),A.instancingColor&&a.enable(3),A.matcap&&a.enable(4),A.envMap&&a.enable(5),A.normalMapObjectSpace&&a.enable(6),A.normalMapTangentSpace&&a.enable(7),A.clearcoat&&a.enable(8),A.iridescence&&a.enable(9),A.alphaTest&&a.enable(10),A.vertexColors&&a.enable(11),A.vertexAlphas&&a.enable(12),A.vertexUvs2&&a.enable(13),A.vertexTangents&&a.enable(14),E.push(a.mask),a.disableAll(),A.fog&&a.enable(0),A.useFog&&a.enable(1),A.flatShading&&a.enable(2),A.logarithmicDepthBuffer&&a.enable(3),A.skinning&&a.enable(4),A.morphTargets&&a.enable(5),A.morphNormals&&a.enable(6),A.morphColors&&a.enable(7),A.premultipliedAlpha&&a.enable(8),A.shadowMapEnabled&&a.enable(9),A.useLegacyLights&&a.enable(10),A.doubleSided&&a.enable(11),A.flipSided&&a.enable(12),A.useDepthPacking&&a.enable(13),A.dithering&&a.enable(14),A.transmission&&a.enable(15),A.sheen&&a.enable(16),A.decodeVideoTexture&&a.enable(17),A.opaque&&a.enable(18),A.pointsUvs&&a.enable(19),E.push(a.mask)}function M(E){const A=y[E.type];let B;if(A){const D=bs[A];B=Zb.clone(D.uniforms)}else B=E.uniforms;return B}function P(E,A){let B;for(let D=0,U=u.length;D<U;D++){const H=u[D];if(H.cacheKey===A){B=H,++B.usedTimes;break}}return B===void 0&&(B=new nj(n,A,E,s),u.push(B)),B}function C(E){if(--E.usedTimes===0){const A=u.indexOf(E);u[A]=u[u.length-1],u.pop(),E.destroy()}}function R(E){l.remove(E)}function T(){l.dispose()}return{getParameters:v,getProgramCacheKey:m,getUniforms:M,acquireProgram:P,releaseProgram:C,releaseShaderCache:R,programs:u,dispose:T}}function aj(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function lj(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function l3(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function u3(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(d,p,g,y,x,v){let m=n[e];return m===void 0?(m={id:d.id,object:d,geometry:p,material:g,groupOrder:y,renderOrder:d.renderOrder,z:x,group:v},n[e]=m):(m.id=d.id,m.object=d,m.geometry=p,m.material=g,m.groupOrder=y,m.renderOrder=d.renderOrder,m.z=x,m.group=v),e++,m}function a(d,p,g,y,x,v){const m=o(d,p,g,y,x,v);g.transmission>0?r.push(m):g.transparent===!0?i.push(m):t.push(m)}function l(d,p,g,y,x,v){const m=o(d,p,g,y,x,v);g.transmission>0?r.unshift(m):g.transparent===!0?i.unshift(m):t.unshift(m)}function u(d,p){t.length>1&&t.sort(d||lj),r.length>1&&r.sort(p||l3),i.length>1&&i.sort(p||l3)}function c(){for(let d=e,p=n.length;d<p;d++){const g=n[d];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:c,sort:u}}function uj(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new u3,n.set(r,[o])):i>=s.length?(o=new u3,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function cj(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new X,color:new Ge};break;case"SpotLight":t={position:new X,direction:new X,color:new Ge,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new X,color:new Ge,distance:0,decay:0};break;case"HemisphereLight":t={direction:new X,skyColor:new Ge,groundColor:new Ge};break;case"RectAreaLight":t={color:new Ge,position:new X,halfWidth:new X,halfHeight:new X};break}return n[e.id]=t,t}}}function fj(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Oe};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Oe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Oe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let dj=0;function hj(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function pj(n,e){const t=new cj,r=fj(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)i.probe.push(new X);const s=new X,o=new mt,a=new mt;function l(c,d){let p=0,g=0,y=0;for(let B=0;B<9;B++)i.probe[B].set(0,0,0);let x=0,v=0,m=0,S=0,_=0,M=0,P=0,C=0,R=0,T=0;c.sort(hj);const E=d===!0?Math.PI:1;for(let B=0,D=c.length;B<D;B++){const U=c[B],H=U.color,j=U.intensity,$=U.distance,Z=U.shadow&&U.shadow.map?U.shadow.map.texture:null;if(U.isAmbientLight)p+=H.r*j*E,g+=H.g*j*E,y+=H.b*j*E;else if(U.isLightProbe)for(let k=0;k<9;k++)i.probe[k].addScaledVector(U.sh.coefficients[k],j);else if(U.isDirectionalLight){const k=t.get(U);if(k.color.copy(U.color).multiplyScalar(U.intensity*E),U.castShadow){const W=U.shadow,V=r.get(U);V.shadowBias=W.bias,V.shadowNormalBias=W.normalBias,V.shadowRadius=W.radius,V.shadowMapSize=W.mapSize,i.directionalShadow[x]=V,i.directionalShadowMap[x]=Z,i.directionalShadowMatrix[x]=U.shadow.matrix,M++}i.directional[x]=k,x++}else if(U.isSpotLight){const k=t.get(U);k.position.setFromMatrixPosition(U.matrixWorld),k.color.copy(H).multiplyScalar(j*E),k.distance=$,k.coneCos=Math.cos(U.angle),k.penumbraCos=Math.cos(U.angle*(1-U.penumbra)),k.decay=U.decay,i.spot[m]=k;const W=U.shadow;if(U.map&&(i.spotLightMap[R]=U.map,R++,W.updateMatrices(U),U.castShadow&&T++),i.spotLightMatrix[m]=W.matrix,U.castShadow){const V=r.get(U);V.shadowBias=W.bias,V.shadowNormalBias=W.normalBias,V.shadowRadius=W.radius,V.shadowMapSize=W.mapSize,i.spotShadow[m]=V,i.spotShadowMap[m]=Z,C++}m++}else if(U.isRectAreaLight){const k=t.get(U);k.color.copy(H).multiplyScalar(j),k.halfWidth.set(U.width*.5,0,0),k.halfHeight.set(0,U.height*.5,0),i.rectArea[S]=k,S++}else if(U.isPointLight){const k=t.get(U);if(k.color.copy(U.color).multiplyScalar(U.intensity*E),k.distance=U.distance,k.decay=U.decay,U.castShadow){const W=U.shadow,V=r.get(U);V.shadowBias=W.bias,V.shadowNormalBias=W.normalBias,V.shadowRadius=W.radius,V.shadowMapSize=W.mapSize,V.shadowCameraNear=W.camera.near,V.shadowCameraFar=W.camera.far,i.pointShadow[v]=V,i.pointShadowMap[v]=Z,i.pointShadowMatrix[v]=U.shadow.matrix,P++}i.point[v]=k,v++}else if(U.isHemisphereLight){const k=t.get(U);k.skyColor.copy(U.color).multiplyScalar(j*E),k.groundColor.copy(U.groundColor).multiplyScalar(j*E),i.hemi[_]=k,_++}}S>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=je.LTC_FLOAT_1,i.rectAreaLTC2=je.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=je.LTC_HALF_1,i.rectAreaLTC2=je.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=g,i.ambient[2]=y;const A=i.hash;(A.directionalLength!==x||A.pointLength!==v||A.spotLength!==m||A.rectAreaLength!==S||A.hemiLength!==_||A.numDirectionalShadows!==M||A.numPointShadows!==P||A.numSpotShadows!==C||A.numSpotMaps!==R)&&(i.directional.length=x,i.spot.length=m,i.rectArea.length=S,i.point.length=v,i.hemi.length=_,i.directionalShadow.length=M,i.directionalShadowMap.length=M,i.pointShadow.length=P,i.pointShadowMap.length=P,i.spotShadow.length=C,i.spotShadowMap.length=C,i.directionalShadowMatrix.length=M,i.pointShadowMatrix.length=P,i.spotLightMatrix.length=C+R-T,i.spotLightMap.length=R,i.numSpotLightShadowsWithMaps=T,A.directionalLength=x,A.pointLength=v,A.spotLength=m,A.rectAreaLength=S,A.hemiLength=_,A.numDirectionalShadows=M,A.numPointShadows=P,A.numSpotShadows=C,A.numSpotMaps=R,i.version=dj++)}function u(c,d){let p=0,g=0,y=0,x=0,v=0;const m=d.matrixWorldInverse;for(let S=0,_=c.length;S<_;S++){const M=c[S];if(M.isDirectionalLight){const P=i.directional[p];P.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),P.direction.sub(s),P.direction.transformDirection(m),p++}else if(M.isSpotLight){const P=i.spot[y];P.position.setFromMatrixPosition(M.matrixWorld),P.position.applyMatrix4(m),P.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),P.direction.sub(s),P.direction.transformDirection(m),y++}else if(M.isRectAreaLight){const P=i.rectArea[x];P.position.setFromMatrixPosition(M.matrixWorld),P.position.applyMatrix4(m),a.identity(),o.copy(M.matrixWorld),o.premultiply(m),a.extractRotation(o),P.halfWidth.set(M.width*.5,0,0),P.halfHeight.set(0,M.height*.5,0),P.halfWidth.applyMatrix4(a),P.halfHeight.applyMatrix4(a),x++}else if(M.isPointLight){const P=i.point[g];P.position.setFromMatrixPosition(M.matrixWorld),P.position.applyMatrix4(m),g++}else if(M.isHemisphereLight){const P=i.hemi[v];P.direction.setFromMatrixPosition(M.matrixWorld),P.direction.transformDirection(m),v++}}}return{setup:l,setupView:u,state:i}}function c3(n,e){const t=new pj(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(d){r.push(d)}function a(d){i.push(d)}function l(d){t.setup(r,d)}function u(d){t.setupView(r,d)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function mj(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new c3(n,e),t.set(s,[l])):o>=a.length?(l=new c3(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class tM extends Un{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=oO,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class nM extends Un{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const gj=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,vj=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function yj(n,e,t){let r=new N0;const i=new Oe,s=new Oe,o=new qt,a=new tM({depthPacking:aO}),l=new nM,u={},c=t.maxTextureSize,d={[lo]:Dr,[Dr]:lo,[Mi]:Mi},p=new rs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Oe},radius:{value:4}},vertexShader:gj,fragmentShader:vj}),g=p.clone();g.defines.HORIZONTAL_PASS=1;const y=new St;y.setAttribute("position",new jt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new tr(y,p),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=B0,this.render=function(M,P,C){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||M.length===0)return;const R=n.getRenderTarget(),T=n.getActiveCubeFace(),E=n.getActiveMipmapLevel(),A=n.state;A.setBlending(zo),A.buffers.color.setClear(1,1,1,1),A.buffers.depth.setTest(!0),A.setScissorTest(!1);for(let B=0,D=M.length;B<D;B++){const U=M[B],H=U.shadow;if(H===void 0){console.warn("THREE.WebGLShadowMap:",U,"has no shadow.");continue}if(H.autoUpdate===!1&&H.needsUpdate===!1)continue;i.copy(H.mapSize);const j=H.getFrameExtents();if(i.multiply(j),s.copy(H.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(s.x=Math.floor(c/j.x),i.x=s.x*j.x,H.mapSize.x=s.x),i.y>c&&(s.y=Math.floor(c/j.y),i.y=s.y*j.y,H.mapSize.y=s.y)),H.map===null){const Z=this.type!==Fl?{minFilter:In,magFilter:In}:{};H.map=new Ii(i.x,i.y,Z),H.map.texture.name=U.name+".shadowMap",H.camera.updateProjectionMatrix()}n.setRenderTarget(H.map),n.clear();const $=H.getViewportCount();for(let Z=0;Z<$;Z++){const k=H.getViewport(Z);o.set(s.x*k.x,s.y*k.y,s.x*k.z,s.y*k.w),A.viewport(o),H.updateMatrices(U,Z),r=H.getFrustum(),_(P,C,H.camera,U,this.type)}H.isPointLightShadow!==!0&&this.type===Fl&&m(H,C),H.needsUpdate=!1}v.needsUpdate=!1,n.setRenderTarget(R,T,E)};function m(M,P){const C=e.update(x);p.defines.VSM_SAMPLES!==M.blurSamples&&(p.defines.VSM_SAMPLES=M.blurSamples,g.defines.VSM_SAMPLES=M.blurSamples,p.needsUpdate=!0,g.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new Ii(i.x,i.y)),p.uniforms.shadow_pass.value=M.map.texture,p.uniforms.resolution.value=M.mapSize,p.uniforms.radius.value=M.radius,n.setRenderTarget(M.mapPass),n.clear(),n.renderBufferDirect(P,null,C,p,x,null),g.uniforms.shadow_pass.value=M.mapPass.texture,g.uniforms.resolution.value=M.mapSize,g.uniforms.radius.value=M.radius,n.setRenderTarget(M.map),n.clear(),n.renderBufferDirect(P,null,C,g,x,null)}function S(M,P,C,R){let T=null;const E=C.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(E!==void 0)T=E;else if(T=C.isPointLight===!0?l:a,n.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const A=T.uuid,B=P.uuid;let D=u[A];D===void 0&&(D={},u[A]=D);let U=D[B];U===void 0&&(U=T.clone(),D[B]=U),T=U}if(T.visible=P.visible,T.wireframe=P.wireframe,R===Fl?T.side=P.shadowSide!==null?P.shadowSide:P.side:T.side=P.shadowSide!==null?P.shadowSide:d[P.side],T.alphaMap=P.alphaMap,T.alphaTest=P.alphaTest,T.map=P.map,T.clipShadows=P.clipShadows,T.clippingPlanes=P.clippingPlanes,T.clipIntersection=P.clipIntersection,T.displacementMap=P.displacementMap,T.displacementScale=P.displacementScale,T.displacementBias=P.displacementBias,T.wireframeLinewidth=P.wireframeLinewidth,T.linewidth=P.linewidth,C.isPointLight===!0&&T.isMeshDistanceMaterial===!0){const A=n.properties.get(T);A.light=C}return T}function _(M,P,C,R,T){if(M.visible===!1)return;if(M.layers.test(P.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&T===Fl)&&(!M.frustumCulled||r.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(C.matrixWorldInverse,M.matrixWorld);const B=e.update(M),D=M.material;if(Array.isArray(D)){const U=B.groups;for(let H=0,j=U.length;H<j;H++){const $=U[H],Z=D[$.materialIndex];if(Z&&Z.visible){const k=S(M,Z,R,T);n.renderBufferDirect(C,null,B,k,M,$)}}}else if(D.visible){const U=S(M,D,R,T);n.renderBufferDirect(C,null,B,U,M,null)}}const A=M.children;for(let B=0,D=A.length;B<D;B++)_(A[B],P,C,R,T)}}function xj(n,e,t){const r=t.isWebGL2;function i(){let ie=!1;const _e=new qt;let Pe=null;const Fe=new qt(0,0,0,0);return{setMask:function(Xe){Pe!==Xe&&!ie&&(n.colorMask(Xe,Xe,Xe,Xe),Pe=Xe)},setLocked:function(Xe){ie=Xe},setClear:function(Xe,Ct,Ht,en,On){On===!0&&(Xe*=en,Ct*=en,Ht*=en),_e.set(Xe,Ct,Ht,en),Fe.equals(_e)===!1&&(n.clearColor(Xe,Ct,Ht,en),Fe.copy(_e))},reset:function(){ie=!1,Pe=null,Fe.set(-1,0,0,0)}}}function s(){let ie=!1,_e=null,Pe=null,Fe=null;return{setTest:function(Xe){Xe?se(2929):pe(2929)},setMask:function(Xe){_e!==Xe&&!ie&&(n.depthMask(Xe),_e=Xe)},setFunc:function(Xe){if(Pe!==Xe){switch(Xe){case TD:n.depthFunc(512);break;case LD:n.depthFunc(519);break;case PD:n.depthFunc(513);break;case jv:n.depthFunc(515);break;case RD:n.depthFunc(514);break;case ID:n.depthFunc(518);break;case BD:n.depthFunc(516);break;case DD:n.depthFunc(517);break;default:n.depthFunc(515)}Pe=Xe}},setLocked:function(Xe){ie=Xe},setClear:function(Xe){Fe!==Xe&&(n.clearDepth(Xe),Fe=Xe)},reset:function(){ie=!1,_e=null,Pe=null,Fe=null}}}function o(){let ie=!1,_e=null,Pe=null,Fe=null,Xe=null,Ct=null,Ht=null,en=null,On=null;return{setTest:function(Qt){ie||(Qt?se(2960):pe(2960))},setMask:function(Qt){_e!==Qt&&!ie&&(n.stencilMask(Qt),_e=Qt)},setFunc:function(Qt,hn,Ye){(Pe!==Qt||Fe!==hn||Xe!==Ye)&&(n.stencilFunc(Qt,hn,Ye),Pe=Qt,Fe=hn,Xe=Ye)},setOp:function(Qt,hn,Ye){(Ct!==Qt||Ht!==hn||en!==Ye)&&(n.stencilOp(Qt,hn,Ye),Ct=Qt,Ht=hn,en=Ye)},setLocked:function(Qt){ie=Qt},setClear:function(Qt){On!==Qt&&(n.clearStencil(Qt),On=Qt)},reset:function(){ie=!1,_e=null,Pe=null,Fe=null,Xe=null,Ct=null,Ht=null,en=null,On=null}}}const a=new i,l=new s,u=new o,c=new WeakMap,d=new WeakMap;let p={},g={},y=new WeakMap,x=[],v=null,m=!1,S=null,_=null,M=null,P=null,C=null,R=null,T=null,E=!1,A=null,B=null,D=null,U=null,H=null;const j=n.getParameter(35661);let $=!1,Z=0;const k=n.getParameter(7938);k.indexOf("WebGL")!==-1?(Z=parseFloat(/^WebGL (\d)/.exec(k)[1]),$=Z>=1):k.indexOf("OpenGL ES")!==-1&&(Z=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),$=Z>=2);let W=null,V={};const ce=n.getParameter(3088),oe=n.getParameter(2978),re=new qt().fromArray(ce),q=new qt().fromArray(oe);function we(ie,_e,Pe){const Fe=new Uint8Array(4),Xe=n.createTexture();n.bindTexture(ie,Xe),n.texParameteri(ie,10241,9728),n.texParameteri(ie,10240,9728);for(let Ct=0;Ct<Pe;Ct++)n.texImage2D(_e+Ct,0,6408,1,1,0,6408,5121,Fe);return Xe}const xe={};xe[3553]=we(3553,3553,1),xe[34067]=we(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),se(2929),l.setFunc(jv),Ie(!1),Ve(mS),se(2884),le(zo);function se(ie){p[ie]!==!0&&(n.enable(ie),p[ie]=!0)}function pe(ie){p[ie]!==!1&&(n.disable(ie),p[ie]=!1)}function N(ie,_e){return g[ie]!==_e?(n.bindFramebuffer(ie,_e),g[ie]=_e,r&&(ie===36009&&(g[36160]=_e),ie===36160&&(g[36009]=_e)),!0):!1}function G(ie,_e){let Pe=x,Fe=!1;if(ie)if(Pe=y.get(_e),Pe===void 0&&(Pe=[],y.set(_e,Pe)),ie.isWebGLMultipleRenderTargets){const Xe=ie.texture;if(Pe.length!==Xe.length||Pe[0]!==36064){for(let Ct=0,Ht=Xe.length;Ct<Ht;Ct++)Pe[Ct]=36064+Ct;Pe.length=Xe.length,Fe=!0}}else Pe[0]!==36064&&(Pe[0]=36064,Fe=!0);else Pe[0]!==1029&&(Pe[0]=1029,Fe=!0);Fe&&(t.isWebGL2?n.drawBuffers(Pe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Pe))}function Y(ie){return v!==ie?(n.useProgram(ie),v=ie,!0):!1}const ae={[Pl]:32774,[vD]:32778,[yD]:32779};if(r)ae[xS]=32775,ae[_S]=32776;else{const ie=e.get("EXT_blend_minmax");ie!==null&&(ae[xS]=ie.MIN_EXT,ae[_S]=ie.MAX_EXT)}const te={[xD]:0,[_D]:1,[SD]:768,[zb]:770,[CD]:776,[ED]:774,[bD]:772,[wD]:769,[Hb]:771,[AD]:775,[MD]:773};function le(ie,_e,Pe,Fe,Xe,Ct,Ht,en){if(ie===zo){m===!0&&(pe(3042),m=!1);return}if(m===!1&&(se(3042),m=!0),ie!==gD){if(ie!==S||en!==E){if((_!==Pl||C!==Pl)&&(n.blendEquation(32774),_=Pl,C=Pl),en)switch(ie){case Wl:n.blendFuncSeparate(1,771,1,771);break;case gS:n.blendFunc(1,1);break;case vS:n.blendFuncSeparate(0,769,0,1);break;case yS:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ie);break}else switch(ie){case Wl:n.blendFuncSeparate(770,771,1,771);break;case gS:n.blendFunc(770,1);break;case vS:n.blendFuncSeparate(0,769,0,1);break;case yS:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ie);break}M=null,P=null,R=null,T=null,S=ie,E=en}return}Xe=Xe||_e,Ct=Ct||Pe,Ht=Ht||Fe,(_e!==_||Xe!==C)&&(n.blendEquationSeparate(ae[_e],ae[Xe]),_=_e,C=Xe),(Pe!==M||Fe!==P||Ct!==R||Ht!==T)&&(n.blendFuncSeparate(te[Pe],te[Fe],te[Ct],te[Ht]),M=Pe,P=Fe,R=Ct,T=Ht),S=ie,E=!1}function Re(ie,_e){ie.side===Mi?pe(2884):se(2884);let Pe=ie.side===Dr;_e&&(Pe=!Pe),Ie(Pe),ie.blending===Wl&&ie.transparent===!1?le(zo):le(ie.blending,ie.blendEquation,ie.blendSrc,ie.blendDst,ie.blendEquationAlpha,ie.blendSrcAlpha,ie.blendDstAlpha,ie.premultipliedAlpha),l.setFunc(ie.depthFunc),l.setTest(ie.depthTest),l.setMask(ie.depthWrite),a.setMask(ie.colorWrite);const Fe=ie.stencilWrite;u.setTest(Fe),Fe&&(u.setMask(ie.stencilWriteMask),u.setFunc(ie.stencilFunc,ie.stencilRef,ie.stencilFuncMask),u.setOp(ie.stencilFail,ie.stencilZFail,ie.stencilZPass)),We(ie.polygonOffset,ie.polygonOffsetFactor,ie.polygonOffsetUnits),ie.alphaToCoverage===!0?se(32926):pe(32926)}function Ie(ie){A!==ie&&(ie?n.frontFace(2304):n.frontFace(2305),A=ie)}function Ve(ie){ie!==hD?(se(2884),ie!==B&&(ie===mS?n.cullFace(1029):ie===pD?n.cullFace(1028):n.cullFace(1032))):pe(2884),B=ie}function Ke(ie){ie!==D&&($&&n.lineWidth(ie),D=ie)}function We(ie,_e,Pe){ie?(se(32823),(U!==_e||H!==Pe)&&(n.polygonOffset(_e,Pe),U=_e,H=Pe)):pe(32823)}function Ze(ie){ie?se(3089):pe(3089)}function et(ie){ie===void 0&&(ie=33984+j-1),W!==ie&&(n.activeTexture(ie),W=ie)}function J(ie,_e,Pe){Pe===void 0&&(W===null?Pe=33984+j-1:Pe=W);let Fe=V[Pe];Fe===void 0&&(Fe={type:void 0,texture:void 0},V[Pe]=Fe),(Fe.type!==ie||Fe.texture!==_e)&&(W!==Pe&&(n.activeTexture(Pe),W=Pe),n.bindTexture(ie,_e||xe[ie]),Fe.type=ie,Fe.texture=_e)}function z(){const ie=V[W];ie!==void 0&&ie.type!==void 0&&(n.bindTexture(ie.type,null),ie.type=void 0,ie.texture=void 0)}function fe(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Ce(){try{n.compressedTexImage3D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Be(){try{n.texSubImage2D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function ke(){try{n.texSubImage3D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function rt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function ue(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function ee(){try{n.texStorage2D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function me(){try{n.texStorage3D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Ee(){try{n.texImage2D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Le(){try{n.texImage3D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Ae(ie){re.equals(ie)===!1&&(n.scissor(ie.x,ie.y,ie.z,ie.w),re.copy(ie))}function De(ie){q.equals(ie)===!1&&(n.viewport(ie.x,ie.y,ie.z,ie.w),q.copy(ie))}function Ue(ie,_e){let Pe=d.get(_e);Pe===void 0&&(Pe=new WeakMap,d.set(_e,Pe));let Fe=Pe.get(ie);Fe===void 0&&(Fe=n.getUniformBlockIndex(_e,ie.name),Pe.set(ie,Fe))}function ze(ie,_e){const Fe=d.get(_e).get(ie);c.get(_e)!==Fe&&(n.uniformBlockBinding(_e,Fe,ie.__bindingPointIndex),c.set(_e,Fe))}function ot(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},W=null,V={},g={},y=new WeakMap,x=[],v=null,m=!1,S=null,_=null,M=null,P=null,C=null,R=null,T=null,E=!1,A=null,B=null,D=null,U=null,H=null,re.set(0,0,n.canvas.width,n.canvas.height),q.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:se,disable:pe,bindFramebuffer:N,drawBuffers:G,useProgram:Y,setBlending:le,setMaterial:Re,setFlipSided:Ie,setCullFace:Ve,setLineWidth:Ke,setPolygonOffset:We,setScissorTest:Ze,activeTexture:et,bindTexture:J,unbindTexture:z,compressedTexImage2D:fe,compressedTexImage3D:Ce,texImage2D:Ee,texImage3D:Le,updateUBOMapping:Ue,uniformBlockBinding:ze,texStorage2D:ee,texStorage3D:me,texSubImage2D:Be,texSubImage3D:ke,compressedTexSubImage2D:rt,compressedTexSubImage3D:ue,scissor:Ae,viewport:De,reset:ot}}function _j(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,c=i.maxTextureSize,d=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,g=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let x;const v=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(J,z){return m?new OffscreenCanvas(J,z):Bh("canvas")}function _(J,z,fe,Ce){let Be=1;if((J.width>Ce||J.height>Ce)&&(Be=Ce/Math.max(J.width,J.height)),Be<1||z===!0)if(typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&J instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&J instanceof ImageBitmap){const ke=z?fO:Math.floor,rt=ke(Be*J.width),ue=ke(Be*J.height);x===void 0&&(x=S(rt,ue));const ee=fe?S(rt,ue):x;return ee.width=rt,ee.height=ue,ee.getContext("2d").drawImage(J,0,0,rt,ue),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+J.width+"x"+J.height+") to ("+rt+"x"+ue+")."),ee}else return"data"in J&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+J.width+"x"+J.height+")."),J;return J}function M(J){return WS(J.width)&&WS(J.height)}function P(J){return a?!1:J.wrapS!==xr||J.wrapT!==xr||J.minFilter!==In&&J.minFilter!==gn}function C(J,z){return J.generateMipmaps&&z&&J.minFilter!==In&&J.minFilter!==gn}function R(J){n.generateMipmap(J)}function T(J,z,fe,Ce,Be=!1){if(a===!1)return z;if(J!==null){if(n[J]!==void 0)return n[J];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+J+"'")}let ke=z;return z===6403&&(fe===5126&&(ke=33326),fe===5131&&(ke=33325),fe===5121&&(ke=33321)),z===33319&&(fe===5126&&(ke=33328),fe===5131&&(ke=33327),fe===5121&&(ke=33323)),z===6408&&(fe===5126&&(ke=34836),fe===5131&&(ke=34842),fe===5121&&(ke=Ce===Ft&&Be===!1?35907:32856),fe===32819&&(ke=32854),fe===32820&&(ke=32855)),(ke===33325||ke===33326||ke===33327||ke===33328||ke===34842||ke===34836)&&e.get("EXT_color_buffer_float"),ke}function E(J,z,fe){return C(J,fe)===!0||J.isFramebufferTexture&&J.minFilter!==In&&J.minFilter!==gn?Math.log2(Math.max(z.width,z.height))+1:J.mipmaps!==void 0&&J.mipmaps.length>0?J.mipmaps.length:J.isCompressedTexture&&Array.isArray(J.image)?z.mipmaps.length:1}function A(J){return J===In||J===Ph||J===Uc?9728:9729}function B(J){const z=J.target;z.removeEventListener("dispose",B),U(z),z.isVideoTexture&&y.delete(z)}function D(J){const z=J.target;z.removeEventListener("dispose",D),j(z)}function U(J){const z=r.get(J);if(z.__webglInit===void 0)return;const fe=J.source,Ce=v.get(fe);if(Ce){const Be=Ce[z.__cacheKey];Be.usedTimes--,Be.usedTimes===0&&H(J),Object.keys(Ce).length===0&&v.delete(fe)}r.remove(J)}function H(J){const z=r.get(J);n.deleteTexture(z.__webglTexture);const fe=J.source,Ce=v.get(fe);delete Ce[z.__cacheKey],o.memory.textures--}function j(J){const z=J.texture,fe=r.get(J),Ce=r.get(z);if(Ce.__webglTexture!==void 0&&(n.deleteTexture(Ce.__webglTexture),o.memory.textures--),J.depthTexture&&J.depthTexture.dispose(),J.isWebGLCubeRenderTarget)for(let Be=0;Be<6;Be++)n.deleteFramebuffer(fe.__webglFramebuffer[Be]),fe.__webglDepthbuffer&&n.deleteRenderbuffer(fe.__webglDepthbuffer[Be]);else{if(n.deleteFramebuffer(fe.__webglFramebuffer),fe.__webglDepthbuffer&&n.deleteRenderbuffer(fe.__webglDepthbuffer),fe.__webglMultisampledFramebuffer&&n.deleteFramebuffer(fe.__webglMultisampledFramebuffer),fe.__webglColorRenderbuffer)for(let Be=0;Be<fe.__webglColorRenderbuffer.length;Be++)fe.__webglColorRenderbuffer[Be]&&n.deleteRenderbuffer(fe.__webglColorRenderbuffer[Be]);fe.__webglDepthRenderbuffer&&n.deleteRenderbuffer(fe.__webglDepthRenderbuffer)}if(J.isWebGLMultipleRenderTargets)for(let Be=0,ke=z.length;Be<ke;Be++){const rt=r.get(z[Be]);rt.__webglTexture&&(n.deleteTexture(rt.__webglTexture),o.memory.textures--),r.remove(z[Be])}r.remove(z),r.remove(J)}let $=0;function Z(){$=0}function k(){const J=$;return J>=l&&console.warn("THREE.WebGLTextures: Trying to use "+J+" texture units while this GPU supports only "+l),$+=1,J}function W(J){const z=[];return z.push(J.wrapS),z.push(J.wrapT),z.push(J.wrapR||0),z.push(J.magFilter),z.push(J.minFilter),z.push(J.anisotropy),z.push(J.internalFormat),z.push(J.format),z.push(J.type),z.push(J.generateMipmaps),z.push(J.premultiplyAlpha),z.push(J.flipY),z.push(J.unpackAlignment),z.push(J.encoding),z.join()}function V(J,z){const fe=r.get(J);if(J.isVideoTexture&&Ze(J),J.isRenderTargetTexture===!1&&J.version>0&&fe.__version!==J.version){const Ce=J.image;if(Ce===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ce.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{pe(fe,J,z);return}}t.bindTexture(3553,fe.__webglTexture,33984+z)}function ce(J,z){const fe=r.get(J);if(J.version>0&&fe.__version!==J.version){pe(fe,J,z);return}t.bindTexture(35866,fe.__webglTexture,33984+z)}function oe(J,z){const fe=r.get(J);if(J.version>0&&fe.__version!==J.version){pe(fe,J,z);return}t.bindTexture(32879,fe.__webglTexture,33984+z)}function re(J,z){const fe=r.get(J);if(J.version>0&&fe.__version!==J.version){N(fe,J,z);return}t.bindTexture(34067,fe.__webglTexture,33984+z)}const q={[Ya]:10497,[xr]:33071,[ef]:33648},we={[In]:9728,[Ph]:9984,[Uc]:9986,[gn]:9729,[O0]:9985,[uo]:9987};function xe(J,z,fe){if(fe?(n.texParameteri(J,10242,q[z.wrapS]),n.texParameteri(J,10243,q[z.wrapT]),(J===32879||J===35866)&&n.texParameteri(J,32882,q[z.wrapR]),n.texParameteri(J,10240,we[z.magFilter]),n.texParameteri(J,10241,we[z.minFilter])):(n.texParameteri(J,10242,33071),n.texParameteri(J,10243,33071),(J===32879||J===35866)&&n.texParameteri(J,32882,33071),(z.wrapS!==xr||z.wrapT!==xr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(J,10240,A(z.magFilter)),n.texParameteri(J,10241,A(z.minFilter)),z.minFilter!==In&&z.minFilter!==gn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Ce=e.get("EXT_texture_filter_anisotropic");if(z.magFilter===In||z.minFilter!==Uc&&z.minFilter!==uo||z.type===Ai&&e.has("OES_texture_float_linear")===!1||a===!1&&z.type===Zi&&e.has("OES_texture_half_float_linear")===!1)return;(z.anisotropy>1||r.get(z).__currentAnisotropy)&&(n.texParameterf(J,Ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(z.anisotropy,i.getMaxAnisotropy())),r.get(z).__currentAnisotropy=z.anisotropy)}}function se(J,z){let fe=!1;J.__webglInit===void 0&&(J.__webglInit=!0,z.addEventListener("dispose",B));const Ce=z.source;let Be=v.get(Ce);Be===void 0&&(Be={},v.set(Ce,Be));const ke=W(z);if(ke!==J.__cacheKey){Be[ke]===void 0&&(Be[ke]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,fe=!0),Be[ke].usedTimes++;const rt=Be[J.__cacheKey];rt!==void 0&&(Be[J.__cacheKey].usedTimes--,rt.usedTimes===0&&H(z)),J.__cacheKey=ke,J.__webglTexture=Be[ke].texture}return fe}function pe(J,z,fe){let Ce=3553;(z.isDataArrayTexture||z.isCompressedArrayTexture)&&(Ce=35866),z.isData3DTexture&&(Ce=32879);const Be=se(J,z),ke=z.source;t.bindTexture(Ce,J.__webglTexture,33984+fe);const rt=r.get(ke);if(ke.version!==rt.__version||Be===!0){t.activeTexture(33984+fe),n.pixelStorei(37440,z.flipY),n.pixelStorei(37441,z.premultiplyAlpha),n.pixelStorei(3317,z.unpackAlignment),n.pixelStorei(37443,0);const ue=P(z)&&M(z.image)===!1;let ee=_(z.image,ue,!1,c);ee=et(z,ee);const me=M(ee)||a,Ee=s.convert(z.format,z.encoding);let Le=s.convert(z.type),Ae=T(z.internalFormat,Ee,Le,z.encoding,z.isVideoTexture);xe(Ce,z,me);let De;const Ue=z.mipmaps,ze=a&&z.isVideoTexture!==!0,ot=rt.__version===void 0||Be===!0,ie=E(z,ee,me);if(z.isDepthTexture)Ae=6402,a?z.type===Ai?Ae=36012:z.type===Da?Ae=33190:z.type===$l?Ae=35056:Ae=33189:z.type===Ai&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),z.format===$a&&Ae===6402&&z.type!==Vb&&z.type!==Da&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),z.type=Da,Le=s.convert(z.type)),z.format===ru&&Ae===6402&&(Ae=34041,z.type!==$l&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),z.type=$l,Le=s.convert(z.type))),ot&&(ze?t.texStorage2D(3553,1,Ae,ee.width,ee.height):t.texImage2D(3553,0,Ae,ee.width,ee.height,0,Ee,Le,null));else if(z.isDataTexture)if(Ue.length>0&&me){ze&&ot&&t.texStorage2D(3553,ie,Ae,Ue[0].width,Ue[0].height);for(let _e=0,Pe=Ue.length;_e<Pe;_e++)De=Ue[_e],ze?t.texSubImage2D(3553,_e,0,0,De.width,De.height,Ee,Le,De.data):t.texImage2D(3553,_e,Ae,De.width,De.height,0,Ee,Le,De.data);z.generateMipmaps=!1}else ze?(ot&&t.texStorage2D(3553,ie,Ae,ee.width,ee.height),t.texSubImage2D(3553,0,0,0,ee.width,ee.height,Ee,Le,ee.data)):t.texImage2D(3553,0,Ae,ee.width,ee.height,0,Ee,Le,ee.data);else if(z.isCompressedTexture)if(z.isCompressedArrayTexture){ze&&ot&&t.texStorage3D(35866,ie,Ae,Ue[0].width,Ue[0].height,ee.depth);for(let _e=0,Pe=Ue.length;_e<Pe;_e++)De=Ue[_e],z.format!==oi?Ee!==null?ze?t.compressedTexSubImage3D(35866,_e,0,0,0,De.width,De.height,ee.depth,Ee,De.data,0,0):t.compressedTexImage3D(35866,_e,Ae,De.width,De.height,ee.depth,0,De.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ze?t.texSubImage3D(35866,_e,0,0,0,De.width,De.height,ee.depth,Ee,Le,De.data):t.texImage3D(35866,_e,Ae,De.width,De.height,ee.depth,0,Ee,Le,De.data)}else{ze&&ot&&t.texStorage2D(3553,ie,Ae,Ue[0].width,Ue[0].height);for(let _e=0,Pe=Ue.length;_e<Pe;_e++)De=Ue[_e],z.format!==oi?Ee!==null?ze?t.compressedTexSubImage2D(3553,_e,0,0,De.width,De.height,Ee,De.data):t.compressedTexImage2D(3553,_e,Ae,De.width,De.height,0,De.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ze?t.texSubImage2D(3553,_e,0,0,De.width,De.height,Ee,Le,De.data):t.texImage2D(3553,_e,Ae,De.width,De.height,0,Ee,Le,De.data)}else if(z.isDataArrayTexture)ze?(ot&&t.texStorage3D(35866,ie,Ae,ee.width,ee.height,ee.depth),t.texSubImage3D(35866,0,0,0,0,ee.width,ee.height,ee.depth,Ee,Le,ee.data)):t.texImage3D(35866,0,Ae,ee.width,ee.height,ee.depth,0,Ee,Le,ee.data);else if(z.isData3DTexture)ze?(ot&&t.texStorage3D(32879,ie,Ae,ee.width,ee.height,ee.depth),t.texSubImage3D(32879,0,0,0,0,ee.width,ee.height,ee.depth,Ee,Le,ee.data)):t.texImage3D(32879,0,Ae,ee.width,ee.height,ee.depth,0,Ee,Le,ee.data);else if(z.isFramebufferTexture){if(ot)if(ze)t.texStorage2D(3553,ie,Ae,ee.width,ee.height);else{let _e=ee.width,Pe=ee.height;for(let Fe=0;Fe<ie;Fe++)t.texImage2D(3553,Fe,Ae,_e,Pe,0,Ee,Le,null),_e>>=1,Pe>>=1}}else if(Ue.length>0&&me){ze&&ot&&t.texStorage2D(3553,ie,Ae,Ue[0].width,Ue[0].height);for(let _e=0,Pe=Ue.length;_e<Pe;_e++)De=Ue[_e],ze?t.texSubImage2D(3553,_e,0,0,Ee,Le,De):t.texImage2D(3553,_e,Ae,Ee,Le,De);z.generateMipmaps=!1}else ze?(ot&&t.texStorage2D(3553,ie,Ae,ee.width,ee.height),t.texSubImage2D(3553,0,0,0,Ee,Le,ee)):t.texImage2D(3553,0,Ae,Ee,Le,ee);C(z,me)&&R(Ce),rt.__version=ke.version,z.onUpdate&&z.onUpdate(z)}J.__version=z.version}function N(J,z,fe){if(z.image.length!==6)return;const Ce=se(J,z),Be=z.source;t.bindTexture(34067,J.__webglTexture,33984+fe);const ke=r.get(Be);if(Be.version!==ke.__version||Ce===!0){t.activeTexture(33984+fe),n.pixelStorei(37440,z.flipY),n.pixelStorei(37441,z.premultiplyAlpha),n.pixelStorei(3317,z.unpackAlignment),n.pixelStorei(37443,0);const rt=z.isCompressedTexture||z.image[0].isCompressedTexture,ue=z.image[0]&&z.image[0].isDataTexture,ee=[];for(let _e=0;_e<6;_e++)!rt&&!ue?ee[_e]=_(z.image[_e],!1,!0,u):ee[_e]=ue?z.image[_e].image:z.image[_e],ee[_e]=et(z,ee[_e]);const me=ee[0],Ee=M(me)||a,Le=s.convert(z.format,z.encoding),Ae=s.convert(z.type),De=T(z.internalFormat,Le,Ae,z.encoding),Ue=a&&z.isVideoTexture!==!0,ze=ke.__version===void 0||Ce===!0;let ot=E(z,me,Ee);xe(34067,z,Ee);let ie;if(rt){Ue&&ze&&t.texStorage2D(34067,ot,De,me.width,me.height);for(let _e=0;_e<6;_e++){ie=ee[_e].mipmaps;for(let Pe=0;Pe<ie.length;Pe++){const Fe=ie[Pe];z.format!==oi?Le!==null?Ue?t.compressedTexSubImage2D(34069+_e,Pe,0,0,Fe.width,Fe.height,Le,Fe.data):t.compressedTexImage2D(34069+_e,Pe,De,Fe.width,Fe.height,0,Fe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ue?t.texSubImage2D(34069+_e,Pe,0,0,Fe.width,Fe.height,Le,Ae,Fe.data):t.texImage2D(34069+_e,Pe,De,Fe.width,Fe.height,0,Le,Ae,Fe.data)}}}else{ie=z.mipmaps,Ue&&ze&&(ie.length>0&&ot++,t.texStorage2D(34067,ot,De,ee[0].width,ee[0].height));for(let _e=0;_e<6;_e++)if(ue){Ue?t.texSubImage2D(34069+_e,0,0,0,ee[_e].width,ee[_e].height,Le,Ae,ee[_e].data):t.texImage2D(34069+_e,0,De,ee[_e].width,ee[_e].height,0,Le,Ae,ee[_e].data);for(let Pe=0;Pe<ie.length;Pe++){const Xe=ie[Pe].image[_e].image;Ue?t.texSubImage2D(34069+_e,Pe+1,0,0,Xe.width,Xe.height,Le,Ae,Xe.data):t.texImage2D(34069+_e,Pe+1,De,Xe.width,Xe.height,0,Le,Ae,Xe.data)}}else{Ue?t.texSubImage2D(34069+_e,0,0,0,Le,Ae,ee[_e]):t.texImage2D(34069+_e,0,De,Le,Ae,ee[_e]);for(let Pe=0;Pe<ie.length;Pe++){const Fe=ie[Pe];Ue?t.texSubImage2D(34069+_e,Pe+1,0,0,Le,Ae,Fe.image[_e]):t.texImage2D(34069+_e,Pe+1,De,Le,Ae,Fe.image[_e])}}}C(z,Ee)&&R(34067),ke.__version=Be.version,z.onUpdate&&z.onUpdate(z)}J.__version=z.version}function G(J,z,fe,Ce,Be){const ke=s.convert(fe.format,fe.encoding),rt=s.convert(fe.type),ue=T(fe.internalFormat,ke,rt,fe.encoding);r.get(z).__hasExternalTextures||(Be===32879||Be===35866?t.texImage3D(Be,0,ue,z.width,z.height,z.depth,0,ke,rt,null):t.texImage2D(Be,0,ue,z.width,z.height,0,ke,rt,null)),t.bindFramebuffer(36160,J),We(z)?p.framebufferTexture2DMultisampleEXT(36160,Ce,Be,r.get(fe).__webglTexture,0,Ke(z)):(Be===3553||Be>=34069&&Be<=34074)&&n.framebufferTexture2D(36160,Ce,Be,r.get(fe).__webglTexture,0),t.bindFramebuffer(36160,null)}function Y(J,z,fe){if(n.bindRenderbuffer(36161,J),z.depthBuffer&&!z.stencilBuffer){let Ce=33189;if(fe||We(z)){const Be=z.depthTexture;Be&&Be.isDepthTexture&&(Be.type===Ai?Ce=36012:Be.type===Da&&(Ce=33190));const ke=Ke(z);We(z)?p.renderbufferStorageMultisampleEXT(36161,ke,Ce,z.width,z.height):n.renderbufferStorageMultisample(36161,ke,Ce,z.width,z.height)}else n.renderbufferStorage(36161,Ce,z.width,z.height);n.framebufferRenderbuffer(36160,36096,36161,J)}else if(z.depthBuffer&&z.stencilBuffer){const Ce=Ke(z);fe&&We(z)===!1?n.renderbufferStorageMultisample(36161,Ce,35056,z.width,z.height):We(z)?p.renderbufferStorageMultisampleEXT(36161,Ce,35056,z.width,z.height):n.renderbufferStorage(36161,34041,z.width,z.height),n.framebufferRenderbuffer(36160,33306,36161,J)}else{const Ce=z.isWebGLMultipleRenderTargets===!0?z.texture:[z.texture];for(let Be=0;Be<Ce.length;Be++){const ke=Ce[Be],rt=s.convert(ke.format,ke.encoding),ue=s.convert(ke.type),ee=T(ke.internalFormat,rt,ue,ke.encoding),me=Ke(z);fe&&We(z)===!1?n.renderbufferStorageMultisample(36161,me,ee,z.width,z.height):We(z)?p.renderbufferStorageMultisampleEXT(36161,me,ee,z.width,z.height):n.renderbufferStorage(36161,ee,z.width,z.height)}}n.bindRenderbuffer(36161,null)}function ae(J,z){if(z&&z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,J),!(z.depthTexture&&z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(z.depthTexture).__webglTexture||z.depthTexture.image.width!==z.width||z.depthTexture.image.height!==z.height)&&(z.depthTexture.image.width=z.width,z.depthTexture.image.height=z.height,z.depthTexture.needsUpdate=!0),V(z.depthTexture,0);const Ce=r.get(z.depthTexture).__webglTexture,Be=Ke(z);if(z.depthTexture.format===$a)We(z)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,Ce,0,Be):n.framebufferTexture2D(36160,36096,3553,Ce,0);else if(z.depthTexture.format===ru)We(z)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,Ce,0,Be):n.framebufferTexture2D(36160,33306,3553,Ce,0);else throw new Error("Unknown depthTexture format")}function te(J){const z=r.get(J),fe=J.isWebGLCubeRenderTarget===!0;if(J.depthTexture&&!z.__autoAllocateDepthBuffer){if(fe)throw new Error("target.depthTexture not supported in Cube render targets");ae(z.__webglFramebuffer,J)}else if(fe){z.__webglDepthbuffer=[];for(let Ce=0;Ce<6;Ce++)t.bindFramebuffer(36160,z.__webglFramebuffer[Ce]),z.__webglDepthbuffer[Ce]=n.createRenderbuffer(),Y(z.__webglDepthbuffer[Ce],J,!1)}else t.bindFramebuffer(36160,z.__webglFramebuffer),z.__webglDepthbuffer=n.createRenderbuffer(),Y(z.__webglDepthbuffer,J,!1);t.bindFramebuffer(36160,null)}function le(J,z,fe){const Ce=r.get(J);z!==void 0&&G(Ce.__webglFramebuffer,J,J.texture,36064,3553),fe!==void 0&&te(J)}function Re(J){const z=J.texture,fe=r.get(J),Ce=r.get(z);J.addEventListener("dispose",D),J.isWebGLMultipleRenderTargets!==!0&&(Ce.__webglTexture===void 0&&(Ce.__webglTexture=n.createTexture()),Ce.__version=z.version,o.memory.textures++);const Be=J.isWebGLCubeRenderTarget===!0,ke=J.isWebGLMultipleRenderTargets===!0,rt=M(J)||a;if(Be){fe.__webglFramebuffer=[];for(let ue=0;ue<6;ue++)fe.__webglFramebuffer[ue]=n.createFramebuffer()}else{if(fe.__webglFramebuffer=n.createFramebuffer(),ke)if(i.drawBuffers){const ue=J.texture;for(let ee=0,me=ue.length;ee<me;ee++){const Ee=r.get(ue[ee]);Ee.__webglTexture===void 0&&(Ee.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&J.samples>0&&We(J)===!1){const ue=ke?z:[z];fe.__webglMultisampledFramebuffer=n.createFramebuffer(),fe.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,fe.__webglMultisampledFramebuffer);for(let ee=0;ee<ue.length;ee++){const me=ue[ee];fe.__webglColorRenderbuffer[ee]=n.createRenderbuffer(),n.bindRenderbuffer(36161,fe.__webglColorRenderbuffer[ee]);const Ee=s.convert(me.format,me.encoding),Le=s.convert(me.type),Ae=T(me.internalFormat,Ee,Le,me.encoding,J.isXRRenderTarget===!0),De=Ke(J);n.renderbufferStorageMultisample(36161,De,Ae,J.width,J.height),n.framebufferRenderbuffer(36160,36064+ee,36161,fe.__webglColorRenderbuffer[ee])}n.bindRenderbuffer(36161,null),J.depthBuffer&&(fe.__webglDepthRenderbuffer=n.createRenderbuffer(),Y(fe.__webglDepthRenderbuffer,J,!0)),t.bindFramebuffer(36160,null)}}if(Be){t.bindTexture(34067,Ce.__webglTexture),xe(34067,z,rt);for(let ue=0;ue<6;ue++)G(fe.__webglFramebuffer[ue],J,z,36064,34069+ue);C(z,rt)&&R(34067),t.unbindTexture()}else if(ke){const ue=J.texture;for(let ee=0,me=ue.length;ee<me;ee++){const Ee=ue[ee],Le=r.get(Ee);t.bindTexture(3553,Le.__webglTexture),xe(3553,Ee,rt),G(fe.__webglFramebuffer,J,Ee,36064+ee,3553),C(Ee,rt)&&R(3553)}t.unbindTexture()}else{let ue=3553;(J.isWebGL3DRenderTarget||J.isWebGLArrayRenderTarget)&&(a?ue=J.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(ue,Ce.__webglTexture),xe(ue,z,rt),G(fe.__webglFramebuffer,J,z,36064,ue),C(z,rt)&&R(ue),t.unbindTexture()}J.depthBuffer&&te(J)}function Ie(J){const z=M(J)||a,fe=J.isWebGLMultipleRenderTargets===!0?J.texture:[J.texture];for(let Ce=0,Be=fe.length;Ce<Be;Ce++){const ke=fe[Ce];if(C(ke,z)){const rt=J.isWebGLCubeRenderTarget?34067:3553,ue=r.get(ke).__webglTexture;t.bindTexture(rt,ue),R(rt),t.unbindTexture()}}}function Ve(J){if(a&&J.samples>0&&We(J)===!1){const z=J.isWebGLMultipleRenderTargets?J.texture:[J.texture],fe=J.width,Ce=J.height;let Be=16384;const ke=[],rt=J.stencilBuffer?33306:36096,ue=r.get(J),ee=J.isWebGLMultipleRenderTargets===!0;if(ee)for(let me=0;me<z.length;me++)t.bindFramebuffer(36160,ue.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+me,36161,null),t.bindFramebuffer(36160,ue.__webglFramebuffer),n.framebufferTexture2D(36009,36064+me,3553,null,0);t.bindFramebuffer(36008,ue.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,ue.__webglFramebuffer);for(let me=0;me<z.length;me++){ke.push(36064+me),J.depthBuffer&&ke.push(rt);const Ee=ue.__ignoreDepthValues!==void 0?ue.__ignoreDepthValues:!1;if(Ee===!1&&(J.depthBuffer&&(Be|=256),J.stencilBuffer&&(Be|=1024)),ee&&n.framebufferRenderbuffer(36008,36064,36161,ue.__webglColorRenderbuffer[me]),Ee===!0&&(n.invalidateFramebuffer(36008,[rt]),n.invalidateFramebuffer(36009,[rt])),ee){const Le=r.get(z[me]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,Le,0)}n.blitFramebuffer(0,0,fe,Ce,0,0,fe,Ce,Be,9728),g&&n.invalidateFramebuffer(36008,ke)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),ee)for(let me=0;me<z.length;me++){t.bindFramebuffer(36160,ue.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+me,36161,ue.__webglColorRenderbuffer[me]);const Ee=r.get(z[me]).__webglTexture;t.bindFramebuffer(36160,ue.__webglFramebuffer),n.framebufferTexture2D(36009,36064+me,3553,Ee,0)}t.bindFramebuffer(36009,ue.__webglMultisampledFramebuffer)}}function Ke(J){return Math.min(d,J.samples)}function We(J){const z=r.get(J);return a&&J.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&z.__useRenderToTexture!==!1}function Ze(J){const z=o.render.frame;y.get(J)!==z&&(y.set(J,z),J.update())}function et(J,z){const fe=J.encoding,Ce=J.format,Be=J.type;return J.isCompressedTexture===!0||J.isVideoTexture===!0||J.format===Wv||fe!==Ls&&(fe===Ft?a===!1?e.has("EXT_sRGB")===!0&&Ce===oi?(J.format=Wv,J.minFilter=gn,J.generateMipmaps=!1):z=Kb.sRGBToLinear(z):(Ce!==oi||Be!==Qo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",fe)),z}this.allocateTextureUnit=k,this.resetTextureUnits=Z,this.setTexture2D=V,this.setTexture2DArray=ce,this.setTexture3D=oe,this.setTextureCube=re,this.rebindTextures=le,this.setupRenderTarget=Re,this.updateRenderTargetMipmap=Ie,this.updateMultisampleRenderTarget=Ve,this.setupDepthRenderbuffer=te,this.setupFrameBufferTexture=G,this.useMultisampledRTT=We}function SO(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===Qo)return 5121;if(s===jD)return 32819;if(s===WD)return 32820;if(s===HD)return 5120;if(s===GD)return 5122;if(s===Vb)return 5123;if(s===VD)return 5124;if(s===Da)return 5125;if(s===Ai)return 5126;if(s===Zi)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===$D)return 6406;if(s===oi)return 6408;if(s===JD)return 6409;if(s===KD)return 6410;if(s===$a)return 6402;if(s===ru)return 34041;if(s===Wv)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===XD)return 6403;if(s===YD)return 36244;if(s===QD)return 33319;if(s===ZD)return 33320;if(s===qD)return 36249;if(s===tv||s===nv||s===rv||s===iv)if(o===Ft)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===tv)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===nv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===rv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===iv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===tv)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===nv)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===rv)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===iv)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===SS||s===wS||s===bS||s===MS)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===SS)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===wS)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===bS)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===MS)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===eO)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===ES||s===AS)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===ES)return o===Ft?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===AS)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===CS||s===TS||s===LS||s===PS||s===RS||s===IS||s===BS||s===DS||s===OS||s===kS||s===FS||s===NS||s===US||s===zS)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===CS)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===TS)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===LS)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===PS)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===RS)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===IS)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===BS)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===DS)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===OS)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===kS)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===FS)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===NS)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===US)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===zS)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===sv)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===sv)return o===Ft?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===tO||s===HS||s===GS||s===VS)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===sv)return a.COMPRESSED_RED_RGTC1_EXT;if(s===HS)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===GS)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===VS)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===$l?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class wO extends qn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}let Fo=class extends Vt{constructor(){super(),this.isGroup=!0,this.type="Group"}};const Sj={type:"move"};class px{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Fo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Fo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new X,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new X),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Fo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new X,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new X),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const x of e.hand.values()){const v=t.getJointPose(x,r),m=this._getHandJoint(u,x);v!==null&&(m.matrix.fromArray(v.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.jointRadius=v.radius),m.visible=v!==null}const c=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],p=c.position.distanceTo(d.position),g=.02,y=.005;u.inputState.pinching&&p>g+y?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=g-y&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Sj)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new Fo;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class bO extends yn{constructor(e,t,r,i,s,o,a,l,u,c){if(c=c!==void 0?c:$a,c!==$a&&c!==ru)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===$a&&(r=Da),r===void 0&&c===ru&&(r=$l),super(null,i,s,o,a,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:In,this.minFilter=l!==void 0?l:In,this.flipY=!1,this.generateMipmaps=!1}}class wj extends ia{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,c=null,d=null,p=null,g=null,y=null;const x=t.getContextAttributes();let v=null,m=null;const S=[],_=[],M=new Set,P=new Map,C=new qn;C.layers.enable(1),C.viewport=new qt;const R=new qn;R.layers.enable(2),R.viewport=new qt;const T=[C,R],E=new wO;E.layers.enable(1),E.layers.enable(2);let A=null,B=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(re){let q=S[re];return q===void 0&&(q=new px,S[re]=q),q.getTargetRaySpace()},this.getControllerGrip=function(re){let q=S[re];return q===void 0&&(q=new px,S[re]=q),q.getGripSpace()},this.getHand=function(re){let q=S[re];return q===void 0&&(q=new px,S[re]=q),q.getHandSpace()};function D(re){const q=_.indexOf(re.inputSource);if(q===-1)return;const we=S[q];we!==void 0&&we.dispatchEvent({type:re.type,data:re.inputSource})}function U(){i.removeEventListener("select",D),i.removeEventListener("selectstart",D),i.removeEventListener("selectend",D),i.removeEventListener("squeeze",D),i.removeEventListener("squeezestart",D),i.removeEventListener("squeezeend",D),i.removeEventListener("end",U),i.removeEventListener("inputsourceschange",H);for(let re=0;re<S.length;re++){const q=_[re];q!==null&&(_[re]=null,S[re].disconnect(q))}A=null,B=null,e.setRenderTarget(v),g=null,p=null,d=null,i=null,m=null,oe.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(re){s=re,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(re){a=re,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(re){u=re},this.getBaseLayer=function(){return p!==null?p:g},this.getBinding=function(){return d},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=async function(re){if(i=re,i!==null){if(v=e.getRenderTarget(),i.addEventListener("select",D),i.addEventListener("selectstart",D),i.addEventListener("selectend",D),i.addEventListener("squeeze",D),i.addEventListener("squeezestart",D),i.addEventListener("squeezeend",D),i.addEventListener("end",U),i.addEventListener("inputsourceschange",H),x.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const q={antialias:i.renderState.layers===void 0?x.antialias:!0,alpha:x.alpha,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:s};g=new XRWebGLLayer(i,t,q),i.updateRenderState({baseLayer:g}),m=new Ii(g.framebufferWidth,g.framebufferHeight,{format:oi,type:Qo,encoding:e.outputEncoding,stencilBuffer:x.stencil})}else{let q=null,we=null,xe=null;x.depth&&(xe=x.stencil?35056:33190,q=x.stencil?ru:$a,we=x.stencil?$l:Da);const se={colorFormat:32856,depthFormat:xe,scaleFactor:s};d=new XRWebGLBinding(i,t),p=d.createProjectionLayer(se),i.updateRenderState({layers:[p]}),m=new Ii(p.textureWidth,p.textureHeight,{format:oi,type:Qo,depthTexture:new bO(p.textureWidth,p.textureHeight,we,void 0,void 0,void 0,void 0,void 0,void 0,q),stencilBuffer:x.stencil,encoding:e.outputEncoding,samples:x.antialias?4:0});const pe=e.properties.get(m);pe.__ignoreDepthValues=p.ignoreDepthValues}m.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),oe.setContext(i),oe.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function H(re){for(let q=0;q<re.removed.length;q++){const we=re.removed[q],xe=_.indexOf(we);xe>=0&&(_[xe]=null,S[xe].disconnect(we))}for(let q=0;q<re.added.length;q++){const we=re.added[q];let xe=_.indexOf(we);if(xe===-1){for(let pe=0;pe<S.length;pe++)if(pe>=_.length){_.push(we),xe=pe;break}else if(_[pe]===null){_[pe]=we,xe=pe;break}if(xe===-1)break}const se=S[xe];se&&se.connect(we)}}const j=new X,$=new X;function Z(re,q,we){j.setFromMatrixPosition(q.matrixWorld),$.setFromMatrixPosition(we.matrixWorld);const xe=j.distanceTo($),se=q.projectionMatrix.elements,pe=we.projectionMatrix.elements,N=se[14]/(se[10]-1),G=se[14]/(se[10]+1),Y=(se[9]+1)/se[5],ae=(se[9]-1)/se[5],te=(se[8]-1)/se[0],le=(pe[8]+1)/pe[0],Re=N*te,Ie=N*le,Ve=xe/(-te+le),Ke=Ve*-te;q.matrixWorld.decompose(re.position,re.quaternion,re.scale),re.translateX(Ke),re.translateZ(Ve),re.matrixWorld.compose(re.position,re.quaternion,re.scale),re.matrixWorldInverse.copy(re.matrixWorld).invert();const We=N+Ve,Ze=G+Ve,et=Re-Ke,J=Ie+(xe-Ke),z=Y*G/Ze*We,fe=ae*G/Ze*We;re.projectionMatrix.makePerspective(et,J,z,fe,We,Ze),re.projectionMatrixInverse.copy(re.projectionMatrix).invert()}function k(re,q){q===null?re.matrixWorld.copy(re.matrix):re.matrixWorld.multiplyMatrices(q.matrixWorld,re.matrix),re.matrixWorldInverse.copy(re.matrixWorld).invert()}this.updateCamera=function(re){if(i===null)return;E.near=R.near=C.near=re.near,E.far=R.far=C.far=re.far,(A!==E.near||B!==E.far)&&(i.updateRenderState({depthNear:E.near,depthFar:E.far}),A=E.near,B=E.far);const q=re.parent,we=E.cameras;k(E,q);for(let xe=0;xe<we.length;xe++)k(we[xe],q);we.length===2?Z(E,C,R):E.projectionMatrix.copy(C.projectionMatrix),W(re,E,q)};function W(re,q,we){we===null?re.matrix.copy(q.matrixWorld):(re.matrix.copy(we.matrixWorld),re.matrix.invert(),re.matrix.multiply(q.matrixWorld)),re.matrix.decompose(re.position,re.quaternion,re.scale),re.updateMatrixWorld(!0);const xe=re.children;for(let se=0,pe=xe.length;se<pe;se++)xe[se].updateMatrixWorld(!0);re.projectionMatrix.copy(q.projectionMatrix),re.projectionMatrixInverse.copy(q.projectionMatrixInverse),re.isPerspectiveCamera&&(re.fov=rf*2*Math.atan(1/re.projectionMatrix.elements[5]),re.zoom=1)}this.getCamera=function(){return E},this.getFoveation=function(){if(!(p===null&&g===null))return l},this.setFoveation=function(re){l=re,p!==null&&(p.fixedFoveation=re),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=re)},this.getPlanes=function(){return M};let V=null;function ce(re,q){if(c=q.getViewerPose(u||o),y=q,c!==null){const we=c.views;g!==null&&(e.setRenderTargetFramebuffer(m,g.framebuffer),e.setRenderTarget(m));let xe=!1;we.length!==E.cameras.length&&(E.cameras.length=0,xe=!0);for(let se=0;se<we.length;se++){const pe=we[se];let N=null;if(g!==null)N=g.getViewport(pe);else{const Y=d.getViewSubImage(p,pe);N=Y.viewport,se===0&&(e.setRenderTargetTextures(m,Y.colorTexture,p.ignoreDepthValues?void 0:Y.depthStencilTexture),e.setRenderTarget(m))}let G=T[se];G===void 0&&(G=new qn,G.layers.enable(se),G.viewport=new qt,T[se]=G),G.matrix.fromArray(pe.transform.matrix),G.matrix.decompose(G.position,G.quaternion,G.scale),G.projectionMatrix.fromArray(pe.projectionMatrix),G.projectionMatrixInverse.copy(G.projectionMatrix).invert(),G.viewport.set(N.x,N.y,N.width,N.height),se===0&&(E.matrix.copy(G.matrix),E.matrix.decompose(E.position,E.quaternion,E.scale)),xe===!0&&E.cameras.push(G)}}for(let we=0;we<S.length;we++){const xe=_[we],se=S[we];xe!==null&&se!==void 0&&se.update(xe,q,u||o)}if(V&&V(re,q),q.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:q.detectedPlanes});let we=null;for(const xe of M)q.detectedPlanes.has(xe)||(we===null&&(we=[]),we.push(xe));if(we!==null)for(const xe of we)M.delete(xe),P.delete(xe),r.dispatchEvent({type:"planeremoved",data:xe});for(const xe of q.detectedPlanes)if(!M.has(xe))M.add(xe),P.set(xe,q.lastChangedTime),r.dispatchEvent({type:"planeadded",data:xe});else{const se=P.get(xe);xe.lastChangedTime>se&&(P.set(xe,xe.lastChangedTime),r.dispatchEvent({type:"planechanged",data:xe}))}}y=null}const oe=new gO;oe.setAnimationLoop(ce),this.setAnimationLoop=function(re){V=re},this.dispose=function(){}}}function bj(n,e){function t(v,m){v.matrixAutoUpdate===!0&&v.updateMatrix(),m.value.copy(v.matrix)}function r(v,m){m.color.getRGB(v.fogColor.value,pO(n)),m.isFog?(v.fogNear.value=m.near,v.fogFar.value=m.far):m.isFogExp2&&(v.fogDensity.value=m.density)}function i(v,m,S,_,M){m.isMeshBasicMaterial||m.isMeshLambertMaterial?s(v,m):m.isMeshToonMaterial?(s(v,m),d(v,m)):m.isMeshPhongMaterial?(s(v,m),c(v,m)):m.isMeshStandardMaterial?(s(v,m),p(v,m),m.isMeshPhysicalMaterial&&g(v,m,M)):m.isMeshMatcapMaterial?(s(v,m),y(v,m)):m.isMeshDepthMaterial?s(v,m):m.isMeshDistanceMaterial?(s(v,m),x(v,m)):m.isMeshNormalMaterial?s(v,m):m.isLineBasicMaterial?(o(v,m),m.isLineDashedMaterial&&a(v,m)):m.isPointsMaterial?l(v,m,S,_):m.isSpriteMaterial?u(v,m):m.isShadowMaterial?(v.color.value.copy(m.color),v.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function s(v,m){v.opacity.value=m.opacity,m.color&&v.diffuse.value.copy(m.color),m.emissive&&v.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(v.map.value=m.map,t(m.map,v.mapTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,t(m.alphaMap,v.alphaMapTransform)),m.bumpMap&&(v.bumpMap.value=m.bumpMap,t(m.bumpMap,v.bumpMapTransform),v.bumpScale.value=m.bumpScale,m.side===Dr&&(v.bumpScale.value*=-1)),m.normalMap&&(v.normalMap.value=m.normalMap,t(m.normalMap,v.normalMapTransform),v.normalScale.value.copy(m.normalScale),m.side===Dr&&v.normalScale.value.negate()),m.displacementMap&&(v.displacementMap.value=m.displacementMap,t(m.displacementMap,v.displacementMapTransform),v.displacementScale.value=m.displacementScale,v.displacementBias.value=m.displacementBias),m.emissiveMap&&(v.emissiveMap.value=m.emissiveMap,t(m.emissiveMap,v.emissiveMapTransform)),m.specularMap&&(v.specularMap.value=m.specularMap,t(m.specularMap,v.specularMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest);const S=e.get(m).envMap;if(S&&(v.envMap.value=S,v.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=m.reflectivity,v.ior.value=m.ior,v.refractionRatio.value=m.refractionRatio),m.lightMap){v.lightMap.value=m.lightMap;const _=n.useLegacyLights===!0?Math.PI:1;v.lightMapIntensity.value=m.lightMapIntensity*_,t(m.lightMap,v.lightMapTransform)}m.aoMap&&(v.aoMap.value=m.aoMap,v.aoMapIntensity.value=m.aoMapIntensity,t(m.aoMap,v.aoMapTransform))}function o(v,m){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,m.map&&(v.map.value=m.map,t(m.map,v.mapTransform))}function a(v,m){v.dashSize.value=m.dashSize,v.totalSize.value=m.dashSize+m.gapSize,v.scale.value=m.scale}function l(v,m,S,_){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,v.size.value=m.size*S,v.scale.value=_*.5,m.map&&(v.map.value=m.map,t(m.map,v.uvTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest)}function u(v,m){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,v.rotation.value=m.rotation,m.map&&(v.map.value=m.map,t(m.map,v.mapTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest)}function c(v,m){v.specular.value.copy(m.specular),v.shininess.value=Math.max(m.shininess,1e-4)}function d(v,m){m.gradientMap&&(v.gradientMap.value=m.gradientMap)}function p(v,m){v.metalness.value=m.metalness,m.metalnessMap&&(v.metalnessMap.value=m.metalnessMap,t(m.metalnessMap,v.metalnessMapTransform)),v.roughness.value=m.roughness,m.roughnessMap&&(v.roughnessMap.value=m.roughnessMap,t(m.roughnessMap,v.roughnessMapTransform)),e.get(m).envMap&&(v.envMapIntensity.value=m.envMapIntensity)}function g(v,m,S){v.ior.value=m.ior,m.sheen>0&&(v.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),v.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(v.sheenColorMap.value=m.sheenColorMap,t(m.sheenColorMap,v.sheenColorMapTransform)),m.sheenRoughnessMap&&(v.sheenRoughnessMap.value=m.sheenRoughnessMap,t(m.sheenRoughnessMap,v.sheenRoughnessMapTransform))),m.clearcoat>0&&(v.clearcoat.value=m.clearcoat,v.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(v.clearcoatMap.value=m.clearcoatMap,t(m.clearcoatMap,v.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,t(m.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(v.clearcoatNormalMap.value=m.clearcoatNormalMap,t(m.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),m.side===Dr&&v.clearcoatNormalScale.value.negate())),m.iridescence>0&&(v.iridescence.value=m.iridescence,v.iridescenceIOR.value=m.iridescenceIOR,v.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(v.iridescenceMap.value=m.iridescenceMap,t(m.iridescenceMap,v.iridescenceMapTransform)),m.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=m.iridescenceThicknessMap,t(m.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),m.transmission>0&&(v.transmission.value=m.transmission,v.transmissionSamplerMap.value=S.texture,v.transmissionSamplerSize.value.set(S.width,S.height),m.transmissionMap&&(v.transmissionMap.value=m.transmissionMap,t(m.transmissionMap,v.transmissionMapTransform)),v.thickness.value=m.thickness,m.thicknessMap&&(v.thicknessMap.value=m.thicknessMap,t(m.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=m.attenuationDistance,v.attenuationColor.value.copy(m.attenuationColor)),v.specularIntensity.value=m.specularIntensity,v.specularColor.value.copy(m.specularColor),m.specularColorMap&&(v.specularColorMap.value=m.specularColorMap,t(m.specularColorMap,v.specularColorMapTransform)),m.specularIntensityMap&&(v.specularIntensityMap.value=m.specularIntensityMap,t(m.specularIntensityMap,v.specularIntensityMapTransform))}function y(v,m){m.matcap&&(v.matcap.value=m.matcap)}function x(v,m){const S=e.get(m).light;v.referencePosition.value.setFromMatrixPosition(S.matrixWorld),v.nearDistance.value=S.shadow.camera.near,v.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Mj(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(S,_){const M=_.program;r.uniformBlockBinding(S,M)}function u(S,_){let M=i[S.id];M===void 0&&(y(S),M=c(S),i[S.id]=M,S.addEventListener("dispose",v));const P=_.program;r.updateUBOMapping(S,P);const C=e.render.frame;s[S.id]!==C&&(p(S),s[S.id]=C)}function c(S){const _=d();S.__bindingPointIndex=_;const M=n.createBuffer(),P=S.__size,C=S.usage;return n.bindBuffer(35345,M),n.bufferData(35345,P,C),n.bindBuffer(35345,null),n.bindBufferBase(35345,_,M),M}function d(){for(let S=0;S<a;S++)if(o.indexOf(S)===-1)return o.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(S){const _=i[S.id],M=S.uniforms,P=S.__cache;n.bindBuffer(35345,_);for(let C=0,R=M.length;C<R;C++){const T=M[C];if(g(T,C,P)===!0){const E=T.__offset,A=Array.isArray(T.value)?T.value:[T.value];let B=0;for(let D=0;D<A.length;D++){const U=A[D],H=x(U);typeof U=="number"?(T.__data[0]=U,n.bufferSubData(35345,E+B,T.__data)):U.isMatrix3?(T.__data[0]=U.elements[0],T.__data[1]=U.elements[1],T.__data[2]=U.elements[2],T.__data[3]=U.elements[0],T.__data[4]=U.elements[3],T.__data[5]=U.elements[4],T.__data[6]=U.elements[5],T.__data[7]=U.elements[0],T.__data[8]=U.elements[6],T.__data[9]=U.elements[7],T.__data[10]=U.elements[8],T.__data[11]=U.elements[0]):(U.toArray(T.__data,B),B+=H.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,E,T.__data)}}n.bindBuffer(35345,null)}function g(S,_,M){const P=S.value;if(M[_]===void 0){if(typeof P=="number")M[_]=P;else{const C=Array.isArray(P)?P:[P],R=[];for(let T=0;T<C.length;T++)R.push(C[T].clone());M[_]=R}return!0}else if(typeof P=="number"){if(M[_]!==P)return M[_]=P,!0}else{const C=Array.isArray(M[_])?M[_]:[M[_]],R=Array.isArray(P)?P:[P];for(let T=0;T<C.length;T++){const E=C[T];if(E.equals(R[T])===!1)return E.copy(R[T]),!0}}return!1}function y(S){const _=S.uniforms;let M=0;const P=16;let C=0;for(let R=0,T=_.length;R<T;R++){const E=_[R],A={boundary:0,storage:0},B=Array.isArray(E.value)?E.value:[E.value];for(let D=0,U=B.length;D<U;D++){const H=B[D],j=x(H);A.boundary+=j.boundary,A.storage+=j.storage}if(E.__data=new Float32Array(A.storage/Float32Array.BYTES_PER_ELEMENT),E.__offset=M,R>0){C=M%P;const D=P-C;C!==0&&D-A.boundary<0&&(M+=P-C,E.__offset=M)}M+=A.storage}return C=M%P,C>0&&(M+=P-C),S.__size=M,S.__cache={},this}function x(S){const _={boundary:0,storage:0};return typeof S=="number"?(_.boundary=4,_.storage=4):S.isVector2?(_.boundary=8,_.storage=8):S.isVector3||S.isColor?(_.boundary=16,_.storage=12):S.isVector4?(_.boundary=16,_.storage=16):S.isMatrix3?(_.boundary=48,_.storage=48):S.isMatrix4?(_.boundary=64,_.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),_}function v(S){const _=S.target;_.removeEventListener("dispose",v);const M=o.indexOf(_.__bindingPointIndex);o.splice(M,1),n.deleteBuffer(i[_.id]),delete i[_.id],delete s[_.id]}function m(){for(const S in i)n.deleteBuffer(i[S]);o=[],i={},s={}}return{bind:l,update:u,dispose:m}}function Ej(){const n=Bh("canvas");return n.style.display="block",n}class rM{constructor(e={}){const{canvas:t=Ej(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let p;r!==null?p=r.getContextAttributes().alpha:p=o;let g=null,y=null;const x=[],v=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Ls,this.useLegacyLights=!0,this.toneMapping=Cs,this.toneMappingExposure=1;const m=this;let S=!1,_=0,M=0,P=null,C=-1,R=null;const T=new qt,E=new qt;let A=null,B=t.width,D=t.height,U=1,H=null,j=null;const $=new qt(0,0,B,D),Z=new qt(0,0,B,D);let k=!1;const W=new N0;let V=!1,ce=!1,oe=null;const re=new mt,q=new X,we={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function xe(){return P===null?U:1}let se=r;function pe(K,ve){for(let Me=0;Me<K.length;Me++){const ge=K[Me],Te=t.getContext(ge,ve);if(Te!==null)return Te}return null}try{const K={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${I0}`),t.addEventListener("webglcontextlost",De,!1),t.addEventListener("webglcontextrestored",Ue,!1),t.addEventListener("webglcontextcreationerror",ze,!1),se===null){const ve=["webgl2","webgl","experimental-webgl"];if(m.isWebGL1Renderer===!0&&ve.shift(),se=pe(ve,K),se===null)throw pe(ve)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}se.getShaderPrecisionFormat===void 0&&(se.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(K){throw console.error("THREE.WebGLRenderer: "+K.message),K}let N,G,Y,ae,te,le,Re,Ie,Ve,Ke,We,Ze,et,J,z,fe,Ce,Be,ke,rt,ue,ee,me,Ee;function Le(){N=new HV(se),G=new OV(se,N,e),N.init(G),ee=new SO(se,N,G),Y=new xj(se,N,G),ae=new jV,te=new aj,le=new _j(se,N,Y,te,G,ee,ae),Re=new FV(m),Ie=new zV(m),Ve=new nH(se,G),me=new BV(se,N,Ve,G),Ke=new GV(se,Ve,ae,me),We=new KV(se,Ke,Ve,ae),ke=new JV(se,G,le),fe=new kV(te),Ze=new oj(m,Re,Ie,N,G,me,fe),et=new bj(m,te),J=new uj,z=new mj(N,G),Be=new IV(m,Re,Ie,Y,We,p,l),Ce=new yj(m,We,G),Ee=new Mj(se,ae,G,Y),rt=new DV(se,N,ae,G),ue=new VV(se,N,ae,G),ae.programs=Ze.programs,m.capabilities=G,m.extensions=N,m.properties=te,m.renderLists=J,m.shadowMap=Ce,m.state=Y,m.info=ae}Le();const Ae=new wj(m,se);this.xr=Ae,this.getContext=function(){return se},this.getContextAttributes=function(){return se.getContextAttributes()},this.forceContextLoss=function(){const K=N.get("WEBGL_lose_context");K&&K.loseContext()},this.forceContextRestore=function(){const K=N.get("WEBGL_lose_context");K&&K.restoreContext()},this.getPixelRatio=function(){return U},this.setPixelRatio=function(K){K!==void 0&&(U=K,this.setSize(B,D,!1))},this.getSize=function(K){return K.set(B,D)},this.setSize=function(K,ve,Me=!0){if(Ae.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}B=K,D=ve,t.width=Math.floor(K*U),t.height=Math.floor(ve*U),Me===!0&&(t.style.width=K+"px",t.style.height=ve+"px"),this.setViewport(0,0,K,ve)},this.getDrawingBufferSize=function(K){return K.set(B*U,D*U).floor()},this.setDrawingBufferSize=function(K,ve,Me){B=K,D=ve,U=Me,t.width=Math.floor(K*Me),t.height=Math.floor(ve*Me),this.setViewport(0,0,K,ve)},this.getCurrentViewport=function(K){return K.copy(T)},this.getViewport=function(K){return K.copy($)},this.setViewport=function(K,ve,Me,ge){K.isVector4?$.set(K.x,K.y,K.z,K.w):$.set(K,ve,Me,ge),Y.viewport(T.copy($).multiplyScalar(U).floor())},this.getScissor=function(K){return K.copy(Z)},this.setScissor=function(K,ve,Me,ge){K.isVector4?Z.set(K.x,K.y,K.z,K.w):Z.set(K,ve,Me,ge),Y.scissor(E.copy(Z).multiplyScalar(U).floor())},this.getScissorTest=function(){return k},this.setScissorTest=function(K){Y.setScissorTest(k=K)},this.setOpaqueSort=function(K){H=K},this.setTransparentSort=function(K){j=K},this.getClearColor=function(K){return K.copy(Be.getClearColor())},this.setClearColor=function(){Be.setClearColor.apply(Be,arguments)},this.getClearAlpha=function(){return Be.getClearAlpha()},this.setClearAlpha=function(){Be.setClearAlpha.apply(Be,arguments)},this.clear=function(K=!0,ve=!0,Me=!0){let ge=0;K&&(ge|=16384),ve&&(ge|=256),Me&&(ge|=1024),se.clear(ge)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",De,!1),t.removeEventListener("webglcontextrestored",Ue,!1),t.removeEventListener("webglcontextcreationerror",ze,!1),J.dispose(),z.dispose(),te.dispose(),Re.dispose(),Ie.dispose(),We.dispose(),me.dispose(),Ee.dispose(),Ze.dispose(),Ae.dispose(),Ae.removeEventListener("sessionstart",Xe),Ae.removeEventListener("sessionend",Ct),oe&&(oe.dispose(),oe=null),Ht.stop()};function De(K){K.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function Ue(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const K=ae.autoReset,ve=Ce.enabled,Me=Ce.autoUpdate,ge=Ce.needsUpdate,Te=Ce.type;Le(),ae.autoReset=K,Ce.enabled=ve,Ce.autoUpdate=Me,Ce.needsUpdate=ge,Ce.type=Te}function ze(K){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",K.statusMessage)}function ot(K){const ve=K.target;ve.removeEventListener("dispose",ot),ie(ve)}function ie(K){_e(K),te.remove(K)}function _e(K){const ve=te.get(K).programs;ve!==void 0&&(ve.forEach(function(Me){Ze.releaseProgram(Me)}),K.isShaderMaterial&&Ze.releaseShaderCache(K))}this.renderBufferDirect=function(K,ve,Me,ge,Te,lt){ve===null&&(ve=we);const dt=Te.isMesh&&Te.matrixWorld.determinant()<0,ht=Us(K,ve,Me,ge,Te);Y.setMaterial(ge,dt);let xt=Me.index,Tt=1;ge.wireframe===!0&&(xt=Ke.getWireframeAttribute(Me),Tt=2);const Lt=Me.drawRange,Rt=Me.attributes.position;let Zt=Lt.start*Tt,pr=(Lt.start+Lt.count)*Tt;lt!==null&&(Zt=Math.max(Zt,lt.start*Tt),pr=Math.min(pr,(lt.start+lt.count)*Tt)),xt!==null?(Zt=Math.max(Zt,0),pr=Math.min(pr,xt.count)):Rt!=null&&(Zt=Math.max(Zt,0),pr=Math.min(pr,Rt.count));const gi=pr-Zt;if(gi<0||gi===1/0)return;me.setup(Te,ge,ht,Me,xt);let ls,ln=rt;if(xt!==null&&(ls=Ve.get(xt),ln=ue,ln.setIndex(ls)),Te.isMesh)ge.wireframe===!0?(Y.setLineWidth(ge.wireframeLinewidth*xe()),ln.setMode(1)):ln.setMode(4);else if(Te.isLine){let It=ge.linewidth;It===void 0&&(It=1),Y.setLineWidth(It*xe()),Te.isLineSegments?ln.setMode(1):Te.isLineLoop?ln.setMode(2):ln.setMode(3)}else Te.isPoints?ln.setMode(0):Te.isSprite&&ln.setMode(4);if(Te.isInstancedMesh)ln.renderInstances(Zt,gi,Te.count);else if(Me.isInstancedBufferGeometry){const It=Me._maxInstanceCount!==void 0?Me._maxInstanceCount:1/0,ol=Math.min(Me.instanceCount,It);ln.renderInstances(Zt,gi,ol)}else ln.render(Zt,gi)},this.compile=function(K,ve){function Me(ge,Te,lt){ge.transparent===!0&&ge.side===Mi&&ge.forceSinglePass===!1?(ge.side=Dr,ge.needsUpdate=!0,sr(ge,Te,lt),ge.side=lo,ge.needsUpdate=!0,sr(ge,Te,lt),ge.side=Mi):sr(ge,Te,lt)}y=z.get(K),y.init(),v.push(y),K.traverseVisible(function(ge){ge.isLight&&ge.layers.test(ve.layers)&&(y.pushLight(ge),ge.castShadow&&y.pushShadow(ge))}),y.setupLights(m.useLegacyLights),K.traverse(function(ge){const Te=ge.material;if(Te)if(Array.isArray(Te))for(let lt=0;lt<Te.length;lt++){const dt=Te[lt];Me(dt,K,ge)}else Me(Te,K,ge)}),v.pop(),y=null};let Pe=null;function Fe(K){Pe&&Pe(K)}function Xe(){Ht.stop()}function Ct(){Ht.start()}const Ht=new gO;Ht.setAnimationLoop(Fe),typeof self<"u"&&Ht.setContext(self),this.setAnimationLoop=function(K){Pe=K,Ae.setAnimationLoop(K),K===null?Ht.stop():Ht.start()},Ae.addEventListener("sessionstart",Xe),Ae.addEventListener("sessionend",Ct),this.render=function(K,ve){if(ve!==void 0&&ve.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;K.matrixWorldAutoUpdate===!0&&K.updateMatrixWorld(),ve.parent===null&&ve.matrixWorldAutoUpdate===!0&&ve.updateMatrixWorld(),Ae.enabled===!0&&Ae.isPresenting===!0&&(Ae.cameraAutoUpdate===!0&&Ae.updateCamera(ve),ve=Ae.getCamera()),K.isScene===!0&&K.onBeforeRender(m,K,ve,P),y=z.get(K,v.length),y.init(),v.push(y),re.multiplyMatrices(ve.projectionMatrix,ve.matrixWorldInverse),W.setFromProjectionMatrix(re),ce=this.localClippingEnabled,V=fe.init(this.clippingPlanes,ce),g=J.get(K,x.length),g.init(),x.push(g),en(K,ve,0,m.sortObjects),g.finish(),m.sortObjects===!0&&g.sort(H,j),V===!0&&fe.beginShadows();const Me=y.state.shadowsArray;if(Ce.render(Me,K,ve),V===!0&&fe.endShadows(),this.info.autoReset===!0&&this.info.reset(),Be.render(g,K),y.setupLights(m.useLegacyLights),ve.isArrayCamera){const ge=ve.cameras;for(let Te=0,lt=ge.length;Te<lt;Te++){const dt=ge[Te];On(g,K,dt,dt.viewport)}}else On(g,K,ve);P!==null&&(le.updateMultisampleRenderTarget(P),le.updateRenderTargetMipmap(P)),K.isScene===!0&&K.onAfterRender(m,K,ve),me.resetDefaultState(),C=-1,R=null,v.pop(),v.length>0?y=v[v.length-1]:y=null,x.pop(),x.length>0?g=x[x.length-1]:g=null};function en(K,ve,Me,ge){if(K.visible===!1)return;if(K.layers.test(ve.layers)){if(K.isGroup)Me=K.renderOrder;else if(K.isLOD)K.autoUpdate===!0&&K.update(ve);else if(K.isLight)y.pushLight(K),K.castShadow&&y.pushShadow(K);else if(K.isSprite){if(!K.frustumCulled||W.intersectsSprite(K)){ge&&q.setFromMatrixPosition(K.matrixWorld).applyMatrix4(re);const dt=We.update(K),ht=K.material;ht.visible&&g.push(K,dt,ht,Me,q.z,null)}}else if((K.isMesh||K.isLine||K.isPoints)&&(K.isSkinnedMesh&&K.skeleton.frame!==ae.render.frame&&(K.skeleton.update(),K.skeleton.frame=ae.render.frame),!K.frustumCulled||W.intersectsObject(K))){ge&&q.setFromMatrixPosition(K.matrixWorld).applyMatrix4(re);const dt=We.update(K),ht=K.material;if(Array.isArray(ht)){const xt=dt.groups;for(let Tt=0,Lt=xt.length;Tt<Lt;Tt++){const Rt=xt[Tt],Zt=ht[Rt.materialIndex];Zt&&Zt.visible&&g.push(K,dt,Zt,Me,q.z,Rt)}}else ht.visible&&g.push(K,dt,ht,Me,q.z,null)}}const lt=K.children;for(let dt=0,ht=lt.length;dt<ht;dt++)en(lt[dt],ve,Me,ge)}function On(K,ve,Me,ge){const Te=K.opaque,lt=K.transmissive,dt=K.transparent;y.setupLightsView(Me),V===!0&&fe.setGlobalState(m.clippingPlanes,Me),lt.length>0&&Qt(Te,lt,ve,Me),ge&&Y.viewport(T.copy(ge)),Te.length>0&&hn(Te,ve,Me),lt.length>0&&hn(lt,ve,Me),dt.length>0&&hn(dt,ve,Me),Y.buffers.depth.setTest(!0),Y.buffers.depth.setMask(!0),Y.buffers.color.setMask(!0),Y.setPolygonOffset(!1)}function Qt(K,ve,Me,ge){if(oe===null){const ht=G.isWebGL2;oe=new Ii(1024,1024,{generateMipmaps:!0,type:N.has("EXT_color_buffer_half_float")?Zi:Qo,minFilter:uo,samples:ht&&a===!0?4:0})}const Te=m.getRenderTarget();m.setRenderTarget(oe),m.clear();const lt=m.toneMapping;m.toneMapping=Cs,hn(K,Me,ge),le.updateMultisampleRenderTarget(oe),le.updateRenderTargetMipmap(oe);let dt=!1;for(let ht=0,xt=ve.length;ht<xt;ht++){const Tt=ve[ht],Lt=Tt.object,Rt=Tt.geometry,Zt=Tt.material,pr=Tt.group;if(Zt.side===Mi&&Lt.layers.test(ge.layers)){const gi=Zt.side;Zt.side=Dr,Zt.needsUpdate=!0,Ye(Lt,Me,ge,Rt,Zt,pr),Zt.side=gi,Zt.needsUpdate=!0,dt=!0}}dt===!0&&(le.updateMultisampleRenderTarget(oe),le.updateRenderTargetMipmap(oe)),m.setRenderTarget(Te),m.toneMapping=lt}function hn(K,ve,Me){const ge=ve.isScene===!0?ve.overrideMaterial:null;for(let Te=0,lt=K.length;Te<lt;Te++){const dt=K[Te],ht=dt.object,xt=dt.geometry,Tt=ge===null?dt.material:ge,Lt=dt.group;ht.layers.test(Me.layers)&&Ye(ht,ve,Me,xt,Tt,Lt)}}function Ye(K,ve,Me,ge,Te,lt){K.onBeforeRender(m,ve,Me,ge,Te,lt),K.modelViewMatrix.multiplyMatrices(Me.matrixWorldInverse,K.matrixWorld),K.normalMatrix.getNormalMatrix(K.modelViewMatrix),Te.onBeforeRender(m,ve,Me,ge,K,lt),Te.transparent===!0&&Te.side===Mi&&Te.forceSinglePass===!1?(Te.side=Dr,Te.needsUpdate=!0,m.renderBufferDirect(Me,ve,ge,Te,K,lt),Te.side=lo,Te.needsUpdate=!0,m.renderBufferDirect(Me,ve,ge,Te,K,lt),Te.side=Mi):m.renderBufferDirect(Me,ve,ge,Te,K,lt),K.onAfterRender(m,ve,Me,ge,Te,lt)}function sr(K,ve,Me){ve.isScene!==!0&&(ve=we);const ge=te.get(K),Te=y.state.lights,lt=y.state.shadowsArray,dt=Te.state.version,ht=Ze.getParameters(K,Te.state,lt,ve,Me),xt=Ze.getProgramCacheKey(ht);let Tt=ge.programs;ge.environment=K.isMeshStandardMaterial?ve.environment:null,ge.fog=ve.fog,ge.envMap=(K.isMeshStandardMaterial?Ie:Re).get(K.envMap||ge.environment),Tt===void 0&&(K.addEventListener("dispose",ot),Tt=new Map,ge.programs=Tt);let Lt=Tt.get(xt);if(Lt!==void 0){if(ge.currentProgram===Lt&&ge.lightsStateVersion===dt)return ki(K,ht),Lt}else ht.uniforms=Ze.getUniforms(K),K.onBuild(Me,ht,m),K.onBeforeCompile(ht,m),Lt=Ze.acquireProgram(ht,xt),Tt.set(xt,Lt),ge.uniforms=ht.uniforms;const Rt=ge.uniforms;(!K.isShaderMaterial&&!K.isRawShaderMaterial||K.clipping===!0)&&(Rt.clippingPlanes=fe.uniform),ki(K,ht),ge.needsLights=Uf(K),ge.lightsStateVersion=dt,ge.needsLights&&(Rt.ambientLightColor.value=Te.state.ambient,Rt.lightProbe.value=Te.state.probe,Rt.directionalLights.value=Te.state.directional,Rt.directionalLightShadows.value=Te.state.directionalShadow,Rt.spotLights.value=Te.state.spot,Rt.spotLightShadows.value=Te.state.spotShadow,Rt.rectAreaLights.value=Te.state.rectArea,Rt.ltc_1.value=Te.state.rectAreaLTC1,Rt.ltc_2.value=Te.state.rectAreaLTC2,Rt.pointLights.value=Te.state.point,Rt.pointLightShadows.value=Te.state.pointShadow,Rt.hemisphereLights.value=Te.state.hemi,Rt.directionalShadowMap.value=Te.state.directionalShadowMap,Rt.directionalShadowMatrix.value=Te.state.directionalShadowMatrix,Rt.spotShadowMap.value=Te.state.spotShadowMap,Rt.spotLightMatrix.value=Te.state.spotLightMatrix,Rt.spotLightMap.value=Te.state.spotLightMap,Rt.pointShadowMap.value=Te.state.pointShadowMap,Rt.pointShadowMatrix.value=Te.state.pointShadowMatrix);const Zt=Lt.getUniforms(),pr=lv.seqWithValue(Zt.seq,Rt);return ge.currentProgram=Lt,ge.uniformsList=pr,Lt}function ki(K,ve){const Me=te.get(K);Me.outputEncoding=ve.outputEncoding,Me.instancing=ve.instancing,Me.skinning=ve.skinning,Me.morphTargets=ve.morphTargets,Me.morphNormals=ve.morphNormals,Me.morphColors=ve.morphColors,Me.morphTargetsCount=ve.morphTargetsCount,Me.numClippingPlanes=ve.numClippingPlanes,Me.numIntersection=ve.numClipIntersection,Me.vertexAlphas=ve.vertexAlphas,Me.vertexTangents=ve.vertexTangents,Me.toneMapping=ve.toneMapping}function Us(K,ve,Me,ge,Te){ve.isScene!==!0&&(ve=we),le.resetTextureUnits();const lt=ve.fog,dt=ge.isMeshStandardMaterial?ve.environment:null,ht=P===null?m.outputEncoding:P.isXRRenderTarget===!0?P.texture.encoding:Ls,xt=(ge.isMeshStandardMaterial?Ie:Re).get(ge.envMap||dt),Tt=ge.vertexColors===!0&&!!Me.attributes.color&&Me.attributes.color.itemSize===4,Lt=!!ge.normalMap&&!!Me.attributes.tangent,Rt=!!Me.morphAttributes.position,Zt=!!Me.morphAttributes.normal,pr=!!Me.morphAttributes.color,gi=ge.toneMapped?m.toneMapping:Cs,ls=Me.morphAttributes.position||Me.morphAttributes.normal||Me.morphAttributes.color,ln=ls!==void 0?ls.length:0,It=te.get(ge),ol=y.state.lights;if(V===!0&&(ce===!0||K!==R)){const sn=K===R&&ge.id===C;fe.setState(ge,K,sn)}let zn=!1;ge.version===It.__version?(It.needsLights&&It.lightsStateVersion!==ol.state.version||It.outputEncoding!==ht||Te.isInstancedMesh&&It.instancing===!1||!Te.isInstancedMesh&&It.instancing===!0||Te.isSkinnedMesh&&It.skinning===!1||!Te.isSkinnedMesh&&It.skinning===!0||It.envMap!==xt||ge.fog===!0&&It.fog!==lt||It.numClippingPlanes!==void 0&&(It.numClippingPlanes!==fe.numPlanes||It.numIntersection!==fe.numIntersection)||It.vertexAlphas!==Tt||It.vertexTangents!==Lt||It.morphTargets!==Rt||It.morphNormals!==Zt||It.morphColors!==pr||It.toneMapping!==gi||G.isWebGL2===!0&&It.morphTargetsCount!==ln)&&(zn=!0):(zn=!0,It.__version=ge.version);let us=It.currentProgram;zn===!0&&(us=sr(ge,ve,Te));let ho=!1,Qr=!1,tn=!1;const _t=us.getUniforms(),wr=It.uniforms;if(Y.useProgram(us.program)&&(ho=!0,Qr=!0,tn=!0),ge.id!==C&&(C=ge.id,Qr=!0),ho||R!==K){if(_t.setValue(se,"projectionMatrix",K.projectionMatrix),G.logarithmicDepthBuffer&&_t.setValue(se,"logDepthBufFC",2/(Math.log(K.far+1)/Math.LN2)),R!==K&&(R=K,Qr=!0,tn=!0),ge.isShaderMaterial||ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshStandardMaterial||ge.envMap){const sn=_t.map.cameraPosition;sn!==void 0&&sn.setValue(se,q.setFromMatrixPosition(K.matrixWorld))}(ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshLambertMaterial||ge.isMeshBasicMaterial||ge.isMeshStandardMaterial||ge.isShaderMaterial)&&_t.setValue(se,"isOrthographic",K.isOrthographicCamera===!0),(ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshLambertMaterial||ge.isMeshBasicMaterial||ge.isMeshStandardMaterial||ge.isShaderMaterial||ge.isShadowMaterial||Te.isSkinnedMesh)&&_t.setValue(se,"viewMatrix",K.matrixWorldInverse)}if(Te.isSkinnedMesh){_t.setOptional(se,Te,"bindMatrix"),_t.setOptional(se,Te,"bindMatrixInverse");const sn=Te.skeleton;sn&&(G.floatVertexTextures?(sn.boneTexture===null&&sn.computeBoneTexture(),_t.setValue(se,"boneTexture",sn.boneTexture,le),_t.setValue(se,"boneTextureSize",sn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Hn=Me.morphAttributes;if((Hn.position!==void 0||Hn.normal!==void 0||Hn.color!==void 0&&G.isWebGL2===!0)&&ke.update(Te,Me,us),(Qr||It.receiveShadow!==Te.receiveShadow)&&(It.receiveShadow=Te.receiveShadow,_t.setValue(se,"receiveShadow",Te.receiveShadow)),ge.isMeshGouraudMaterial&&ge.envMap!==null&&(wr.envMap.value=xt,wr.flipEnvMap.value=xt.isCubeTexture&&xt.isRenderTargetTexture===!1?-1:1),Qr&&(_t.setValue(se,"toneMappingExposure",m.toneMappingExposure),It.needsLights&&sl(wr,tn),lt&&ge.fog===!0&&et.refreshFogUniforms(wr,lt),et.refreshMaterialUniforms(wr,ge,U,D,oe),lv.upload(se,It.uniformsList,wr,le)),ge.isShaderMaterial&&ge.uniformsNeedUpdate===!0&&(lv.upload(se,It.uniformsList,wr,le),ge.uniformsNeedUpdate=!1),ge.isSpriteMaterial&&_t.setValue(se,"center",Te.center),_t.setValue(se,"modelViewMatrix",Te.modelViewMatrix),_t.setValue(se,"normalMatrix",Te.normalMatrix),_t.setValue(se,"modelMatrix",Te.matrixWorld),ge.isShaderMaterial||ge.isRawShaderMaterial){const sn=ge.uniformsGroups;for(let cs=0,la=sn.length;cs<la;cs++)if(G.isWebGL2){const mr=sn[cs];Ee.update(mr,us),Ee.bind(mr,us)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return us}function sl(K,ve){K.ambientLightColor.needsUpdate=ve,K.lightProbe.needsUpdate=ve,K.directionalLights.needsUpdate=ve,K.directionalLightShadows.needsUpdate=ve,K.pointLights.needsUpdate=ve,K.pointLightShadows.needsUpdate=ve,K.spotLights.needsUpdate=ve,K.spotLightShadows.needsUpdate=ve,K.rectAreaLights.needsUpdate=ve,K.hemisphereLights.needsUpdate=ve}function Uf(K){return K.isMeshLambertMaterial||K.isMeshToonMaterial||K.isMeshPhongMaterial||K.isMeshStandardMaterial||K.isShadowMaterial||K.isShaderMaterial&&K.lights===!0}this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return P},this.setRenderTargetTextures=function(K,ve,Me){te.get(K.texture).__webglTexture=ve,te.get(K.depthTexture).__webglTexture=Me;const ge=te.get(K);ge.__hasExternalTextures=!0,ge.__hasExternalTextures&&(ge.__autoAllocateDepthBuffer=Me===void 0,ge.__autoAllocateDepthBuffer||N.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ge.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(K,ve){const Me=te.get(K);Me.__webglFramebuffer=ve,Me.__useDefaultFramebuffer=ve===void 0},this.setRenderTarget=function(K,ve=0,Me=0){P=K,_=ve,M=Me;let ge=!0,Te=null,lt=!1,dt=!1;if(K){const xt=te.get(K);xt.__useDefaultFramebuffer!==void 0?(Y.bindFramebuffer(36160,null),ge=!1):xt.__webglFramebuffer===void 0?le.setupRenderTarget(K):xt.__hasExternalTextures&&le.rebindTextures(K,te.get(K.texture).__webglTexture,te.get(K.depthTexture).__webglTexture);const Tt=K.texture;(Tt.isData3DTexture||Tt.isDataArrayTexture||Tt.isCompressedArrayTexture)&&(dt=!0);const Lt=te.get(K).__webglFramebuffer;K.isWebGLCubeRenderTarget?(Te=Lt[ve],lt=!0):G.isWebGL2&&K.samples>0&&le.useMultisampledRTT(K)===!1?Te=te.get(K).__webglMultisampledFramebuffer:Te=Lt,T.copy(K.viewport),E.copy(K.scissor),A=K.scissorTest}else T.copy($).multiplyScalar(U).floor(),E.copy(Z).multiplyScalar(U).floor(),A=k;if(Y.bindFramebuffer(36160,Te)&&G.drawBuffers&&ge&&Y.drawBuffers(K,Te),Y.viewport(T),Y.scissor(E),Y.setScissorTest(A),lt){const xt=te.get(K.texture);se.framebufferTexture2D(36160,36064,34069+ve,xt.__webglTexture,Me)}else if(dt){const xt=te.get(K.texture),Tt=ve||0;se.framebufferTextureLayer(36160,36064,xt.__webglTexture,Me||0,Tt)}C=-1},this.readRenderTargetPixels=function(K,ve,Me,ge,Te,lt,dt){if(!(K&&K.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ht=te.get(K).__webglFramebuffer;if(K.isWebGLCubeRenderTarget&&dt!==void 0&&(ht=ht[dt]),ht){Y.bindFramebuffer(36160,ht);try{const xt=K.texture,Tt=xt.format,Lt=xt.type;if(Tt!==oi&&ee.convert(Tt)!==se.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Rt=Lt===Zi&&(N.has("EXT_color_buffer_half_float")||G.isWebGL2&&N.has("EXT_color_buffer_float"));if(Lt!==Qo&&ee.convert(Lt)!==se.getParameter(35738)&&!(Lt===Ai&&(G.isWebGL2||N.has("OES_texture_float")||N.has("WEBGL_color_buffer_float")))&&!Rt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ve>=0&&ve<=K.width-ge&&Me>=0&&Me<=K.height-Te&&se.readPixels(ve,Me,ge,Te,ee.convert(Tt),ee.convert(Lt),lt)}finally{const xt=P!==null?te.get(P).__webglFramebuffer:null;Y.bindFramebuffer(36160,xt)}}},this.copyFramebufferToTexture=function(K,ve,Me=0){const ge=Math.pow(2,-Me),Te=Math.floor(ve.image.width*ge),lt=Math.floor(ve.image.height*ge);le.setTexture2D(ve,0),se.copyTexSubImage2D(3553,Me,0,0,K.x,K.y,Te,lt),Y.unbindTexture()},this.copyTextureToTexture=function(K,ve,Me,ge=0){const Te=ve.image.width,lt=ve.image.height,dt=ee.convert(Me.format),ht=ee.convert(Me.type);le.setTexture2D(Me,0),se.pixelStorei(37440,Me.flipY),se.pixelStorei(37441,Me.premultiplyAlpha),se.pixelStorei(3317,Me.unpackAlignment),ve.isDataTexture?se.texSubImage2D(3553,ge,K.x,K.y,Te,lt,dt,ht,ve.image.data):ve.isCompressedTexture?se.compressedTexSubImage2D(3553,ge,K.x,K.y,ve.mipmaps[0].width,ve.mipmaps[0].height,dt,ve.mipmaps[0].data):se.texSubImage2D(3553,ge,K.x,K.y,dt,ht,ve.image),ge===0&&Me.generateMipmaps&&se.generateMipmap(3553),Y.unbindTexture()},this.copyTextureToTexture3D=function(K,ve,Me,ge,Te=0){if(m.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const lt=K.max.x-K.min.x+1,dt=K.max.y-K.min.y+1,ht=K.max.z-K.min.z+1,xt=ee.convert(ge.format),Tt=ee.convert(ge.type);let Lt;if(ge.isData3DTexture)le.setTexture3D(ge,0),Lt=32879;else if(ge.isDataArrayTexture)le.setTexture2DArray(ge,0),Lt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}se.pixelStorei(37440,ge.flipY),se.pixelStorei(37441,ge.premultiplyAlpha),se.pixelStorei(3317,ge.unpackAlignment);const Rt=se.getParameter(3314),Zt=se.getParameter(32878),pr=se.getParameter(3316),gi=se.getParameter(3315),ls=se.getParameter(32877),ln=Me.isCompressedTexture?Me.mipmaps[0]:Me.image;se.pixelStorei(3314,ln.width),se.pixelStorei(32878,ln.height),se.pixelStorei(3316,K.min.x),se.pixelStorei(3315,K.min.y),se.pixelStorei(32877,K.min.z),Me.isDataTexture||Me.isData3DTexture?se.texSubImage3D(Lt,Te,ve.x,ve.y,ve.z,lt,dt,ht,xt,Tt,ln.data):Me.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),se.compressedTexSubImage3D(Lt,Te,ve.x,ve.y,ve.z,lt,dt,ht,xt,ln.data)):se.texSubImage3D(Lt,Te,ve.x,ve.y,ve.z,lt,dt,ht,xt,Tt,ln),se.pixelStorei(3314,Rt),se.pixelStorei(32878,Zt),se.pixelStorei(3316,pr),se.pixelStorei(3315,gi),se.pixelStorei(32877,ls),Te===0&&ge.generateMipmaps&&se.generateMipmap(Lt),Y.unbindTexture()},this.initTexture=function(K){K.isCubeTexture?le.setTextureCube(K,0):K.isData3DTexture?le.setTexture3D(K,0):K.isDataArrayTexture||K.isCompressedArrayTexture?le.setTexture2DArray(K,0):le.setTexture2D(K,0),Y.unbindTexture()},this.resetState=function(){_=0,M=0,P=null,Y.reset(),me.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}}class MO extends rM{}MO.prototype.isWebGL1Renderer=!0;class z0{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ge(e),this.density=t}clone(){return new z0(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class H0{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new Ge(e),this.near=t,this.far=r}clone(){return new H0(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Dh extends Vt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class sp{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Ih,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Li()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Li()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Li()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Hr=new X;class Qa{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Hr.fromBufferAttribute(this,t),Hr.applyMatrix4(e),this.setXYZ(t,Hr.x,Hr.y,Hr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Hr.fromBufferAttribute(this,t),Hr.applyNormalMatrix(e),this.setXYZ(t,Hr.x,Hr.y,Hr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Hr.fromBufferAttribute(this,t),Hr.transformDirection(e),this.setXYZ(t,Hr.x,Hr.y,Hr.z);return this}setX(e,t){return this.normalized&&(t=Et(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Et(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Et(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Et(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ci(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ci(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ci(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ci(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Et(t,this.array),r=Et(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Et(t,this.array),r=Et(r,this.array),i=Et(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Et(t,this.array),r=Et(r,this.array),i=Et(i,this.array),s=Et(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new jt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Qa(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class iM extends Un{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ge(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Xu;const xd=new X,Yu=new X,Qu=new X,Zu=new Oe,_d=new Oe,EO=new mt,ng=new X,Sd=new X,rg=new X,f3=new Oe,mx=new Oe,d3=new Oe;class AO extends Vt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Xu===void 0){Xu=new St;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new sp(t,5);Xu.setIndex([0,1,2,0,2,3]),Xu.setAttribute("position",new Qa(r,3,0,!1)),Xu.setAttribute("uv",new Qa(r,2,3,!1))}this.geometry=Xu,this.material=e!==void 0?e:new iM,this.center=new Oe(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Yu.setFromMatrixScale(this.matrixWorld),EO.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Qu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Yu.multiplyScalar(-Qu.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;ig(ng.set(-.5,-.5,0),Qu,o,Yu,i,s),ig(Sd.set(.5,-.5,0),Qu,o,Yu,i,s),ig(rg.set(.5,.5,0),Qu,o,Yu,i,s),f3.set(0,0),mx.set(1,0),d3.set(1,1);let a=e.ray.intersectTriangle(ng,Sd,rg,!1,xd);if(a===null&&(ig(Sd.set(-.5,.5,0),Qu,o,Yu,i,s),mx.set(0,1),a=e.ray.intersectTriangle(ng,rg,Sd,!1,xd),a===null))return;const l=e.ray.origin.distanceTo(xd);l<e.near||l>e.far||t.push({distance:l,point:xd.clone(),uv:si.getInterpolation(xd,ng,Sd,rg,f3,mx,d3,new Oe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function ig(n,e,t,r,i,s){Zu.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(_d.x=s*Zu.x-i*Zu.y,_d.y=i*Zu.x+s*Zu.y):_d.copy(Zu),n.copy(e),n.x+=_d.x,n.y+=_d.y,n.applyMatrix4(EO)}const sg=new X,h3=new X;class CO extends Vt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){sg.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(sg);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){sg.setFromMatrixPosition(e.matrixWorld),h3.setFromMatrixPosition(this.matrixWorld);const r=sg.distanceTo(h3)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const p3=new X,m3=new qt,g3=new qt,Aj=new X,v3=new mt,qu=new X;class sM extends tr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new mt,this.bindMatrixInverse=new mt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Is),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)qu.fromBufferAttribute(t,r),this.applyBoneTransform(r,qu),this.boundingBox.expandByPoint(qu)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Bs),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)qu.fromBufferAttribute(t,r),this.applyBoneTransform(r,qu),this.boundingSphere.expandByPoint(qu)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new qt,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;m3.fromBufferAttribute(i.attributes.skinIndex,e),g3.fromBufferAttribute(i.attributes.skinWeight,e),p3.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=g3.getComponent(s);if(o!==0){const a=m3.getComponent(s);v3.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(Aj.copy(p3).applyMatrix4(v3),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class G0 extends Vt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Hc extends yn{constructor(e=null,t=1,r=1,i,s,o,a,l,u=In,c=In,d,p){super(null,o,a,l,u,c,i,s,d,p),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const y3=new mt,Cj=new mt;class op{constructor(e=[],t=[]){this.uuid=Li(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new mt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new mt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Cj;y3.multiplyMatrices(a,t[s]),y3.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new op(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=cO(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Hc(t,e,e,oi,Ai);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new G0),this.bones.push(o),this.boneInverses.push(new mt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class of extends jt{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ec=new mt,x3=new mt,og=[],_3=new Is,Tj=new mt,wd=new tr,bd=new Bs;class TO extends tr{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new of(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Tj)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Is),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,ec),_3.copy(e.boundingBox).applyMatrix4(ec),this.boundingBox.union(_3)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Bs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,ec),bd.copy(e.boundingSphere).applyMatrix4(ec),this.boundingSphere.union(bd)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(wd.geometry=this.geometry,wd.material=this.material,wd.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),bd.copy(this.boundingSphere),bd.applyMatrix4(r),e.ray.intersectsSphere(bd)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,ec),x3.multiplyMatrices(r,ec),wd.matrixWorld=x3,wd.raycast(e,og);for(let o=0,a=og.length;o<a;o++){const l=og[o];l.instanceId=s,l.object=this,t.push(l)}og.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new of(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class kr extends Un{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ge(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const S3=new X,w3=new X,b3=new mt,gx=new tp,ag=new Bs;class Zo extends Vt{constructor(e=new St,t=new kr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)S3.fromBufferAttribute(t,i-1),w3.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=S3.distanceTo(w3);e.setAttribute("lineDistance",new it(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),ag.copy(r.boundingSphere),ag.applyMatrix4(i),ag.radius+=s,e.ray.intersectsSphere(ag)===!1)return;b3.copy(i).invert(),gx.copy(e.ray).applyMatrix4(b3);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new X,c=new X,d=new X,p=new X,g=this.isLineSegments?2:1,y=r.index,v=r.attributes.position;if(y!==null){const m=Math.max(0,o.start),S=Math.min(y.count,o.start+o.count);for(let _=m,M=S-1;_<M;_+=g){const P=y.getX(_),C=y.getX(_+1);if(u.fromBufferAttribute(v,P),c.fromBufferAttribute(v,C),gx.distanceSqToSegment(u,c,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(p);T<e.near||T>e.far||t.push({distance:T,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const m=Math.max(0,o.start),S=Math.min(v.count,o.start+o.count);for(let _=m,M=S-1;_<M;_+=g){if(u.fromBufferAttribute(v,_),c.fromBufferAttribute(v,_+1),gx.distanceSqToSegment(u,c,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(p);C<e.near||C>e.far||t.push({distance:C,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const M3=new X,E3=new X;class Ds extends Zo{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)M3.fromBufferAttribute(t,i),E3.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+M3.distanceTo(E3);e.setAttribute("lineDistance",new it(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class oM extends Zo{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class V0 extends Un{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ge(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const A3=new mt,KS=new tp,lg=new Bs,ug=new X;class aM extends Vt{constructor(e=new St,t=new V0){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),lg.copy(r.boundingSphere),lg.applyMatrix4(i),lg.radius+=s,e.ray.intersectsSphere(lg)===!1)return;A3.copy(i).invert(),KS.copy(e.ray).applyMatrix4(A3);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,d=r.attributes.position;if(u!==null){const p=Math.max(0,o.start),g=Math.min(u.count,o.start+o.count);for(let y=p,x=g;y<x;y++){const v=u.getX(y);ug.fromBufferAttribute(d,v),C3(ug,v,l,i,e,t,this)}}else{const p=Math.max(0,o.start),g=Math.min(d.count,o.start+o.count);for(let y=p,x=g;y<x;y++)ug.fromBufferAttribute(d,y),C3(ug,y,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function C3(n,e,t,r,i,s,o){const a=KS.distanceSqToPoint(n);if(a<t){const l=new X;KS.closestPointToPoint(n,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class Lj extends yn{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:gn,this.magFilter=s!==void 0?s:gn,this.generateMipmaps=!1;const c=this;function d(){c.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Pj extends yn{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=In,this.minFilter=In,this.generateMipmaps=!1,this.needsUpdate=!0}}class lM extends yn{constructor(e,t,r,i,s,o,a,l,u,c,d,p){super(null,o,a,l,u,c,i,s,d,p),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Rj extends lM{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=xr}}class Ij extends yn{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Os{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const c=r[i],p=r[i+1]-c,g=(o-c)/p;return(i+g)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new Oe:new X);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new X,i=[],s=[],o=[],a=new X,l=new mt;for(let g=0;g<=e;g++){const y=g/e;i[g]=this.getTangentAt(y,new X)}s[0]=new X,o[0]=new X;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),d=Math.abs(i[0].y),p=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),d<=u&&(u=d,r.set(0,1,0)),p<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let g=1;g<=e;g++){if(s[g]=s[g-1].clone(),o[g]=o[g-1].clone(),a.crossVectors(i[g-1],i[g]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(Bn(i[g-1].dot(i[g]),-1,1));s[g].applyMatrix4(l.makeRotationAxis(a,y))}o[g].crossVectors(i[g],s[g])}if(t===!0){let g=Math.acos(Bn(s[0].dot(s[e]),-1,1));g/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(g=-g);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(i[y],g*y)),o[y].crossVectors(i[y],s[y])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class j0 extends Os{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new Oe,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,g=u-this.aY;l=p*c-g*d+this.aX,u=p*d+g*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class LO extends j0{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function uM(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,c,d){let p=(o-s)/u-(a-s)/(u+c)+(a-o)/c,g=(a-o)/c-(l-o)/(c+d)+(l-a)/d;p*=c,g*=c,i(o,a,p,g)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const cg=new X,vx=new uM,yx=new uM,xx=new uM;class PO extends Os{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new X){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,c;this.closed||a>0?u=i[(a-1)%s]:(cg.subVectors(i[0],i[1]).add(i[0]),u=cg);const d=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?c=i[(a+2)%s]:(cg.subVectors(i[s-1],i[s-2]).add(i[s-1]),c=cg),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let y=Math.pow(u.distanceToSquared(d),g),x=Math.pow(d.distanceToSquared(p),g),v=Math.pow(p.distanceToSquared(c),g);x<1e-4&&(x=1),y<1e-4&&(y=x),v<1e-4&&(v=x),vx.initNonuniformCatmullRom(u.x,d.x,p.x,c.x,y,x,v),yx.initNonuniformCatmullRom(u.y,d.y,p.y,c.y,y,x,v),xx.initNonuniformCatmullRom(u.z,d.z,p.z,c.z,y,x,v)}else this.curveType==="catmullrom"&&(vx.initCatmullRom(u.x,d.x,p.x,c.x,this.tension),yx.initCatmullRom(u.y,d.y,p.y,c.y,this.tension),xx.initCatmullRom(u.z,d.z,p.z,c.z,this.tension));return r.set(vx.calc(l),yx.calc(l),xx.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new X().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function T3(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function Bj(n,e){const t=1-n;return t*t*e}function Dj(n,e){return 2*(1-n)*n*e}function Oj(n,e){return n*n*e}function rh(n,e,t,r){return Bj(n,e)+Dj(n,t)+Oj(n,r)}function kj(n,e){const t=1-n;return t*t*t*e}function Fj(n,e){const t=1-n;return 3*t*t*n*e}function Nj(n,e){return 3*(1-n)*n*n*e}function Uj(n,e){return n*n*n*e}function ih(n,e,t,r,i){return kj(n,e)+Fj(n,t)+Nj(n,r)+Uj(n,i)}class cM extends Os{constructor(e=new Oe,t=new Oe,r=new Oe,i=new Oe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Oe){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(ih(e,i.x,s.x,o.x,a.x),ih(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class RO extends Os{constructor(e=new X,t=new X,r=new X,i=new X){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new X){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(ih(e,i.x,s.x,o.x,a.x),ih(e,i.y,s.y,o.y,a.y),ih(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class W0 extends Os{constructor(e=new Oe,t=new Oe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Oe){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Oe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class IO extends Os{constructor(e=new X,t=new X){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new X){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new X){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class fM extends Os{constructor(e=new Oe,t=new Oe,r=new Oe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Oe){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(rh(e,i.x,s.x,o.x),rh(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class dM extends Os{constructor(e=new X,t=new X,r=new X){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new X){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(rh(e,i.x,s.x,o.x),rh(e,i.y,s.y,o.y),rh(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class hM extends Os{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Oe){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],c=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return r.set(T3(a,l.x,u.x,c.x,d.x),T3(a,l.y,u.y,c.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Oe().fromArray(i))}return this}}var pM=Object.freeze({__proto__:null,ArcCurve:LO,CatmullRomCurve3:PO,CubicBezierCurve:cM,CubicBezierCurve3:RO,EllipseCurve:j0,LineCurve:W0,LineCurve3:IO,QuadraticBezierCurve:fM,QuadraticBezierCurve3:dM,SplineCurve:hM});class BO extends Os{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new W0(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(t.push(c),r=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new pM[i.type]().fromJSON(i))}return this}}class Oh extends BO{constructor(e){super(),this.type="Path",this.currentPoint=new Oe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new W0(this.currentPoint.clone(),new Oe(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new fM(this.currentPoint.clone(),new Oe(e,t),new Oe(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new cM(this.currentPoint.clone(),new Oe(e,t),new Oe(r,i),new Oe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new hM(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,t+c,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const u=new j0(e,t,r,i,s,o,a,l);if(this.curves.length>0){const d=u.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Sf extends St{constructor(e=[new Oe(0,-.5),new Oe(.5,0),new Oe(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Bn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],c=1/t,d=new X,p=new Oe,g=new X,y=new X,x=new X;let v=0,m=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:v=e[S+1].x-e[S].x,m=e[S+1].y-e[S].y,g.x=m*1,g.y=-v,g.z=m*0,x.copy(g),g.normalize(),l.push(g.x,g.y,g.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:v=e[S+1].x-e[S].x,m=e[S+1].y-e[S].y,g.x=m*1,g.y=-v,g.z=m*0,y.copy(g),g.x+=x.x,g.y+=x.y,g.z+=x.z,g.normalize(),l.push(g.x,g.y,g.z),x.copy(y)}for(let S=0;S<=t;S++){const _=r+S*c*i,M=Math.sin(_),P=Math.cos(_);for(let C=0;C<=e.length-1;C++){d.x=e[C].x*M,d.y=e[C].y,d.z=e[C].x*P,o.push(d.x,d.y,d.z),p.x=S/t,p.y=C/(e.length-1),a.push(p.x,p.y);const R=l[3*C+0]*M,T=l[3*C+1],E=l[3*C+0]*P;u.push(R,T,E)}}for(let S=0;S<t;S++)for(let _=0;_<e.length-1;_++){const M=_+S*e.length,P=M,C=M+e.length,R=M+e.length+1,T=M+1;s.push(P,C,T),s.push(R,T,C)}this.setIndex(s),this.setAttribute("position",new it(o,3)),this.setAttribute("uv",new it(a,2)),this.setAttribute("normal",new it(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sf(e.points,e.segments,e.phiStart,e.phiLength)}}class ap extends Sf{constructor(e=1,t=1,r=4,i=8){const s=new Oh;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new ap(e.radius,e.length,e.capSegments,e.radialSegments)}}class lp extends St{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],u=new X,c=new Oe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=t;d++,p+=3){const g=r+d/t*i;u.x=e*Math.cos(g),u.y=e*Math.sin(g),o.push(u.x,u.y,u.z),a.push(0,0,1),c.x=(o[p]/e+1)/2,c.y=(o[p+1]/e+1)/2,l.push(c.x,c.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new it(o,3)),this.setAttribute("normal",new it(a,3)),this.setAttribute("uv",new it(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lp(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class du extends St{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const c=[],d=[],p=[],g=[];let y=0;const x=[],v=r/2;let m=0;S(),o===!1&&(e>0&&_(!0),t>0&&_(!1)),this.setIndex(c),this.setAttribute("position",new it(d,3)),this.setAttribute("normal",new it(p,3)),this.setAttribute("uv",new it(g,2));function S(){const M=new X,P=new X;let C=0;const R=(t-e)/r;for(let T=0;T<=s;T++){const E=[],A=T/s,B=A*(t-e)+e;for(let D=0;D<=i;D++){const U=D/i,H=U*l+a,j=Math.sin(H),$=Math.cos(H);P.x=B*j,P.y=-A*r+v,P.z=B*$,d.push(P.x,P.y,P.z),M.set(j,R,$).normalize(),p.push(M.x,M.y,M.z),g.push(U,1-A),E.push(y++)}x.push(E)}for(let T=0;T<i;T++)for(let E=0;E<s;E++){const A=x[E][T],B=x[E+1][T],D=x[E+1][T+1],U=x[E][T+1];c.push(A,B,U),c.push(B,D,U),C+=6}u.addGroup(m,C,0),m+=C}function _(M){const P=y,C=new Oe,R=new X;let T=0;const E=M===!0?e:t,A=M===!0?1:-1;for(let D=1;D<=i;D++)d.push(0,v*A,0),p.push(0,A,0),g.push(.5,.5),y++;const B=y;for(let D=0;D<=i;D++){const H=D/i*l+a,j=Math.cos(H),$=Math.sin(H);R.x=E*$,R.y=v*A,R.z=E*j,d.push(R.x,R.y,R.z),p.push(0,A,0),C.x=j*.5+.5,C.y=$*.5*A+.5,g.push(C.x,C.y),y++}for(let D=0;D<i;D++){const U=P+D,H=B+D;M===!0?c.push(H,H+1,U):c.push(H+1,H,U),T+=3}u.addGroup(m,T,M===!0?1:2),m+=T}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new du(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class up extends du{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new up(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class sa extends St{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),u(r),c(),this.setAttribute("position",new it(s,3)),this.setAttribute("normal",new it(s.slice(),3)),this.setAttribute("uv",new it(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(S){const _=new X,M=new X,P=new X;for(let C=0;C<t.length;C+=3)g(t[C+0],_),g(t[C+1],M),g(t[C+2],P),l(_,M,P,S)}function l(S,_,M,P){const C=P+1,R=[];for(let T=0;T<=C;T++){R[T]=[];const E=S.clone().lerp(M,T/C),A=_.clone().lerp(M,T/C),B=C-T;for(let D=0;D<=B;D++)D===0&&T===C?R[T][D]=E:R[T][D]=E.clone().lerp(A,D/B)}for(let T=0;T<C;T++)for(let E=0;E<2*(C-T)-1;E++){const A=Math.floor(E/2);E%2===0?(p(R[T][A+1]),p(R[T+1][A]),p(R[T][A])):(p(R[T][A+1]),p(R[T+1][A+1]),p(R[T+1][A]))}}function u(S){const _=new X;for(let M=0;M<s.length;M+=3)_.x=s[M+0],_.y=s[M+1],_.z=s[M+2],_.normalize().multiplyScalar(S),s[M+0]=_.x,s[M+1]=_.y,s[M+2]=_.z}function c(){const S=new X;for(let _=0;_<s.length;_+=3){S.x=s[_+0],S.y=s[_+1],S.z=s[_+2];const M=v(S)/2/Math.PI+.5,P=m(S)/Math.PI+.5;o.push(M,1-P)}y(),d()}function d(){for(let S=0;S<o.length;S+=6){const _=o[S+0],M=o[S+2],P=o[S+4],C=Math.max(_,M,P),R=Math.min(_,M,P);C>.9&&R<.1&&(_<.2&&(o[S+0]+=1),M<.2&&(o[S+2]+=1),P<.2&&(o[S+4]+=1))}}function p(S){s.push(S.x,S.y,S.z)}function g(S,_){const M=S*3;_.x=e[M+0],_.y=e[M+1],_.z=e[M+2]}function y(){const S=new X,_=new X,M=new X,P=new X,C=new Oe,R=new Oe,T=new Oe;for(let E=0,A=0;E<s.length;E+=9,A+=6){S.set(s[E+0],s[E+1],s[E+2]),_.set(s[E+3],s[E+4],s[E+5]),M.set(s[E+6],s[E+7],s[E+8]),C.set(o[A+0],o[A+1]),R.set(o[A+2],o[A+3]),T.set(o[A+4],o[A+5]),P.copy(S).add(_).add(M).divideScalar(3);const B=v(P);x(C,A+0,S,B),x(R,A+2,_,B),x(T,A+4,M,B)}}function x(S,_,M,P){P<0&&S.x===1&&(o[_]=S.x-1),M.x===0&&M.z===0&&(o[_]=P/2/Math.PI+.5)}function v(S){return Math.atan2(S.z,-S.x)}function m(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sa(e.vertices,e.indices,e.radius,e.details)}}class cp extends sa{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new cp(e.radius,e.detail)}}const fg=new X,dg=new X,_x=new X,hg=new si;class DO extends St{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(Jl*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],c=["a","b","c"],d=new Array(3),p={},g=[];for(let y=0;y<l;y+=3){o?(u[0]=o.getX(y),u[1]=o.getX(y+1),u[2]=o.getX(y+2)):(u[0]=y,u[1]=y+1,u[2]=y+2);const{a:x,b:v,c:m}=hg;if(x.fromBufferAttribute(a,u[0]),v.fromBufferAttribute(a,u[1]),m.fromBufferAttribute(a,u[2]),hg.getNormal(_x),d[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,d[1]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,d[2]=`${Math.round(m.x*i)},${Math.round(m.y*i)},${Math.round(m.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let S=0;S<3;S++){const _=(S+1)%3,M=d[S],P=d[_],C=hg[c[S]],R=hg[c[_]],T=`${M}_${P}`,E=`${P}_${M}`;E in p&&p[E]?(_x.dot(p[E].normal)<=s&&(g.push(C.x,C.y,C.z),g.push(R.x,R.y,R.z)),p[E]=null):T in p||(p[T]={index0:u[S],index1:u[_],normal:_x.clone()})}}for(const y in p)if(p[y]){const{index0:x,index1:v}=p[y];fg.fromBufferAttribute(a,x),dg.fromBufferAttribute(a,v),g.push(fg.x,fg.y,fg.z),g.push(dg.x,dg.y,dg.z)}this.setAttribute("position",new it(g,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Xl extends Oh{constructor(e){super(e),this.uuid=Li(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Oh().fromJSON(i))}return this}}const zj={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=OO(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,c,d,p,g;if(r&&(s=Wj(n,e,s,t)),n.length>80*t){a=u=n[0],l=c=n[1];for(let y=t;y<i;y+=t)d=n[y],p=n[y+1],d<a&&(a=d),p<l&&(l=p),d>u&&(u=d),p>c&&(c=p);g=Math.max(u-a,c-l),g=g!==0?32767/g:0}return kh(s,o,t,a,l,g,0),o}};function OO(n,e,t,r,i){let s,o;if(i===nW(n,e,t,r)>0)for(s=e;s<t;s+=r)o=L3(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=L3(s,n[s],n[s+1],o);return o&&$0(o,o.next)&&(Nh(o),o=o.next),o}function su(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&($0(t,t.next)||En(t.prev,t,t.next)===0)){if(Nh(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function kh(n,e,t,r,i,s,o){if(!n)return;!o&&s&&Yj(n,r,i,s);let a=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,s?Gj(n,r,i,s):Hj(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(u.i/t|0),Nh(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=Vj(su(n),e,t),kh(n,e,t,r,i,s,2)):o===2&&jj(n,e,t,r,i,s):kh(su(n),e,t,r,i,s,1);break}}}function Hj(n){const e=n.prev,t=n,r=n.next;if(En(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,u=r.y,c=i<s?i<o?i:o:s<o?s:o,d=a<l?a<u?a:u:l<u?l:u,p=i>s?i>o?i:o:s>o?s:o,g=a>l?a>u?a:u:l>u?l:u;let y=r.next;for(;y!==e;){if(y.x>=c&&y.x<=p&&y.y>=d&&y.y<=g&&Cc(i,a,s,l,o,u,y.x,y.y)&&En(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function Gj(n,e,t,r){const i=n.prev,s=n,o=n.next;if(En(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,c=i.y,d=s.y,p=o.y,g=a<l?a<u?a:u:l<u?l:u,y=c<d?c<p?c:p:d<p?d:p,x=a>l?a>u?a:u:l>u?l:u,v=c>d?c>p?c:p:d>p?d:p,m=XS(g,y,e,t,r),S=XS(x,v,e,t,r);let _=n.prevZ,M=n.nextZ;for(;_&&_.z>=m&&M&&M.z<=S;){if(_.x>=g&&_.x<=x&&_.y>=y&&_.y<=v&&_!==i&&_!==o&&Cc(a,c,l,d,u,p,_.x,_.y)&&En(_.prev,_,_.next)>=0||(_=_.prevZ,M.x>=g&&M.x<=x&&M.y>=y&&M.y<=v&&M!==i&&M!==o&&Cc(a,c,l,d,u,p,M.x,M.y)&&En(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;_&&_.z>=m;){if(_.x>=g&&_.x<=x&&_.y>=y&&_.y<=v&&_!==i&&_!==o&&Cc(a,c,l,d,u,p,_.x,_.y)&&En(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;M&&M.z<=S;){if(M.x>=g&&M.x<=x&&M.y>=y&&M.y<=v&&M!==i&&M!==o&&Cc(a,c,l,d,u,p,M.x,M.y)&&En(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function Vj(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!$0(i,s)&&kO(i,r,r.next,s)&&Fh(i,s)&&Fh(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),Nh(r),Nh(r.next),r=n=s),r=r.next}while(r!==n);return su(r)}function jj(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&qj(o,a)){let l=FO(o,a);o=su(o,o.next),l=su(l,l.next),kh(o,e,t,r,i,s,0),kh(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function Wj(n,e,t,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,u=OO(n,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(Zj(u));for(i.sort($j),s=0;s<i.length;s++)t=Jj(i[s],t);return t}function $j(n,e){return n.x-e.x}function Jj(n,e){const t=Kj(n,e);if(!t)return e;const r=FO(t,n);return su(r,r.next),su(t,t.next)}function Kj(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>r&&(r=p,i=t.x<t.next.x?t:t.next,p===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let c=1/0,d;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&Cc(o<u?s:r,o,l,u,o<u?r:s,o,t.x,t.y)&&(d=Math.abs(o-t.y)/(s-t.x),Fh(t,n)&&(d<c||d===c&&(t.x>i.x||t.x===i.x&&Xj(i,t)))&&(i=t,c=d)),t=t.next;while(t!==a);return i}function Xj(n,e){return En(n.prev,n,e.prev)<0&&En(e.next,n,n.next)<0}function Yj(n,e,t,r){let i=n;do i.z===0&&(i.z=XS(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,Qj(i)}function Qj(n){let e,t,r,i,s,o,a,l,u=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,u*=2}while(o>1);return n}function XS(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Zj(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Cc(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function qj(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!eW(n,e)&&(Fh(n,e)&&Fh(e,n)&&tW(n,e)&&(En(n.prev,n,e.prev)||En(n,e.prev,e))||$0(n,e)&&En(n.prev,n,n.next)>0&&En(e.prev,e,e.next)>0)}function En(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function $0(n,e){return n.x===e.x&&n.y===e.y}function kO(n,e,t,r){const i=mg(En(n,e,t)),s=mg(En(n,e,r)),o=mg(En(t,r,n)),a=mg(En(t,r,e));return!!(i!==s&&o!==a||i===0&&pg(n,t,e)||s===0&&pg(n,r,e)||o===0&&pg(t,n,r)||a===0&&pg(t,e,r))}function pg(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function mg(n){return n>0?1:n<0?-1:0}function eW(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&kO(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Fh(n,e){return En(n.prev,n,n.next)<0?En(n,e,n.next)>=0&&En(n,n.prev,e)>=0:En(n,e,n.prev)<0||En(n,n.next,e)<0}function tW(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function FO(n,e){const t=new YS(n.i,n.x,n.y),r=new YS(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function L3(n,e,t,r){const i=new YS(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Nh(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function YS(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function nW(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class io{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return io.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];P3(e),R3(r,e);let o=e.length;t.forEach(P3);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,R3(r,t[l]);const a=zj.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function P3(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function R3(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class wf extends St{constructor(e=new Xl([new Oe(.5,.5),new Oe(-.5,.5),new Oe(-.5,-.5),new Oe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new it(i,3)),this.setAttribute("uv",new it(s,2)),this.computeVertexNormals();function o(a){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,c=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,g=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:g-.1,x=t.bevelOffset!==void 0?t.bevelOffset:0,v=t.bevelSegments!==void 0?t.bevelSegments:3;const m=t.extrudePath,S=t.UVGenerator!==void 0?t.UVGenerator:rW;let _,M=!1,P,C,R,T;m&&(_=m.getSpacedPoints(c),M=!0,p=!1,P=m.computeFrenetFrames(c,!1),C=new X,R=new X,T=new X),p||(v=0,g=0,y=0,x=0);const E=a.extractPoints(u);let A=E.shape;const B=E.holes;if(!io.isClockWise(A)){A=A.reverse();for(let ae=0,te=B.length;ae<te;ae++){const le=B[ae];io.isClockWise(le)&&(B[ae]=le.reverse())}}const U=io.triangulateShape(A,B),H=A;for(let ae=0,te=B.length;ae<te;ae++){const le=B[ae];A=A.concat(le)}function j(ae,te,le){return te||console.error("THREE.ExtrudeGeometry: vec does not exist"),ae.clone().addScaledVector(te,le)}const $=A.length,Z=U.length;function k(ae,te,le){let Re,Ie,Ve;const Ke=ae.x-te.x,We=ae.y-te.y,Ze=le.x-ae.x,et=le.y-ae.y,J=Ke*Ke+We*We,z=Ke*et-We*Ze;if(Math.abs(z)>Number.EPSILON){const fe=Math.sqrt(J),Ce=Math.sqrt(Ze*Ze+et*et),Be=te.x-We/fe,ke=te.y+Ke/fe,rt=le.x-et/Ce,ue=le.y+Ze/Ce,ee=((rt-Be)*et-(ue-ke)*Ze)/(Ke*et-We*Ze);Re=Be+Ke*ee-ae.x,Ie=ke+We*ee-ae.y;const me=Re*Re+Ie*Ie;if(me<=2)return new Oe(Re,Ie);Ve=Math.sqrt(me/2)}else{let fe=!1;Ke>Number.EPSILON?Ze>Number.EPSILON&&(fe=!0):Ke<-Number.EPSILON?Ze<-Number.EPSILON&&(fe=!0):Math.sign(We)===Math.sign(et)&&(fe=!0),fe?(Re=-We,Ie=Ke,Ve=Math.sqrt(J)):(Re=Ke,Ie=We,Ve=Math.sqrt(J/2))}return new Oe(Re/Ve,Ie/Ve)}const W=[];for(let ae=0,te=H.length,le=te-1,Re=ae+1;ae<te;ae++,le++,Re++)le===te&&(le=0),Re===te&&(Re=0),W[ae]=k(H[ae],H[le],H[Re]);const V=[];let ce,oe=W.concat();for(let ae=0,te=B.length;ae<te;ae++){const le=B[ae];ce=[];for(let Re=0,Ie=le.length,Ve=Ie-1,Ke=Re+1;Re<Ie;Re++,Ve++,Ke++)Ve===Ie&&(Ve=0),Ke===Ie&&(Ke=0),ce[Re]=k(le[Re],le[Ve],le[Ke]);V.push(ce),oe=oe.concat(ce)}for(let ae=0;ae<v;ae++){const te=ae/v,le=g*Math.cos(te*Math.PI/2),Re=y*Math.sin(te*Math.PI/2)+x;for(let Ie=0,Ve=H.length;Ie<Ve;Ie++){const Ke=j(H[Ie],W[Ie],Re);se(Ke.x,Ke.y,-le)}for(let Ie=0,Ve=B.length;Ie<Ve;Ie++){const Ke=B[Ie];ce=V[Ie];for(let We=0,Ze=Ke.length;We<Ze;We++){const et=j(Ke[We],ce[We],Re);se(et.x,et.y,-le)}}}const re=y+x;for(let ae=0;ae<$;ae++){const te=p?j(A[ae],oe[ae],re):A[ae];M?(R.copy(P.normals[0]).multiplyScalar(te.x),C.copy(P.binormals[0]).multiplyScalar(te.y),T.copy(_[0]).add(R).add(C),se(T.x,T.y,T.z)):se(te.x,te.y,0)}for(let ae=1;ae<=c;ae++)for(let te=0;te<$;te++){const le=p?j(A[te],oe[te],re):A[te];M?(R.copy(P.normals[ae]).multiplyScalar(le.x),C.copy(P.binormals[ae]).multiplyScalar(le.y),T.copy(_[ae]).add(R).add(C),se(T.x,T.y,T.z)):se(le.x,le.y,d/c*ae)}for(let ae=v-1;ae>=0;ae--){const te=ae/v,le=g*Math.cos(te*Math.PI/2),Re=y*Math.sin(te*Math.PI/2)+x;for(let Ie=0,Ve=H.length;Ie<Ve;Ie++){const Ke=j(H[Ie],W[Ie],Re);se(Ke.x,Ke.y,d+le)}for(let Ie=0,Ve=B.length;Ie<Ve;Ie++){const Ke=B[Ie];ce=V[Ie];for(let We=0,Ze=Ke.length;We<Ze;We++){const et=j(Ke[We],ce[We],Re);M?se(et.x,et.y+_[c-1].y,_[c-1].x+le):se(et.x,et.y,d+le)}}}q(),we();function q(){const ae=i.length/3;if(p){let te=0,le=$*te;for(let Re=0;Re<Z;Re++){const Ie=U[Re];pe(Ie[2]+le,Ie[1]+le,Ie[0]+le)}te=c+v*2,le=$*te;for(let Re=0;Re<Z;Re++){const Ie=U[Re];pe(Ie[0]+le,Ie[1]+le,Ie[2]+le)}}else{for(let te=0;te<Z;te++){const le=U[te];pe(le[2],le[1],le[0])}for(let te=0;te<Z;te++){const le=U[te];pe(le[0]+$*c,le[1]+$*c,le[2]+$*c)}}r.addGroup(ae,i.length/3-ae,0)}function we(){const ae=i.length/3;let te=0;xe(H,te),te+=H.length;for(let le=0,Re=B.length;le<Re;le++){const Ie=B[le];xe(Ie,te),te+=Ie.length}r.addGroup(ae,i.length/3-ae,1)}function xe(ae,te){let le=ae.length;for(;--le>=0;){const Re=le;let Ie=le-1;Ie<0&&(Ie=ae.length-1);for(let Ve=0,Ke=c+v*2;Ve<Ke;Ve++){const We=$*Ve,Ze=$*(Ve+1),et=te+Re+We,J=te+Ie+We,z=te+Ie+Ze,fe=te+Re+Ze;N(et,J,z,fe)}}}function se(ae,te,le){l.push(ae),l.push(te),l.push(le)}function pe(ae,te,le){G(ae),G(te),G(le);const Re=i.length/3,Ie=S.generateTopUV(r,i,Re-3,Re-2,Re-1);Y(Ie[0]),Y(Ie[1]),Y(Ie[2])}function N(ae,te,le,Re){G(ae),G(te),G(Re),G(te),G(le),G(Re);const Ie=i.length/3,Ve=S.generateSideWallUV(r,i,Ie-6,Ie-3,Ie-2,Ie-1);Y(Ve[0]),Y(Ve[1]),Y(Ve[3]),Y(Ve[1]),Y(Ve[2]),Y(Ve[3])}function G(ae){i.push(l[ae*3+0]),i.push(l[ae*3+1]),i.push(l[ae*3+2])}function Y(ae){s.push(ae.x),s.push(ae.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return iW(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new pM[i.type]().fromJSON(i)),new wf(r,e.options)}}const rW={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new Oe(s,o),new Oe(a,l),new Oe(u,c)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],u=e[r*3],c=e[r*3+1],d=e[r*3+2],p=e[i*3],g=e[i*3+1],y=e[i*3+2],x=e[s*3],v=e[s*3+1],m=e[s*3+2];return Math.abs(a-c)<Math.abs(o-u)?[new Oe(o,1-l),new Oe(u,1-d),new Oe(p,1-y),new Oe(x,1-m)]:[new Oe(a,1-l),new Oe(c,1-d),new Oe(g,1-y),new Oe(v,1-m)]}};function iW(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class bf extends sa{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new bf(e.radius,e.detail)}}class Mf extends sa{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Mf(e.radius,e.detail)}}class fp extends St{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],c=[];let d=e;const p=(t-e)/i,g=new X,y=new Oe;for(let x=0;x<=i;x++){for(let v=0;v<=r;v++){const m=s+v/r*o;g.x=d*Math.cos(m),g.y=d*Math.sin(m),l.push(g.x,g.y,g.z),u.push(0,0,1),y.x=(g.x/t+1)/2,y.y=(g.y/t+1)/2,c.push(y.x,y.y)}d+=p}for(let x=0;x<i;x++){const v=x*(r+1);for(let m=0;m<r;m++){const S=m+v,_=S,M=S+r+1,P=S+r+2,C=S+1;a.push(_,M,C),a.push(M,P,C)}}this.setIndex(a),this.setAttribute("position",new it(l,3)),this.setAttribute("normal",new it(u,3)),this.setAttribute("uv",new it(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fp(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class dp extends St{constructor(e=new Xl([new Oe(0,.5),new Oe(-.5,-.5),new Oe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new it(i,3)),this.setAttribute("normal",new it(s,3)),this.setAttribute("uv",new it(o,2));function u(c){const d=i.length/3,p=c.extractPoints(t);let g=p.shape;const y=p.holes;io.isClockWise(g)===!1&&(g=g.reverse());for(let v=0,m=y.length;v<m;v++){const S=y[v];io.isClockWise(S)===!0&&(y[v]=S.reverse())}const x=io.triangulateShape(g,y);for(let v=0,m=y.length;v<m;v++){const S=y[v];g=g.concat(S)}for(let v=0,m=g.length;v<m;v++){const S=g[v];i.push(S.x,S.y,0),s.push(0,0,1),o.push(S.x,S.y)}for(let v=0,m=x.length;v<m;v++){const S=x[v],_=S[0]+d,M=S[1]+d,P=S[2]+d;r.push(_,M,P),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return sW(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new dp(r,e.curveSegments)}}function sW(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class Ef extends St{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const c=[],d=new X,p=new X,g=[],y=[],x=[],v=[];for(let m=0;m<=r;m++){const S=[],_=m/r;let M=0;m===0&&o===0?M=.5/t:m===r&&l===Math.PI&&(M=-.5/t);for(let P=0;P<=t;P++){const C=P/t;d.x=-e*Math.cos(i+C*s)*Math.sin(o+_*a),d.y=e*Math.cos(o+_*a),d.z=e*Math.sin(i+C*s)*Math.sin(o+_*a),y.push(d.x,d.y,d.z),p.copy(d).normalize(),x.push(p.x,p.y,p.z),v.push(C+M,1-_),S.push(u++)}c.push(S)}for(let m=0;m<r;m++)for(let S=0;S<t;S++){const _=c[m][S+1],M=c[m][S],P=c[m+1][S],C=c[m+1][S+1];(m!==0||o>0)&&g.push(_,M,C),(m!==r-1||l<Math.PI)&&g.push(M,P,C)}this.setIndex(g),this.setAttribute("position",new it(y,3)),this.setAttribute("normal",new it(x,3)),this.setAttribute("uv",new it(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ef(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class hp extends sa{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new hp(e.radius,e.detail)}}class pp extends St{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],c=new X,d=new X,p=new X;for(let g=0;g<=r;g++)for(let y=0;y<=i;y++){const x=y/i*s,v=g/r*Math.PI*2;d.x=(e+t*Math.cos(v))*Math.cos(x),d.y=(e+t*Math.cos(v))*Math.sin(x),d.z=t*Math.sin(v),a.push(d.x,d.y,d.z),c.x=e*Math.cos(x),c.y=e*Math.sin(x),p.subVectors(d,c).normalize(),l.push(p.x,p.y,p.z),u.push(y/i),u.push(g/r)}for(let g=1;g<=r;g++)for(let y=1;y<=i;y++){const x=(i+1)*g+y-1,v=(i+1)*(g-1)+y-1,m=(i+1)*(g-1)+y,S=(i+1)*g+y;o.push(x,v,S),o.push(v,m,S)}this.setIndex(o),this.setAttribute("position",new it(a,3)),this.setAttribute("normal",new it(l,3)),this.setAttribute("uv",new it(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pp(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class mp extends St{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],c=[],d=new X,p=new X,g=new X,y=new X,x=new X,v=new X,m=new X;for(let _=0;_<=r;++_){const M=_/r*s*Math.PI*2;S(M,s,o,e,g),S(M+.01,s,o,e,y),v.subVectors(y,g),m.addVectors(y,g),x.crossVectors(v,m),m.crossVectors(x,v),x.normalize(),m.normalize();for(let P=0;P<=i;++P){const C=P/i*Math.PI*2,R=-t*Math.cos(C),T=t*Math.sin(C);d.x=g.x+(R*m.x+T*x.x),d.y=g.y+(R*m.y+T*x.y),d.z=g.z+(R*m.z+T*x.z),l.push(d.x,d.y,d.z),p.subVectors(d,g).normalize(),u.push(p.x,p.y,p.z),c.push(_/r),c.push(P/i)}}for(let _=1;_<=r;_++)for(let M=1;M<=i;M++){const P=(i+1)*(_-1)+(M-1),C=(i+1)*_+(M-1),R=(i+1)*_+M,T=(i+1)*(_-1)+M;a.push(P,C,T),a.push(C,R,T)}this.setIndex(a),this.setAttribute("position",new it(l,3)),this.setAttribute("normal",new it(u,3)),this.setAttribute("uv",new it(c,2));function S(_,M,P,C,R){const T=Math.cos(_),E=Math.sin(_),A=P/M*_,B=Math.cos(A);R.x=C*(2+B)*.5*T,R.y=C*(2+B)*E*.5,R.z=C*Math.sin(A)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mp(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class gp extends St{constructor(e=new dM(new X(-1,-1,0),new X(-1,1,0),new X(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new X,l=new X,u=new Oe;let c=new X;const d=[],p=[],g=[],y=[];x(),this.setIndex(y),this.setAttribute("position",new it(d,3)),this.setAttribute("normal",new it(p,3)),this.setAttribute("uv",new it(g,2));function x(){for(let _=0;_<t;_++)v(_);v(s===!1?t:0),S(),m()}function v(_){c=e.getPointAt(_/t,c);const M=o.normals[_],P=o.binormals[_];for(let C=0;C<=i;C++){const R=C/i*Math.PI*2,T=Math.sin(R),E=-Math.cos(R);l.x=E*M.x+T*P.x,l.y=E*M.y+T*P.y,l.z=E*M.z+T*P.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=c.x+r*l.x,a.y=c.y+r*l.y,a.z=c.z+r*l.z,d.push(a.x,a.y,a.z)}}function m(){for(let _=1;_<=t;_++)for(let M=1;M<=i;M++){const P=(i+1)*(_-1)+(M-1),C=(i+1)*_+(M-1),R=(i+1)*_+M,T=(i+1)*(_-1)+M;y.push(P,C,T),y.push(C,R,T)}}function S(){for(let _=0;_<=t;_++)for(let M=0;M<=i;M++)u.x=_/t,u.y=M/i,g.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new gp(new pM[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class NO extends St{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new X,s=new X;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const d=l[u],p=d.start,g=d.count;for(let y=p,x=p+g;y<x;y+=3)for(let v=0;v<3;v++){const m=a.getX(y+v),S=a.getX(y+(v+1)%3);i.fromBufferAttribute(o,m),s.fromBufferAttribute(o,S),I3(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const c=3*a+u,d=3*a+(u+1)%3;i.fromBufferAttribute(o,c),s.fromBufferAttribute(o,d),I3(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new it(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function I3(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var B3=Object.freeze({__proto__:null,BoxGeometry:rl,CapsuleGeometry:ap,CircleGeometry:lp,ConeGeometry:up,CylinderGeometry:du,DodecahedronGeometry:cp,EdgesGeometry:DO,ExtrudeGeometry:wf,IcosahedronGeometry:bf,LatheGeometry:Sf,OctahedronGeometry:Mf,PlaneGeometry:yf,PolyhedronGeometry:sa,RingGeometry:fp,ShapeGeometry:dp,SphereGeometry:Ef,TetrahedronGeometry:hp,TorusGeometry:pp,TorusKnotGeometry:mp,TubeGeometry:gp,WireframeGeometry:NO});class UO extends Un{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ge(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class zO extends rs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class hu extends Un{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ge(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ra,this.normalScale=new Oe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fo extends hu{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Oe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Bn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ge(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ge(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ge(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class mM extends Un{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ge(16777215),this.specular=new Ge(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ra,this.normalScale=new Oe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ep,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class gM extends Un{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ge(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ra,this.normalScale=new Oe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class HO extends Un{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ra,this.normalScale=new Oe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class J0 extends Un{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ge(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ra,this.normalScale=new Oe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ep,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class GO extends Un{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ge(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ra,this.normalScale=new Oe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class VO extends kr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ji(n,e,t){return vM(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Hl(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function vM(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function jO(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function QS(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function yM(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function oW(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],c=u.getValueSize(),d=[],p=[];for(let g=0;g<u.times.length;++g){const y=u.times[g]*i;if(!(y<t||y>=r)){d.push(u.times[g]);for(let x=0;x<c;++x)p.push(u.values[g*c+x])}}d.length!==0&&(u.times=Hl(d,u.times.constructor),u.values=Hl(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function aW(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(m){return m.name===a.name&&m.ValueTypeName===l});if(u===void 0)continue;let c=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=d/3);let p=0;const g=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);const y=a.times.length-1;let x;if(s<=a.times[0]){const m=c,S=d-c;x=Ji(a.values,m,S)}else if(s>=a.times[y]){const m=y*d+c,S=m+d-c;x=Ji(a.values,m,S)}else{const m=a.createInterpolant(),S=c,_=d-c;m.evaluate(s),x=Ji(m.resultBuffer,S,_)}l==="quaternion"&&new Kr().fromArray(x).normalize().conjugate().toArray(x);const v=u.times.length;for(let m=0;m<v;++m){const S=m*g+p;if(l==="quaternion")Kr.multiplyQuaternionsFlat(u.values,S,x,0,u.values,S);else{const _=g-p*2;for(let M=0;M<_;++M)u.values[S+M]-=x[M]}}}return n.blendMode=jb,n}const lW={arraySlice:Ji,convertArray:Hl,isTypedArray:vM,getKeyframeOrder:jO,sortedArray:QS,flattenJSON:yM,subclip:oW,makeClipAdditive:aW};class Af{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class WO extends Af{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Nl,endingEnd:Nl}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Ul:s=e,a=2*t-r;break;case Rh:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Ul:o=e,l=2*r-t;break;case Rh:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const u=(r-t)*.5,c=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-r),this._offsetPrev=s*c,this._offsetNext=o*c}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,g=this._weightNext,y=(r-t)/(i-t),x=y*y,v=x*y,m=-p*v+2*p*x-p*y,S=(1+p)*v+(-1.5-2*p)*x+(-.5+p)*y+1,_=(-1-g)*v+(1.5+g)*x+.5*y,M=g*v-g*x;for(let P=0;P!==a;++P)s[P]=m*o[c+P]+S*o[u+P]+_*o[l+P]+M*o[d+P];return s}}class xM extends Af{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=(r-t)/(i-t),d=1-c;for(let p=0;p!==a;++p)s[p]=o[u+p]*d+o[l+p]*c;return s}}class $O extends Af{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class ks{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Hl(t,this.TimeBufferType),this.values=Hl(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Hl(e.times,Array),values:Hl(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new $O(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new xM(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new WO(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case tf:t=this.InterpolantFactoryMethodDiscrete;break;case iu:t=this.InterpolantFactoryMethodLinear;break;case ov:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return tf;case this.InterpolantFactoryMethodLinear:return iu;case this.InterpolantFactoryMethodSmooth:return ov}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Ji(r,s,o),this.values=Ji(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&vM(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=Ji(this.times),t=Ji(this.values),r=this.getValueSize(),i=this.getInterpolation()===ov,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],c=e[a+1];if(u!==c&&(a!==1||u!==e[0]))if(i)l=!0;else{const d=a*r,p=d-r,g=d+r;for(let y=0;y!==r;++y){const x=t[d+y];if(x!==t[p+y]||x!==t[g+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*r,p=o*r;for(let g=0;g!==r;++g)t[p+g]=t[d+g]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)t[l+u]=t[a+u];++o}return o!==e.length?(this.times=Ji(e,0,o),this.values=Ji(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=Ji(this.times,0),t=Ji(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}ks.prototype.TimeBufferType=Float32Array;ks.prototype.ValueBufferType=Float32Array;ks.prototype.DefaultInterpolation=iu;class pu extends ks{}pu.prototype.ValueTypeName="bool";pu.prototype.ValueBufferType=Array;pu.prototype.DefaultInterpolation=tf;pu.prototype.InterpolantFactoryMethodLinear=void 0;pu.prototype.InterpolantFactoryMethodSmooth=void 0;class _M extends ks{}_M.prototype.ValueTypeName="color";class af extends ks{}af.prototype.ValueTypeName="number";class JO extends Af{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let u=e*a;for(let c=u+a;u!==c;u+=4)Kr.slerpFlat(s,0,o,u-a,o,u,l);return s}}class Za extends ks{InterpolantFactoryMethodLinear(e){return new JO(this.times,this.values,this.getValueSize(),e)}}Za.prototype.ValueTypeName="quaternion";Za.prototype.DefaultInterpolation=iu;Za.prototype.InterpolantFactoryMethodSmooth=void 0;class mu extends ks{}mu.prototype.ValueTypeName="string";mu.prototype.ValueBufferType=Array;mu.prototype.DefaultInterpolation=tf;mu.prototype.InterpolantFactoryMethodLinear=void 0;mu.prototype.InterpolantFactoryMethodSmooth=void 0;class lf extends ks{}lf.prototype.ValueTypeName="vector";class uf{constructor(e,t=-1,r,i=k0){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Li(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(cW(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(ks.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const c=jO(l);l=QS(l,1,c),u=QS(u,1,c),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new af(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],c=u.name.match(s);if(c&&c.length>1){const d=c[1];let p=i[d];p||(i[d]=p=[]),p.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,p,g,y,x){if(g.length!==0){const v=[],m=[];yM(g,v,m,y),v.length!==0&&x.push(new d(p,v,m))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let d=0;d<u.length;d++){const p=u[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const g={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let x=0;x<p[y].morphTargets.length;x++)g[p[y].morphTargets[x]]=-1;for(const x in g){const v=[],m=[];for(let S=0;S!==p[y].morphTargets.length;++S){const _=p[y];v.push(_.time),m.push(_.morphTarget===x?1:0)}i.push(new af(".morphTargetInfluence["+x+"]",v,m))}l=g.length*o}else{const g=".bones["+t[d].name+"]";r(lf,g+".position",p,"pos",i),r(Za,g+".quaternion",p,"rot",i),r(lf,g+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function uW(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return af;case"vector":case"vector2":case"vector3":case"vector4":return lf;case"color":return _M;case"quaternion":return Za;case"bool":case"boolean":return pu;case"string":return mu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function cW(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=uW(n.type);if(n.times===void 0){const t=[],r=[];yM(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const ou={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class SM{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(c){a++,s===!1&&i.onStart!==void 0&&i.onStart(c,o,a),s=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,d){return u.push(c,d),this},this.removeHandler=function(c){const d=u.indexOf(c);return d!==-1&&u.splice(d,2),this},this.getHandler=function(c){for(let d=0,p=u.length;d<p;d+=2){const g=u[d],y=u[d+1];if(g.global&&(g.lastIndex=0),g.test(c))return y}return null}}}const KO=new SM;let Fr=class{constructor(e){this.manager=e!==void 0?e:KO,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};const Ao={};class fW extends Error{constructor(e,t){super(e),this.response=t}}class pi extends Fr{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=ou.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Ao[e]!==void 0){Ao[e].push({onLoad:t,onProgress:r,onError:i});return}Ao[e]=[],Ao[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=Ao[e],d=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),g=p?parseInt(p):0,y=g!==0;let x=0;const v=new ReadableStream({start(m){S();function S(){d.read().then(({done:_,value:M})=>{if(_)m.close();else{x+=M.byteLength;const P=new ProgressEvent("progress",{lengthComputable:y,loaded:x,total:g});for(let C=0,R=c.length;C<R;C++){const T=c[C];T.onProgress&&T.onProgress(P)}m.enqueue(M),S()}})}}});return new Response(v)}else throw new fW(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return u.json();default:if(a===void 0)return u.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,g=new TextDecoder(p);return u.arrayBuffer().then(y=>g.decode(y))}}}).then(u=>{ou.add(e,u);const c=Ao[e];delete Ao[e];for(let d=0,p=c.length;d<p;d++){const g=c[d];g.onLoad&&g.onLoad(u)}}).catch(u=>{const c=Ao[e];if(c===void 0)throw this.manager.itemError(e),u;delete Ao[e];for(let d=0,p=c.length;d<p;d++){const g=c[d];g.onError&&g.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class dW extends Fr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new pi(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=uf.parse(e[r]);t.push(i)}return t}}class hW extends Fr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new lM,l=new pi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function c(d){l.load(e[d],function(p){const g=s.parse(p,!0);o[d]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},u+=1,u===6&&(g.mipmapCount===1&&(a.minFilter=gn),a.image=o,a.format=g.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)c(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const g=p.mipmaps.length/p.mipmapCount;for(let y=0;y<g;y++){o[y]={mipmaps:[]};for(let x=0;x<p.mipmapCount;x++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+x]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=gn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class Uh extends Fr{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ou.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Bh("img");function l(){c(),ou.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(d){c(),i&&i(d),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class XO extends Fr{constructor(e){super(e)}load(e,t,r,i){const s=new ip,o=new Uh(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(c){s.images[u]=c,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class YO extends Fr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Hc,a=new pi(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:xr,o.wrapT=u.wrapT!==void 0?u.wrapT:xr,o.magFilter=u.magFilter!==void 0?u.magFilter:gn,o.minFilter=u.minFilter!==void 0?u.minFilter:gn,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=uo),u.mipmapCount===1&&(o.minFilter=gn),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u))},r,i),o}}class QO extends Fr{constructor(e){super(e)}load(e,t,r,i){const s=new yn,o=new Uh(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class il extends Vt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ge(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class ZO extends il{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Vt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ge(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Sx=new mt,D3=new X,O3=new X;class wM{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Oe(512,512),this.map=null,this.mapPass=null,this.matrix=new mt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new N0,this._frameExtents=new Oe(1,1),this._viewportCount=1,this._viewports=[new qt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;D3.setFromMatrixPosition(e.matrixWorld),t.position.copy(D3),O3.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(O3),t.updateMatrixWorld(),Sx.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Sx),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(Sx)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class pW extends wM{constructor(){super(new qn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=rf*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class bM extends il{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Vt.DEFAULT_UP),this.updateMatrix(),this.target=new Vt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new pW}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const k3=new mt,Md=new X,wx=new X;class mW extends wM{constructor(){super(new qn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Oe(4,2),this._viewportCount=6,this._viewports=[new qt(2,1,1,1),new qt(0,1,1,1),new qt(3,1,1,1),new qt(1,1,1,1),new qt(3,0,1,1),new qt(1,0,1,1)],this._cubeDirections=[new X(1,0,0),new X(-1,0,0),new X(0,0,1),new X(0,0,-1),new X(0,1,0),new X(0,-1,0)],this._cubeUps=[new X(0,1,0),new X(0,1,0),new X(0,1,0),new X(0,1,0),new X(0,0,1),new X(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Md.setFromMatrixPosition(e.matrixWorld),r.position.copy(Md),wx.copy(r.position),wx.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(wx),r.updateMatrixWorld(),i.makeTranslation(-Md.x,-Md.y,-Md.z),k3.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(k3)}}class MM extends il{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new mW}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class gW extends wM{constructor(){super(new xf(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class EM extends il{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Vt.DEFAULT_UP),this.updateMatrix(),this.target=new Vt,this.shadow=new gW}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class qO extends il{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class ek extends il{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class tk{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new X)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class K0 extends il{constructor(e=new tk,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class X0 extends Fr{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new pi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=X0.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Ge().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Ge().setHex(o.value);break;case"v2":i.uniforms[s].value=new Oe().fromArray(o.value);break;case"v3":i.uniforms[s].value=new X().fromArray(o.value);break;case"v4":i.uniforms[s].value=new qt().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Bt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new mt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Oe().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Oe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:UO,SpriteMaterial:iM,RawShaderMaterial:zO,ShaderMaterial:rs,PointsMaterial:V0,MeshPhysicalMaterial:fo,MeshStandardMaterial:hu,MeshPhongMaterial:mM,MeshToonMaterial:gM,MeshNormalMaterial:HO,MeshLambertMaterial:J0,MeshDepthMaterial:tM,MeshDistanceMaterial:nM,MeshBasicMaterial:li,MeshMatcapMaterial:GO,LineDashedMaterial:VO,LineBasicMaterial:kr,Material:Un};return new t[e]}}class so{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class nk extends St{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class rk extends Fr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new pi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(g,y){if(t[y]!==void 0)return t[y];const v=g.interleavedBuffers[y],m=s(g,v.buffer),S=Ec(v.type,m),_=new sp(S,v.stride);return _.uuid=v.uuid,t[y]=_,_}function s(g,y){if(r[y]!==void 0)return r[y];const v=g.arrayBuffers[y],m=new Uint32Array(v).buffer;return r[y]=m,m}const o=e.isInstancedBufferGeometry?new nk:new St,a=e.data.index;if(a!==void 0){const g=Ec(a.type,a.array);o.setIndex(new jt(g,1))}const l=e.data.attributes;for(const g in l){const y=l[g];let x;if(y.isInterleavedBufferAttribute){const v=i(e.data,y.data);x=new Qa(v,y.itemSize,y.offset,y.normalized)}else{const v=Ec(y.type,y.array),m=y.isInstancedBufferAttribute?of:jt;x=new m(v,y.itemSize,y.normalized)}y.name!==void 0&&(x.name=y.name),y.usage!==void 0&&x.setUsage(y.usage),y.updateRange!==void 0&&(x.updateRange.offset=y.updateRange.offset,x.updateRange.count=y.updateRange.count),o.setAttribute(g,x)}const u=e.data.morphAttributes;if(u)for(const g in u){const y=u[g],x=[];for(let v=0,m=y.length;v<m;v++){const S=y[v];let _;if(S.isInterleavedBufferAttribute){const M=i(e.data,S.data);_=new Qa(M,S.itemSize,S.offset,S.normalized)}else{const M=Ec(S.type,S.array);_=new jt(M,S.itemSize,S.normalized)}S.name!==void 0&&(_.name=S.name),x.push(_)}o.morphAttributes[g]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let g=0,y=d.length;g!==y;++g){const x=d[g];o.addGroup(x.start,x.count,x.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const g=new X;p.center!==void 0&&g.fromArray(p.center),o.boundingSphere=new Bs(g,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class vW extends Fr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?so.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new pi(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?so.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new pi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),t!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Xl().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new op().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new rk;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in B3?a=B3[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new X0;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=uf.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(c)}else return l.data?{data:Ec(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new SM(t);s=new Uh(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const d=e[u],p=d.url;if(Array.isArray(p)){const g=[];for(let y=0,x=p.length;y<x;y++){const v=p[y],m=a(v);m!==null&&(m instanceof HTMLImageElement?g.push(m):g.push(new Hc(m.data,m.width,m.height)))}i[d.uuid]=new zl(g)}else{const g=a(d.url);i[d.uuid]=new zl(g)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Ec(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Uh(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let d=0,p=u.length;d<p;d++){const g=u[d],y=await s(g);y!==null&&(y instanceof HTMLImageElement?c.push(y):c.push(new Hc(y.data,y.width,y.height)))}r[l.uuid]=new zl(c)}else{const c=await s(l.url);r[l.uuid]=new zl(c)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],u=l.data;let c;Array.isArray(u)?(c=new ip,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new Hc:c=new yn,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=a.uuid,a.name!==void 0&&(c.name=a.name),a.mapping!==void 0&&(c.mapping=r(a.mapping,yW)),a.channel!==void 0&&(c.channel=a.channel),a.offset!==void 0&&c.offset.fromArray(a.offset),a.repeat!==void 0&&c.repeat.fromArray(a.repeat),a.center!==void 0&&c.center.fromArray(a.center),a.rotation!==void 0&&(c.rotation=a.rotation),a.wrap!==void 0&&(c.wrapS=r(a.wrap[0],F3),c.wrapT=r(a.wrap[1],F3)),a.format!==void 0&&(c.format=a.format),a.internalFormat!==void 0&&(c.internalFormat=a.internalFormat),a.type!==void 0&&(c.type=a.type),a.encoding!==void 0&&(c.encoding=a.encoding),a.minFilter!==void 0&&(c.minFilter=r(a.minFilter,N3)),a.magFilter!==void 0&&(c.magFilter=r(a.magFilter,N3)),a.anisotropy!==void 0&&(c.anisotropy=a.anisotropy),a.flipY!==void 0&&(c.flipY=a.flipY),a.generateMipmaps!==void 0&&(c.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(c.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(c.userData=a.userData),i[a.uuid]=c}return i}parseObject(e,t,r,i,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const g=[];for(let y=0,x=p.length;y<x;y++){const v=p[y];r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),g.push(r[v])}return g}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function u(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let c,d;switch(e.type){case"Scene":o=new Dh,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ge(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new H0(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new z0(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new qn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new xf(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new qO(e.color,e.intensity);break;case"DirectionalLight":o=new EM(e.color,e.intensity);break;case"PointLight":o=new MM(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new ek(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new bM(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new ZO(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new K0().fromJSON(e);break;case"SkinnedMesh":c=a(e.geometry),d=l(e.material),o=new sM(c,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),d=l(e.material),o=new tr(c,d);break;case"InstancedMesh":c=a(e.geometry),d=l(e.material);const p=e.count,g=e.instanceMatrix,y=e.instanceColor;o=new TO(c,d,p),o.instanceMatrix=new of(new Float32Array(g.array),16),y!==void 0&&(o.instanceColor=new of(new Float32Array(y.array),y.itemSize));break;case"LOD":o=new CO;break;case"Line":o=new Zo(a(e.geometry),l(e.material));break;case"LineLoop":o=new oM(a(e.geometry),l(e.material));break;case"LineSegments":o=new Ds(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new aM(a(e.geometry),l(e.material));break;case"Sprite":o=new AO(l(e.material));break;case"Group":o=new Fo;break;case"Bone":o=new G0;break;default:o=new Vt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let g=0;g<p.length;g++)o.add(this.parseObject(p[g],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let g=0;g<p.length;g++){const y=p[g];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let g=0;g<p.length;g++){const y=p[g],x=o.getObjectByProperty("uuid",y.object);x!==void 0&&o.addLevel(x,y.distance,y.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const yW={UVMapping:D0,CubeReflectionMapping:Yo,CubeRefractionMapping:Xa,EquirectangularReflectionMapping:qc,EquirectangularRefractionMapping:Lh,CubeUVReflectionMapping:vf},F3={RepeatWrapping:Ya,ClampToEdgeWrapping:xr,MirroredRepeatWrapping:ef},N3={NearestFilter:In,NearestMipmapNearestFilter:Ph,NearestMipmapLinearFilter:Uc,LinearFilter:gn,LinearMipmapNearestFilter:O0,LinearMipmapLinearFilter:uo};class ik extends Fr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ou.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){ou.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let gg;class AM{static getContext(){return gg===void 0&&(gg=new(window.AudioContext||window.webkitAudioContext)),gg}static setContext(e){gg=e}}class xW extends Fr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new pi(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);AM.getContext().decodeAudioData(l,function(c){t(c)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class _W extends K0{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new Ge().set(e),s=new Ge().set(t),o=new X(i.r,i.g,i.b),a=new X(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class SW extends K0{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new Ge().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const U3=new mt,z3=new mt,xl=new mt;class wW{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new qn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new qn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,xl.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(Jl*t.fov*.5)/t.zoom;let a,l;z3.elements[12]=-i,U3.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,xl.elements[0]=2*t.near/(l-a),xl.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(xl),a=-o*t.aspect-s,l=o*t.aspect-s,xl.elements[0]=2*t.near/(l-a),xl.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(xl)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(z3),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(U3)}}class CM{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=H3(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=H3();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function H3(){return(typeof performance>"u"?Date:performance).now()}const _l=new X,G3=new Kr,bW=new X,Sl=new X;class MW extends Vt{constructor(){super(),this.type="AudioListener",this.context=AM.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new CM}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_l,G3,bW),Sl.set(0,0,-1).applyQuaternion(G3),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(_l.x,i),t.positionY.linearRampToValueAtTime(_l.y,i),t.positionZ.linearRampToValueAtTime(_l.z,i),t.forwardX.linearRampToValueAtTime(Sl.x,i),t.forwardY.linearRampToValueAtTime(Sl.y,i),t.forwardZ.linearRampToValueAtTime(Sl.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(_l.x,_l.y,_l.z),t.setOrientation(Sl.x,Sl.y,Sl.z,r.x,r.y,r.z)}}class sk extends Vt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const wl=new X,V3=new Kr,EW=new X,bl=new X;class AW extends sk{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(wl,V3,EW),bl.set(0,0,1).applyQuaternion(V3);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(wl.x,r),t.positionY.linearRampToValueAtTime(wl.y,r),t.positionZ.linearRampToValueAtTime(wl.z,r),t.orientationX.linearRampToValueAtTime(bl.x,r),t.orientationY.linearRampToValueAtTime(bl.y,r),t.orientationZ.linearRampToValueAtTime(bl.z,r)}else t.setPosition(wl.x,wl.y,wl.z),t.setOrientation(bl.x,bl.y,bl.z)}}class CW{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class ok{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Kr.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;Kr.multiplyQuaternionsFlat(e,o,e,t,e,r),Kr.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const TM="\\[\\]\\.:\\/",TW=new RegExp("["+TM+"]","g"),LM="[^"+TM+"]",LW="[^"+TM.replace("\\.","")+"]",PW=/((?:WC+[\/:])*)/.source.replace("WC",LM),RW=/(WCOD+)?/.source.replace("WCOD",LW),IW=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",LM),BW=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",LM),DW=new RegExp("^"+PW+RW+IW+BW+"$"),OW=["material","materials","bones","map"];class kW{constructor(e,t,r){const i=r||zt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class zt{constructor(e,t,r){this.path=t,this.parsedPath=r||zt.parseTrackName(t),this.node=zt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new zt.Composite(e,t,r):new zt(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(TW,"")}static parseTrackName(e){const t=DW.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);OW.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=zt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}zt.Composite=kW;zt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};zt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};zt.prototype.GetterByBindingType=[zt.prototype._getValue_direct,zt.prototype._getValue_array,zt.prototype._getValue_arrayElement,zt.prototype._getValue_toArray];zt.prototype.SetterByBindingTypeAndVersioning=[[zt.prototype._setValue_direct,zt.prototype._setValue_direct_setNeedsUpdate,zt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[zt.prototype._setValue_array,zt.prototype._setValue_array_setNeedsUpdate,zt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[zt.prototype._setValue_arrayElement,zt.prototype._setValue_arrayElement_setNeedsUpdate,zt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[zt.prototype._setValue_fromArray,zt.prototype._setValue_fromArray_setNeedsUpdate,zt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class FW{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Li(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let c=0,d=arguments.length;c!==d;++c){const p=arguments[c],g=p.uuid;let y=t[g];if(y===void 0){y=l++,t[g]=y,e.push(p);for(let x=0,v=o;x!==v;++x)s[x].push(new zt(p,r[x],i[x]))}else if(y<u){a=e[y];const x=--u,v=e[x];t[v.uuid]=y,e[y]=v,t[g]=x,e[x]=p;for(let m=0,S=o;m!==S;++m){const _=s[m],M=_[x];let P=_[y];_[y]=M,P===void 0&&(P=new zt(p,r[m],i[m])),_[x]=P}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,c=t[u];if(c!==void 0&&c>=s){const d=s++,p=e[d];t[p.uuid]=c,e[c]=p,t[u]=d,e[d]=l;for(let g=0,y=i;g!==y;++g){const x=r[g],v=x[d],m=x[c];x[c]=v,x[d]=m}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],c=u.uuid,d=t[c];if(d!==void 0)if(delete t[c],d<s){const p=--s,g=e[p],y=--o,x=e[y];t[g.uuid]=d,e[d]=g,t[x.uuid]=p,e[p]=x,e.pop();for(let v=0,m=i;v!==m;++v){const S=r[v],_=S[p],M=S[y];S[d]=_,S[p]=M,S.pop()}}else{const p=--o,g=e[p];p>0&&(t[g.uuid]=d),e[d]=g,e.pop();for(let y=0,x=i;y!==x;++y){const v=r[y];v[d]=v[p],v.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,d=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(d);for(let p=c,g=l.length;p!==g;++p){const y=l[p];d[p]=new zt(y,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];t[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class ak{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Nl,endingEnd:Nl};for(let u=0;u!==o;++u){const c=s[u].createInterpolant(null);a[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=rO,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case jb:for(let c=0,d=l.length;c!==d;++c)l[c].evaluate(o),u[c].accumulateAdditive(a);break;case k0:default:for(let c=0,d=l.length;c!==d;++c)l[c].evaluate(o),u[c].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===iO;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===nO){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Ul,i.endingEnd=Ul):(e?i.endingStart=this.zeroSlopeAtStart?Ul:Nl:i.endingStart=Rh,t?i.endingEnd=this.zeroSlopeAtEnd?Ul:Nl:i.endingEnd=Rh)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const NW=new Float32Array(1);class UW extends ia{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let d=0;d!==s;++d){const p=i[d],g=p.name;let y=c[g];if(y!==void 0)++y.referenceCount,o[d]=y;else{if(y=o[d],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,g));continue}const x=t&&t._propertyBindings[d].binding.parsedPath;y=new ok(zt.create(r,g,x),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,g),o[d]=y}a[d].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new xM(new Float32Array(2),new Float32Array(2),1,NW),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?uf.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=k0),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new ak(this,o,t,r);return this._bindAction(c,u),this._addInactiveAction(c,a,s),c}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?uf.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)t[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const c=u._cacheIndex,d=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,d._cacheIndex=c,t[c]=d,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class PM{constructor(e){this.value=e}clone(){return new PM(this.value.clone===void 0?this.value:this.value.clone())}}let zW=0;class HW extends ia{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:zW++}),this.name="",this.usage=Ih,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class GW extends sp{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class VW{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class RM{constructor(e,t,r=0,i=1/0){this.ray=new tp(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Kl,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return ZS(e,this,r,t),r.sort(j3),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)ZS(e[i],this,r,t);return r.sort(j3),r}}function j3(n,e){return n.distance-e.distance}function ZS(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)ZS(i[s],e,t,!0)}}class jW{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Bn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class WW{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const W3=new Oe;class $W{constructor(e=new Oe(1/0,1/0),t=new Oe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=W3.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,W3).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const $3=new X,vg=new X;class JW{constructor(e=new X,t=new X){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){$3.subVectors(e,this.start),vg.subVectors(this.end,this.start);const r=vg.dot(vg);let s=vg.dot($3)/r;return t&&(s=Bn(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const J3=new X;class KW extends Vt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new St,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,c=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new it(i,3));const s=new kr({fog:!1,toneMapped:!1});this.cone=new Ds(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),J3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(J3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const wa=new X,yg=new mt,bx=new mt;class XW extends Ds{constructor(e){const t=lk(e),r=new St,i=[],s=[],o=new Ge(0,0,1),a=new Ge(0,1,0);for(let u=0;u<t.length;u++){const c=t[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new it(i,3)),r.setAttribute("color",new it(s,3));const l=new kr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");bx.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(yg.multiplyMatrices(bx,a.matrixWorld),wa.setFromMatrixPosition(yg),i.setXYZ(o,wa.x,wa.y,wa.z),yg.multiplyMatrices(bx,a.parent.matrixWorld),wa.setFromMatrixPosition(yg),i.setXYZ(o+1,wa.x,wa.y,wa.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function lk(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,lk(n.children[t]));return e}class YW extends tr{constructor(e,t,r){const i=new Ef(t,4,2),s=new li({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const QW=new X,K3=new Ge,X3=new Ge;class ZW extends Vt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Mf(t);i.rotateY(Math.PI*.5),this.material=new li({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new jt(o,3)),this.add(new tr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");K3.copy(this.light.color),X3.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?K3:X3;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(QW.setFromMatrixPosition(this.light.matrixWorld).negate())}}class qW extends Ds{constructor(e=10,t=10,r=4473924,i=8947848){r=new Ge(r),i=new Ge(i);const s=t/2,o=e/t,a=e/2,l=[],u=[];for(let p=0,g=0,y=-a;p<=t;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const x=p===s?r:i;x.toArray(u,g),g+=3,x.toArray(u,g),g+=3,x.toArray(u,g),g+=3,x.toArray(u,g),g+=3}const c=new St;c.setAttribute("position",new it(l,3)),c.setAttribute("color",new it(u,3));const d=new kr({vertexColors:!0,toneMapped:!1});super(c,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class e$ extends Ds{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new Ge(s),o=new Ge(o);const a=[],l=[];if(t>1)for(let d=0;d<t;d++){const p=d/t*(Math.PI*2),g=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(g,0,y);const x=d&1?s:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let d=0;d<r;d++){const p=d&1?s:o,g=e-e/r*d;for(let y=0;y<i;y++){let x=y/i*(Math.PI*2),v=Math.sin(x)*g,m=Math.cos(x)*g;a.push(v,0,m),l.push(p.r,p.g,p.b),x=(y+1)/i*(Math.PI*2),v=Math.sin(x)*g,m=Math.cos(x)*g,a.push(v,0,m),l.push(p.r,p.g,p.b)}}const u=new St;u.setAttribute("position",new it(a,3)),u.setAttribute("color",new it(l,3));const c=new kr({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Y3=new X,xg=new X,Q3=new X;class t$ extends Vt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new St;i.setAttribute("position",new it([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new kr({fog:!1,toneMapped:!1});this.lightPlane=new Zo(i,s),this.add(this.lightPlane),i=new St,i.setAttribute("position",new it([0,0,0,0,0,1],3)),this.targetLine=new Zo(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Y3.setFromMatrixPosition(this.light.matrixWorld),xg.setFromMatrixPosition(this.light.target.matrixWorld),Q3.subVectors(xg,Y3),this.lightPlane.lookAt(xg),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(xg),this.targetLine.scale.z=Q3.length()}}const _g=new X,Pn=new rp;class n$ extends Ds{constructor(e){const t=new St,r=new kr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,x){l(y),l(x)}function l(y){i.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(i.length/3-1)}t.setAttribute("position",new it(i,3)),t.setAttribute("color",new it(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Ge(16755200),c=new Ge(16711680),d=new Ge(43775),p=new Ge(16777215),g=new Ge(3355443);this.setColors(u,c,d,p,g)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;Pn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Fn("c",t,e,Pn,0,0,-1),Fn("t",t,e,Pn,0,0,1),Fn("n1",t,e,Pn,-r,-i,-1),Fn("n2",t,e,Pn,r,-i,-1),Fn("n3",t,e,Pn,-r,i,-1),Fn("n4",t,e,Pn,r,i,-1),Fn("f1",t,e,Pn,-r,-i,1),Fn("f2",t,e,Pn,r,-i,1),Fn("f3",t,e,Pn,-r,i,1),Fn("f4",t,e,Pn,r,i,1),Fn("u1",t,e,Pn,r*.7,i*1.1,-1),Fn("u2",t,e,Pn,-r*.7,i*1.1,-1),Fn("u3",t,e,Pn,0,i*2,-1),Fn("cf1",t,e,Pn,-r,0,1),Fn("cf2",t,e,Pn,r,0,1),Fn("cf3",t,e,Pn,0,-i,1),Fn("cf4",t,e,Pn,0,i,1),Fn("cn1",t,e,Pn,-r,0,-1),Fn("cn2",t,e,Pn,r,0,-1),Fn("cn3",t,e,Pn,0,-i,-1),Fn("cn4",t,e,Pn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Fn(n,e,t,r,i,s,o){_g.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let u=0,c=a.length;u<c;u++)l.setXYZ(a[u],_g.x,_g.y,_g.z)}}const Sg=new Is;class r$ extends Ds{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new St;s.setIndex(new jt(r,1)),s.setAttribute("position",new jt(i,3)),super(s,new kr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Sg.setFromObject(this.object),Sg.isEmpty())return;const t=Sg.min,r=Sg.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class i$ extends Ds{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new St;s.setIndex(new jt(r,1)),s.setAttribute("position",new it(i,3)),super(s,new kr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class s$ extends Zo{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new St;o.setAttribute("position",new it(s,3)),o.computeBoundingSphere(),super(o,new kr({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new St;l.setAttribute("position",new it(a,3)),l.computeBoundingSphere(),this.add(new tr(l,new li({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Z3=new X;let wg,Mx;class o$ extends Vt{constructor(e=new X(0,0,1),t=new X(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",wg===void 0&&(wg=new St,wg.setAttribute("position",new it([0,0,0,0,1,0],3)),Mx=new du(0,.5,1,5,1),Mx.translate(0,-.5,0)),this.position.copy(t),this.line=new Zo(wg,new kr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new tr(Mx,new li({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Z3.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Z3,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class a$ extends Ds{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new St;i.setAttribute("position",new it(t,3)),i.setAttribute("color",new it(r,3));const s=new kr({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new Ge,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class uk{constructor(){this.type="ShapePath",this.color=new Ge,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Oh,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(m){const S=[];for(let _=0,M=m.length;_<M;_++){const P=m[_],C=new Xl;C.curves=P.curves,S.push(C)}return S}function r(m,S){const _=S.length;let M=!1;for(let P=_-1,C=0;C<_;P=C++){let R=S[P],T=S[C],E=T.x-R.x,A=T.y-R.y;if(Math.abs(A)>Number.EPSILON){if(A<0&&(R=S[C],E=-E,T=S[P],A=-A),m.y<R.y||m.y>T.y)continue;if(m.y===R.y){if(m.x===R.x)return!0}else{const B=A*(m.x-R.x)-E*(m.y-R.y);if(B===0)return!0;if(B<0)continue;M=!M}}else{if(m.y!==R.y)continue;if(T.x<=m.x&&m.x<=R.x||R.x<=m.x&&m.x<=T.x)return!0}}return M}const i=io.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new Xl,l.curves=a.curves,u.push(l),u;let c=!i(s[0].getPoints());c=e?!c:c;const d=[],p=[];let g=[],y=0,x;p[y]=void 0,g[y]=[];for(let m=0,S=s.length;m<S;m++)a=s[m],x=a.getPoints(),o=i(x),o=e?!o:o,o?(!c&&p[y]&&y++,p[y]={s:new Xl,p:x},p[y].s.curves=a.curves,c&&y++,g[y]=[]):g[y].push({h:a,p:x[0]});if(!p[0])return t(s);if(p.length>1){let m=!1,S=0;for(let _=0,M=p.length;_<M;_++)d[_]=[];for(let _=0,M=p.length;_<M;_++){const P=g[_];for(let C=0;C<P.length;C++){const R=P[C];let T=!0;for(let E=0;E<p.length;E++)r(R.p,p[E].p)&&(_!==E&&S++,T?(T=!1,d[E].push(R)):m=!0);T&&d[_].push(R)}}S>0&&m===!1&&(g=d)}let v;for(let m=0,S=p.length;m<S;m++){l=p[m].s,u.push(l),v=g[m];for(let _=0,M=v.length;_<M;_++)l.holes.push(v[_].h)}return u}}class l$ extends rl{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class u$ extends ap{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class c$ extends lp{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class f$ extends up{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class d$ extends du{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class h$ extends cp{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class p$ extends wf{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class m$ extends bf{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class g$ extends Sf{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class v$ extends Mf{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class y$ extends yf{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class x$ extends sa{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class _$ extends fp{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class S$ extends dp{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class w$ extends Ef{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class b$ extends hp{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class M$ extends pp{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class E$ extends mp{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class A$ extends gp{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:I0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=I0);const C$=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Gb,AddEquation:Pl,AddOperation:kD,AdditiveAnimationBlendMode:jb,AdditiveBlending:gS,AlphaFormat:$D,AlwaysDepth:LD,AlwaysStencilFunc:uO,AmbientLight:qO,AmbientLightProbe:SW,AnimationAction:ak,AnimationClip:uf,AnimationLoader:dW,AnimationMixer:UW,AnimationObjectGroup:FW,AnimationUtils:lW,ArcCurve:LO,ArrayCamera:wO,ArrowHelper:o$,Audio:sk,AudioAnalyser:CW,AudioContext:AM,AudioListener:MW,AudioLoader:xW,AxesHelper:a$,BackSide:Dr,BasicDepthPacking:oO,BasicShadowMap:mD,Bone:G0,BooleanKeyframeTrack:pu,Box2:$W,Box3:Is,Box3Helper:i$,BoxBufferGeometry:l$,BoxGeometry:rl,BoxHelper:r$,BufferAttribute:jt,BufferGeometry:St,BufferGeometryLoader:rk,ByteType:HD,Cache:ou,Camera:rp,CameraHelper:n$,CanvasTexture:Ij,CapsuleBufferGeometry:u$,CapsuleGeometry:ap,CatmullRomCurve3:PO,CineonToneMapping:UD,CircleBufferGeometry:c$,CircleGeometry:lp,ClampToEdgeWrapping:xr,Clock:CM,Color:Ge,ColorKeyframeTrack:_M,ColorManagement:ti,CompressedArrayTexture:Rj,CompressedTexture:lM,CompressedTextureLoader:hW,ConeBufferGeometry:f$,ConeGeometry:up,CubeCamera:mO,CubeReflectionMapping:Yo,CubeRefractionMapping:Xa,CubeTexture:ip,CubeTextureLoader:XO,CubeUVReflectionMapping:vf,CubicBezierCurve:cM,CubicBezierCurve3:RO,CubicInterpolant:WO,CullFaceBack:mS,CullFaceFront:pD,CullFaceFrontBack:I8,CullFaceNone:hD,Curve:Os,CurvePath:BO,CustomBlending:gD,CustomToneMapping:zD,CylinderBufferGeometry:d$,CylinderGeometry:du,Cylindrical:WW,Data3DTexture:Xb,DataArrayTexture:F0,DataTexture:Hc,DataTextureLoader:YO,DataUtils:Gd,DecrementStencilOp:V8,DecrementWrapStencilOp:W8,DefaultLoadingManager:KO,DepthFormat:$a,DepthStencilFormat:ru,DepthTexture:bO,DirectionalLight:EM,DirectionalLightHelper:t$,DiscreteInterpolant:$O,DisplayP3ColorSpace:$b,DodecahedronBufferGeometry:h$,DodecahedronGeometry:cp,DoubleSide:Mi,DstAlphaFactor:bD,DstColorFactor:ED,DynamicCopyUsage:o9,DynamicDrawUsage:e9,DynamicReadUsage:r9,EdgesGeometry:DO,EllipseCurve:j0,EqualDepth:RD,EqualStencilFunc:X8,EquirectangularReflectionMapping:qc,EquirectangularRefractionMapping:Lh,Euler:np,EventDispatcher:ia,ExtrudeBufferGeometry:p$,ExtrudeGeometry:wf,FileLoader:pi,Float16BufferAttribute:J9,Float32BufferAttribute:it,Float64BufferAttribute:K9,FloatType:Ai,Fog:H0,FogExp2:z0,FramebufferTexture:Pj,FrontSide:lo,Frustum:N0,GLBufferAttribute:VW,GLSL1:l9,GLSL3:jS,GreaterDepth:BD,GreaterEqualDepth:ID,GreaterEqualStencilFunc:q8,GreaterStencilFunc:Q8,GridHelper:qW,Group:Fo,HalfFloatType:Zi,HemisphereLight:ZO,HemisphereLightHelper:ZW,HemisphereLightProbe:_W,IcosahedronBufferGeometry:m$,IcosahedronGeometry:bf,ImageBitmapLoader:ik,ImageLoader:Uh,ImageUtils:Kb,IncrementStencilOp:G8,IncrementWrapStencilOp:j8,InstancedBufferAttribute:of,InstancedBufferGeometry:nk,InstancedInterleavedBuffer:GW,InstancedMesh:TO,Int16BufferAttribute:W9,Int32BufferAttribute:$9,Int8BufferAttribute:G9,IntType:VD,InterleavedBuffer:sp,InterleavedBufferAttribute:Qa,Interpolant:Af,InterpolateDiscrete:tf,InterpolateLinear:iu,InterpolateSmooth:ov,InvertStencilOp:$8,KeepStencilOp:av,KeyframeTrack:ks,LOD:CO,LatheBufferGeometry:g$,LatheGeometry:Sf,Layers:Kl,LessDepth:PD,LessEqualDepth:jv,LessEqualStencilFunc:Y8,LessStencilFunc:K8,Light:il,LightProbe:K0,Line:Zo,Line3:JW,LineBasicMaterial:kr,LineCurve:W0,LineCurve3:IO,LineDashedMaterial:VO,LineLoop:oM,LineSegments:Ds,LinearEncoding:Ls,LinearFilter:gn,LinearInterpolant:xM,LinearMipMapLinearFilter:F8,LinearMipMapNearestFilter:k8,LinearMipmapLinearFilter:uo,LinearMipmapNearestFilter:O0,LinearSRGBColorSpace:nf,LinearToneMapping:FD,Loader:Fr,LoaderUtils:so,LoadingManager:SM,LoopOnce:nO,LoopPingPong:iO,LoopRepeat:rO,LuminanceAlphaFormat:KD,LuminanceFormat:JD,MOUSE:P8,Material:Un,MaterialLoader:X0,MathUtils:Ho,Matrix3:Bt,Matrix4:mt,MaxEquation:_S,Mesh:tr,MeshBasicMaterial:li,MeshDepthMaterial:tM,MeshDistanceMaterial:nM,MeshLambertMaterial:J0,MeshMatcapMaterial:GO,MeshNormalMaterial:HO,MeshPhongMaterial:mM,MeshPhysicalMaterial:fo,MeshStandardMaterial:hu,MeshToonMaterial:gM,MinEquation:xS,MirroredRepeatWrapping:ef,MixOperation:OD,MultiplyBlending:yS,MultiplyOperation:ep,NearestFilter:In,NearestMipMapLinearFilter:O8,NearestMipMapNearestFilter:D8,NearestMipmapLinearFilter:Uc,NearestMipmapNearestFilter:Ph,NeverDepth:TD,NeverStencilFunc:J8,NoBlending:zo,NoColorSpace:U8,NoToneMapping:Cs,NormalAnimationBlendMode:k0,NormalBlending:Wl,NotEqualDepth:DD,NotEqualStencilFunc:Z8,NumberKeyframeTrack:af,Object3D:Vt,ObjectLoader:vW,ObjectSpaceNormalMap:lO,OctahedronBufferGeometry:v$,OctahedronGeometry:Mf,OneFactor:_D,OneMinusDstAlphaFactor:MD,OneMinusDstColorFactor:AD,OneMinusSrcAlphaFactor:Hb,OneMinusSrcColorFactor:wD,OrthographicCamera:xf,PCFShadowMap:B0,PCFSoftShadowMap:th,PMREMGenerator:$S,Path:Oh,PerspectiveCamera:qn,Plane:Ta,PlaneBufferGeometry:y$,PlaneGeometry:yf,PlaneHelper:s$,PointLight:MM,PointLightHelper:YW,Points:aM,PointsMaterial:V0,PolarGridHelper:e$,PolyhedronBufferGeometry:x$,PolyhedronGeometry:sa,PositionalAudio:AW,PropertyBinding:zt,PropertyMixer:ok,QuadraticBezierCurve:fM,QuadraticBezierCurve3:dM,Quaternion:Kr,QuaternionKeyframeTrack:Za,QuaternionLinearInterpolant:JO,RED_GREEN_RGTC2_Format:GS,RED_RGTC1_Format:tO,REVISION:I0,RGBADepthPacking:aO,RGBAFormat:oi,RGBAIntegerFormat:qD,RGBA_ASTC_10x10_Format:NS,RGBA_ASTC_10x5_Format:OS,RGBA_ASTC_10x6_Format:kS,RGBA_ASTC_10x8_Format:FS,RGBA_ASTC_12x10_Format:US,RGBA_ASTC_12x12_Format:zS,RGBA_ASTC_4x4_Format:CS,RGBA_ASTC_5x4_Format:TS,RGBA_ASTC_5x5_Format:LS,RGBA_ASTC_6x5_Format:PS,RGBA_ASTC_6x6_Format:RS,RGBA_ASTC_8x5_Format:IS,RGBA_ASTC_8x6_Format:BS,RGBA_ASTC_8x8_Format:DS,RGBA_BPTC_Format:sv,RGBA_ETC2_EAC_Format:AS,RGBA_PVRTC_2BPPV1_Format:MS,RGBA_PVRTC_4BPPV1_Format:bS,RGBA_S3TC_DXT1_Format:nv,RGBA_S3TC_DXT3_Format:rv,RGBA_S3TC_DXT5_Format:iv,RGB_ETC1_Format:eO,RGB_ETC2_Format:ES,RGB_PVRTC_2BPPV1_Format:wS,RGB_PVRTC_4BPPV1_Format:SS,RGB_S3TC_DXT1_Format:tv,RGFormat:QD,RGIntegerFormat:ZD,RawShaderMaterial:zO,Ray:tp,Raycaster:RM,RectAreaLight:ek,RedFormat:XD,RedIntegerFormat:YD,ReinhardToneMapping:ND,RepeatWrapping:Ya,ReplaceStencilOp:H8,ReverseSubtractEquation:yD,RingBufferGeometry:_$,RingGeometry:fp,SIGNED_RED_GREEN_RGTC2_Format:VS,SIGNED_RED_RGTC1_Format:HS,SRGBColorSpace:Ss,Scene:Dh,ShaderChunk:Mt,ShaderLib:bs,ShaderMaterial:rs,ShadowMaterial:UO,Shape:Xl,ShapeBufferGeometry:S$,ShapeGeometry:dp,ShapePath:uk,ShapeUtils:io,ShortType:GD,Skeleton:op,SkeletonHelper:XW,SkinnedMesh:sM,Source:zl,Sphere:Bs,SphereBufferGeometry:w$,SphereGeometry:Ef,Spherical:jW,SphericalHarmonics3:tk,SplineCurve:hM,SpotLight:bM,SpotLightHelper:KW,Sprite:AO,SpriteMaterial:iM,SrcAlphaFactor:zb,SrcAlphaSaturateFactor:CD,SrcColorFactor:SD,StaticCopyUsage:s9,StaticDrawUsage:Ih,StaticReadUsage:n9,StereoCamera:wW,StreamCopyUsage:a9,StreamDrawUsage:t9,StreamReadUsage:i9,StringKeyframeTrack:mu,SubtractEquation:vD,SubtractiveBlending:vS,TOUCH:R8,TangentSpaceNormalMap:ra,TetrahedronBufferGeometry:b$,TetrahedronGeometry:hp,Texture:yn,TextureLoader:QO,TorusBufferGeometry:M$,TorusGeometry:pp,TorusKnotBufferGeometry:E$,TorusKnotGeometry:mp,Triangle:si,TriangleFanDrawMode:Wb,TriangleStripDrawMode:sO,TrianglesDrawMode:N8,TubeBufferGeometry:A$,TubeGeometry:gp,TwoPassDoubleSide:B8,UVMapping:D0,Uint16BufferAttribute:Yb,Uint32BufferAttribute:Qb,Uint8BufferAttribute:V9,Uint8ClampedBufferAttribute:j9,Uniform:PM,UniformsGroup:HW,UniformsLib:je,UniformsUtils:Zb,UnsignedByteType:Qo,UnsignedInt248Type:$l,UnsignedIntType:Da,UnsignedShort4444Type:jD,UnsignedShort5551Type:WD,UnsignedShortType:Vb,VSMShadowMap:Fl,Vector2:Oe,Vector3:X,Vector4:qt,VectorKeyframeTrack:lf,VideoTexture:Lj,WebGL1Renderer:MO,WebGL3DRenderTarget:R9,WebGLArrayRenderTarget:P9,WebGLCubeRenderTarget:qb,WebGLMultipleRenderTargets:I9,WebGLRenderTarget:Ii,WebGLRenderer:rM,WebGLUtils:SO,WireframeGeometry:NO,WrapAroundEnding:Rh,ZeroCurvatureEnding:Nl,ZeroFactor:xD,ZeroSlopeEnding:Ul,ZeroStencilOp:z8,_SRGBAFormat:Wv,sRGBEncoding:Ft},Symbol.toStringTag,{value:"Module"}));var ck={exports:{}},gu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */gu.ConcurrentRoot=1;gu.ContinuousEventPriority=4;gu.DefaultEventPriority=16;gu.DiscreteEventPriority=1;gu.IdleEventPriority=536870912;gu.LegacyRoot=0;ck.exports=gu;var Tc=ck.exports;function T$(n){let e;const t=new Set,r=(u,c)=>{const d=typeof u=="function"?u(e):u;if(d!==e){const p=e;e=c?d:Object.assign({},e,d),t.forEach(g=>g(e,p))}},i=()=>e,s=(u,c=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=c(e);function g(){const y=c(e);if(!d(p,y)){const x=p;u(p=y,x)}}return t.add(g),()=>t.delete(g)},l={setState:r,getState:i,subscribe:(u,c,d)=>c||d?s(u,c,d):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(r,i,l),l}const L$=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),q3=L$?w.useEffect:w.useLayoutEffect;function IM(n){const e=typeof n=="function"?T$(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=w.useReducer(v=>v+1,0),o=e.getState(),a=w.useRef(o),l=w.useRef(r),u=w.useRef(i),c=w.useRef(!1),d=w.useRef();d.current===void 0&&(d.current=r(o));let p,g=!1;(a.current!==o||l.current!==r||u.current!==i||c.current)&&(p=r(o),g=!i(d.current,p)),q3(()=>{g&&(d.current=p),a.current=o,l.current=r,u.current=i,c.current=!1});const y=w.useRef(o);q3(()=>{const v=()=>{try{const S=e.getState(),_=l.current(S);u.current(d.current,_)||(a.current=S,d.current=_,s())}catch{c.current=!0,s()}},m=e.subscribe(v);return e.getState()!==y.current&&v(),m},[]);const x=g?p:d.current;return w.useDebugValue(x),x};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var fk={exports:{}},Ex={exports:{}},Ax={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eT;function P$(){return eT||(eT=1,function(n){function e(k,W){var V=k.length;k.push(W);e:for(;0<V;){var ce=V-1>>>1,oe=k[ce];if(0<i(oe,W))k[ce]=W,k[V]=oe,V=ce;else break e}}function t(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var W=k[0],V=k.pop();if(V!==W){k[0]=V;e:for(var ce=0,oe=k.length,re=oe>>>1;ce<re;){var q=2*(ce+1)-1,we=k[q],xe=q+1,se=k[xe];if(0>i(we,V))xe<oe&&0>i(se,we)?(k[ce]=se,k[xe]=V,ce=xe):(k[ce]=we,k[q]=V,ce=q);else if(xe<oe&&0>i(se,V))k[ce]=se,k[xe]=V,ce=xe;else break e}}return W}function i(k,W){var V=k.sortIndex-W.sortIndex;return V!==0?V:k.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,p=3,g=!1,y=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(k){for(var W=t(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=k)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(u)}}function M(k){if(x=!1,_(k),!y)if(t(l)!==null)y=!0,$(P);else{var W=t(u);W!==null&&Z(M,W.startTime-k)}}function P(k,W){y=!1,x&&(x=!1,m(T),T=-1),g=!0;var V=p;try{for(_(W),d=t(l);d!==null&&(!(d.expirationTime>W)||k&&!B());){var ce=d.callback;if(typeof ce=="function"){d.callback=null,p=d.priorityLevel;var oe=ce(d.expirationTime<=W);W=n.unstable_now(),typeof oe=="function"?d.callback=oe:d===t(l)&&r(l),_(W)}else r(l);d=t(l)}if(d!==null)var re=!0;else{var q=t(u);q!==null&&Z(M,q.startTime-W),re=!1}return re}finally{d=null,p=V,g=!1}}var C=!1,R=null,T=-1,E=5,A=-1;function B(){return!(n.unstable_now()-A<E)}function D(){if(R!==null){var k=n.unstable_now();A=k;var W=!0;try{W=R(!0,k)}finally{W?U():(C=!1,R=null)}}else C=!1}var U;if(typeof S=="function")U=function(){S(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,j=H.port2;H.port1.onmessage=D,U=function(){j.postMessage(null)}}else U=function(){v(D,0)};function $(k){R=k,C||(C=!0,U())}function Z(k,W){T=v(function(){k(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){y||g||(y=!0,$(P))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(k){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var V=p;p=W;try{return k()}finally{p=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,W){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var V=p;p=k;try{return W()}finally{p=V}},n.unstable_scheduleCallback=function(k,W,V){var ce=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ce+V:ce):V=ce,k){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=V+oe,k={id:c++,callback:W,priorityLevel:k,startTime:V,expirationTime:oe,sortIndex:-1},V>ce?(k.sortIndex=V,e(u,k),t(l)===null&&k===t(u)&&(x?(m(T),T=-1):x=!0,Z(M,V-ce))):(k.sortIndex=oe,e(l,k),y||g||(y=!0,$(P))),k},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(k){var W=p;return function(){var V=p;p=W;try{return k.apply(this,arguments)}finally{p=V}}}}(Ax)),Ax}var tT;function R$(){return tT||(tT=1,Ex.exports=P$()),Ex.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I$=function(e){var t={},r=w,i=R$(),s=Object.assign;function o(f){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+f,b=1;b<arguments.length;b++)h+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),y=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),P=Symbol.iterator;function C(f){return f===null||typeof f!="object"?null:(f=P&&f[P]||f["@@iterator"],typeof f=="function"?f:null)}function R(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case c:return"Fragment";case u:return"Portal";case p:return"Profiler";case d:return"StrictMode";case v:return"Suspense";case m:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case y:return(f.displayName||"Context")+".Consumer";case g:return(f._context.displayName||"Context")+".Provider";case x:var h=f.render;return f=f.displayName,f||(f=h.displayName||h.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case S:return h=f.displayName||null,h!==null?h:R(f.type)||"Memo";case _:h=f._payload,f=f._init;try{return R(f(h))}catch{}}return null}function T(f){var h=f.type;switch(f.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=h.render,f=f.displayName||f.name||"",h.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(h);case 8:return h===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function E(f){var h=f,b=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,h.flags&4098&&(b=h.return),f=h.return;while(f)}return h.tag===3?b:null}function A(f){if(E(f)!==f)throw Error(o(188))}function B(f){var h=f.alternate;if(!h){if(h=E(f),h===null)throw Error(o(188));return h!==f?null:f}for(var b=f,L=h;;){var I=b.return;if(I===null)break;var O=I.alternate;if(O===null){if(L=I.return,L!==null){b=L;continue}break}if(I.child===O.child){for(O=I.child;O;){if(O===b)return A(I),f;if(O===L)return A(I),h;O=O.sibling}throw Error(o(188))}if(b.return!==L.return)b=I,L=O;else{for(var Q=!1,de=I.child;de;){if(de===b){Q=!0,b=I,L=O;break}if(de===L){Q=!0,L=I,b=O;break}de=de.sibling}if(!Q){for(de=O.child;de;){if(de===b){Q=!0,b=O,L=I;break}if(de===L){Q=!0,L=O,b=I;break}de=de.sibling}if(!Q)throw Error(o(189))}}if(b.alternate!==L)throw Error(o(190))}if(b.tag!==3)throw Error(o(188));return b.stateNode.current===b?f:h}function D(f){return f=B(f),f!==null?U(f):null}function U(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var h=U(f);if(h!==null)return h;f=f.sibling}return null}function H(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var h=H(f);if(h!==null)return h}f=f.sibling}return null}var j=Array.isArray,$=e.getPublicInstance,Z=e.getRootHostContext,k=e.getChildHostContext,W=e.prepareForCommit,V=e.resetAfterCommit,ce=e.createInstance,oe=e.appendInitialChild,re=e.finalizeInitialChildren,q=e.prepareUpdate,we=e.shouldSetTextContent,xe=e.createTextInstance,se=e.scheduleTimeout,pe=e.cancelTimeout,N=e.noTimeout,G=e.isPrimaryRenderer,Y=e.supportsMutation,ae=e.supportsPersistence,te=e.supportsHydration,le=e.getInstanceFromNode,Re=e.preparePortalMount,Ie=e.getCurrentEventPriority,Ve=e.detachDeletedInstance,Ke=e.supportsMicrotasks,We=e.scheduleMicrotask,Ze=e.supportsTestSelectors,et=e.findFiberRoot,J=e.getBoundingRect,z=e.getTextContent,fe=e.isHiddenSubtree,Ce=e.matchAccessibilityRole,Be=e.setFocusIfFocusable,ke=e.setupIntersectionObserver,rt=e.appendChild,ue=e.appendChildToContainer,ee=e.commitTextUpdate,me=e.commitMount,Ee=e.commitUpdate,Le=e.insertBefore,Ae=e.insertInContainerBefore,De=e.removeChild,Ue=e.removeChildFromContainer,ze=e.resetTextContent,ot=e.hideInstance,ie=e.hideTextInstance,_e=e.unhideInstance,Pe=e.unhideTextInstance,Fe=e.clearContainer,Xe=e.cloneInstance,Ct=e.createContainerChildSet,Ht=e.appendChildToContainerChildSet,en=e.finalizeContainerChildren,On=e.replaceContainerChildren,Qt=e.cloneHiddenInstance,hn=e.cloneHiddenTextInstance,Ye=e.canHydrateInstance,sr=e.canHydrateTextInstance,ki=e.canHydrateSuspenseInstance,Us=e.isSuspenseInstancePending,sl=e.isSuspenseInstanceFallback,Uf=e.registerSuspenseInstanceRetry,K=e.getNextHydratableSibling,ve=e.getFirstHydratableChild,Me=e.getFirstHydratableChildWithinContainer,ge=e.getFirstHydratableChildWithinSuspenseInstance,Te=e.hydrateInstance,lt=e.hydrateTextInstance,dt=e.hydrateSuspenseInstance,ht=e.getNextHydratableInstanceAfterSuspenseInstance,xt=e.commitHydratedContainer,Tt=e.commitHydratedSuspenseInstance,Lt=e.clearSuspenseBoundary,Rt=e.clearSuspenseBoundaryFromContainer,Zt=e.shouldDeleteUnhydratedTailInstances,pr=e.didNotMatchHydratedContainerTextInstance,gi=e.didNotMatchHydratedTextInstance,ls;function ln(f){if(ls===void 0)try{throw Error()}catch(b){var h=b.stack.trim().match(/\n( *(at )?)/);ls=h&&h[1]||""}return`
`+ls+f}var It=!1;function ol(f,h){if(!f||It)return"";It=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(He){var L=He}Reflect.construct(f,[],h)}else{try{h.call()}catch(He){L=He}f.call(h.prototype)}else{try{throw Error()}catch(He){L=He}f()}}catch(He){if(He&&L&&typeof He.stack=="string"){for(var I=He.stack.split(`
`),O=L.stack.split(`
`),Q=I.length-1,de=O.length-1;1<=Q&&0<=de&&I[Q]!==O[de];)de--;for(;1<=Q&&0<=de;Q--,de--)if(I[Q]!==O[de]){if(Q!==1||de!==1)do if(Q--,de--,0>de||I[Q]!==O[de]){var be=`
`+I[Q].replace(" at new "," at ");return f.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",f.displayName)),be}while(1<=Q&&0<=de);break}}}finally{It=!1,Error.prepareStackTrace=b}return(f=f?f.displayName||f.name:"")?ln(f):""}var zn=Object.prototype.hasOwnProperty,us=[],ho=-1;function Qr(f){return{current:f}}function tn(f){0>ho||(f.current=us[ho],us[ho]=null,ho--)}function _t(f,h){ho++,us[ho]=f.current,f.current=h}var wr={},Hn=Qr(wr),sn=Qr(!1),cs=wr;function la(f,h){var b=f.type.contextTypes;if(!b)return wr;var L=f.stateNode;if(L&&L.__reactInternalMemoizedUnmaskedChildContext===h)return L.__reactInternalMemoizedMaskedChildContext;var I={},O;for(O in b)I[O]=h[O];return L&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=h,f.__reactInternalMemoizedMaskedChildContext=I),I}function mr(f){return f=f.childContextTypes,f!=null}function Ep(){tn(sn),tn(Hn)}function wE(f,h,b){if(Hn.current!==wr)throw Error(o(168));_t(Hn,h),_t(sn,b)}function bE(f,h,b){var L=f.stateNode;if(h=h.childContextTypes,typeof L.getChildContext!="function")return b;L=L.getChildContext();for(var I in L)if(!(I in h))throw Error(o(108,T(f)||"Unknown",I));return s({},b,L)}function Ap(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||wr,cs=Hn.current,_t(Hn,f),_t(sn,sn.current),!0}function ME(f,h,b){var L=f.stateNode;if(!L)throw Error(o(169));b?(f=bE(f,h,cs),L.__reactInternalMemoizedMergedChildContext=f,tn(sn),tn(Hn),_t(Hn,f)):tn(sn),_t(sn,b)}var fs=Math.clz32?Math.clz32:WN,VN=Math.log,jN=Math.LN2;function WN(f){return f>>>=0,f===0?32:31-(VN(f)/jN|0)|0}var Cp=64,Tp=4194304;function zf(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function Lp(f,h){var b=f.pendingLanes;if(b===0)return 0;var L=0,I=f.suspendedLanes,O=f.pingedLanes,Q=b&268435455;if(Q!==0){var de=Q&~I;de!==0?L=zf(de):(O&=Q,O!==0&&(L=zf(O)))}else Q=b&~I,Q!==0?L=zf(Q):O!==0&&(L=zf(O));if(L===0)return 0;if(h!==0&&h!==L&&!(h&I)&&(I=L&-L,O=h&-h,I>=O||I===16&&(O&4194240)!==0))return h;if(L&4&&(L|=b&16),h=f.entangledLanes,h!==0)for(f=f.entanglements,h&=L;0<h;)b=31-fs(h),I=1<<b,L|=f[b],h&=~I;return L}function $N(f,h){switch(f){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JN(f,h){for(var b=f.suspendedLanes,L=f.pingedLanes,I=f.expirationTimes,O=f.pendingLanes;0<O;){var Q=31-fs(O),de=1<<Q,be=I[Q];be===-1?(!(de&b)||de&L)&&(I[Q]=$N(de,h)):be<=h&&(f.expiredLanes|=de),O&=~de}}function my(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function gy(f){for(var h=[],b=0;31>b;b++)h.push(f);return h}function Hf(f,h,b){f.pendingLanes|=h,h!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,h=31-fs(h),f[h]=b}function KN(f,h){var b=f.pendingLanes&~h;f.pendingLanes=h,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=h,f.mutableReadLanes&=h,f.entangledLanes&=h,h=f.entanglements;var L=f.eventTimes;for(f=f.expirationTimes;0<b;){var I=31-fs(b),O=1<<I;h[I]=0,L[I]=-1,f[I]=-1,b&=~O}}function vy(f,h){var b=f.entangledLanes|=h;for(f=f.entanglements;b;){var L=31-fs(b),I=1<<L;I&h|f[L]&h&&(f[L]|=h),b&=~I}}var Wt=0;function EE(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var yy=i.unstable_scheduleCallback,AE=i.unstable_cancelCallback,XN=i.unstable_shouldYield,YN=i.unstable_requestPaint,or=i.unstable_now,xy=i.unstable_ImmediatePriority,QN=i.unstable_UserBlockingPriority,_y=i.unstable_NormalPriority,ZN=i.unstable_IdlePriority,Pp=null,zs=null;function qN(f){if(zs&&typeof zs.onCommitFiberRoot=="function")try{zs.onCommitFiberRoot(Pp,f,void 0,(f.current.flags&128)===128)}catch{}}function eU(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var Hs=typeof Object.is=="function"?Object.is:eU,po=null,Rp=!1,Sy=!1;function CE(f){po===null?po=[f]:po.push(f)}function tU(f){Rp=!0,CE(f)}function Gs(){if(!Sy&&po!==null){Sy=!0;var f=0,h=Wt;try{var b=po;for(Wt=1;f<b.length;f++){var L=b[f];do L=L(!0);while(L!==null)}po=null,Rp=!1}catch(I){throw po!==null&&(po=po.slice(f+1)),yy(xy,Gs),I}finally{Wt=h,Sy=!1}}return null}var nU=a.ReactCurrentBatchConfig;function Ip(f,h){if(Hs(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var b=Object.keys(f),L=Object.keys(h);if(b.length!==L.length)return!1;for(L=0;L<b.length;L++){var I=b[L];if(!zn.call(h,I)||!Hs(f[I],h[I]))return!1}return!0}function rU(f){switch(f.tag){case 5:return ln(f.type);case 16:return ln("Lazy");case 13:return ln("Suspense");case 19:return ln("SuspenseList");case 0:case 2:case 15:return f=ol(f.type,!1),f;case 11:return f=ol(f.type.render,!1),f;case 1:return f=ol(f.type,!0),f;default:return""}}function ds(f,h){if(f&&f.defaultProps){h=s({},h),f=f.defaultProps;for(var b in f)h[b]===void 0&&(h[b]=f[b]);return h}return h}var Bp=Qr(null),Dp=null,_u=null,wy=null;function by(){wy=_u=Dp=null}function TE(f,h,b){G?(_t(Bp,h._currentValue),h._currentValue=b):(_t(Bp,h._currentValue2),h._currentValue2=b)}function My(f){var h=Bp.current;tn(Bp),G?f._currentValue=h:f._currentValue2=h}function Ey(f,h,b){for(;f!==null;){var L=f.alternate;if((f.childLanes&h)!==h?(f.childLanes|=h,L!==null&&(L.childLanes|=h)):L!==null&&(L.childLanes&h)!==h&&(L.childLanes|=h),f===b)break;f=f.return}}function Su(f,h){Dp=f,wy=_u=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&h&&(xi=!0),f.firstContext=null)}function Fi(f){var h=G?f._currentValue:f._currentValue2;if(wy!==f)if(f={context:f,memoizedValue:h,next:null},_u===null){if(Dp===null)throw Error(o(308));_u=f,Dp.dependencies={lanes:0,firstContext:f}}else _u=_u.next=f;return h}var Vs=null,ua=!1;function Ay(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LE(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function mo(f,h){return{eventTime:f,lane:h,tag:0,payload:null,callback:null,next:null}}function ca(f,h){var b=f.updateQueue;b!==null&&(b=b.shared,Gn!==null&&f.mode&1&&!(Pt&2)?(f=b.interleaved,f===null?(h.next=h,Vs===null?Vs=[b]:Vs.push(b)):(h.next=f.next,f.next=h),b.interleaved=h):(f=b.pending,f===null?h.next=h:(h.next=f.next,f.next=h),b.pending=h))}function Op(f,h,b){if(h=h.updateQueue,h!==null&&(h=h.shared,(b&4194240)!==0)){var L=h.lanes;L&=f.pendingLanes,b|=L,h.lanes=b,vy(f,b)}}function PE(f,h){var b=f.updateQueue,L=f.alternate;if(L!==null&&(L=L.updateQueue,b===L)){var I=null,O=null;if(b=b.firstBaseUpdate,b!==null){do{var Q={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};O===null?I=O=Q:O=O.next=Q,b=b.next}while(b!==null);O===null?I=O=h:O=O.next=h}else I=O=h;b={baseState:L.baseState,firstBaseUpdate:I,lastBaseUpdate:O,shared:L.shared,effects:L.effects},f.updateQueue=b;return}f=b.lastBaseUpdate,f===null?b.firstBaseUpdate=h:f.next=h,b.lastBaseUpdate=h}function kp(f,h,b,L){var I=f.updateQueue;ua=!1;var O=I.firstBaseUpdate,Q=I.lastBaseUpdate,de=I.shared.pending;if(de!==null){I.shared.pending=null;var be=de,He=be.next;be.next=null,Q===null?O=He:Q.next=He,Q=be;var tt=f.alternate;tt!==null&&(tt=tt.updateQueue,de=tt.lastBaseUpdate,de!==Q&&(de===null?tt.firstBaseUpdate=He:de.next=He,tt.lastBaseUpdate=be))}if(O!==null){var gt=I.baseState;Q=0,tt=He=be=null,de=O;do{var ut=de.lane,an=de.eventTime;if((L&ut)===ut){tt!==null&&(tt=tt.next={eventTime:an,lane:0,tag:de.tag,payload:de.payload,callback:de.callback,next:null});e:{var at=f,Ar=de;switch(ut=h,an=b,Ar.tag){case 1:if(at=Ar.payload,typeof at=="function"){gt=at.call(an,gt,ut);break e}gt=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=Ar.payload,ut=typeof at=="function"?at.call(an,gt,ut):at,ut==null)break e;gt=s({},gt,ut);break e;case 2:ua=!0}}de.callback!==null&&de.lane!==0&&(f.flags|=64,ut=I.effects,ut===null?I.effects=[de]:ut.push(de))}else an={eventTime:an,lane:ut,tag:de.tag,payload:de.payload,callback:de.callback,next:null},tt===null?(He=tt=an,be=gt):tt=tt.next=an,Q|=ut;if(de=de.next,de===null){if(de=I.shared.pending,de===null)break;ut=de,de=ut.next,ut.next=null,I.lastBaseUpdate=ut,I.shared.pending=null}}while(1);if(tt===null&&(be=gt),I.baseState=be,I.firstBaseUpdate=He,I.lastBaseUpdate=tt,h=I.shared.interleaved,h!==null){I=h;do Q|=I.lane,I=I.next;while(I!==h)}else O===null&&(I.shared.lanes=0);Pu|=Q,f.lanes=Q,f.memoizedState=gt}}function RE(f,h,b){if(f=h.effects,h.effects=null,f!==null)for(h=0;h<f.length;h++){var L=f[h],I=L.callback;if(I!==null){if(L.callback=null,L=b,typeof I!="function")throw Error(o(191,I));I.call(L)}}}var IE=new r.Component().refs;function Cy(f,h,b,L){h=f.memoizedState,b=b(L,h),b=b==null?h:s({},h,b),f.memoizedState=b,f.lanes===0&&(f.updateQueue.baseState=b)}var Fp={isMounted:function(f){return(f=f._reactInternals)?E(f)===f:!1},enqueueSetState:function(f,h,b){f=f._reactInternals;var L=zr(),I=ha(f),O=mo(L,I);O.payload=h,b!=null&&(O.callback=b),ca(f,O),h=Gi(f,I,L),h!==null&&Op(h,f,I)},enqueueReplaceState:function(f,h,b){f=f._reactInternals;var L=zr(),I=ha(f),O=mo(L,I);O.tag=1,O.payload=h,b!=null&&(O.callback=b),ca(f,O),h=Gi(f,I,L),h!==null&&Op(h,f,I)},enqueueForceUpdate:function(f,h){f=f._reactInternals;var b=zr(),L=ha(f),I=mo(b,L);I.tag=2,h!=null&&(I.callback=h),ca(f,I),h=Gi(f,L,b),h!==null&&Op(h,f,L)}};function BE(f,h,b,L,I,O,Q){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(L,O,Q):h.prototype&&h.prototype.isPureReactComponent?!Ip(b,L)||!Ip(I,O):!0}function DE(f,h,b){var L=!1,I=wr,O=h.contextType;return typeof O=="object"&&O!==null?O=Fi(O):(I=mr(h)?cs:Hn.current,L=h.contextTypes,O=(L=L!=null)?la(f,I):wr),h=new h(b,O),f.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Fp,f.stateNode=h,h._reactInternals=f,L&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=I,f.__reactInternalMemoizedMaskedChildContext=O),h}function OE(f,h,b,L){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(b,L),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(b,L),h.state!==f&&Fp.enqueueReplaceState(h,h.state,null)}function Ty(f,h,b,L){var I=f.stateNode;I.props=b,I.state=f.memoizedState,I.refs=IE,Ay(f);var O=h.contextType;typeof O=="object"&&O!==null?I.context=Fi(O):(O=mr(h)?cs:Hn.current,I.context=la(f,O)),I.state=f.memoizedState,O=h.getDerivedStateFromProps,typeof O=="function"&&(Cy(f,h,O,b),I.state=f.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(h=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),h!==I.state&&Fp.enqueueReplaceState(I,I.state,null),kp(f,b,I,L),I.state=f.memoizedState),typeof I.componentDidMount=="function"&&(f.flags|=4194308)}var wu=[],bu=0,Np=null,Up=0,Ni=[],Ui=0,al=null,go=1,vo="";function ll(f,h){wu[bu++]=Up,wu[bu++]=Np,Np=f,Up=h}function kE(f,h,b){Ni[Ui++]=go,Ni[Ui++]=vo,Ni[Ui++]=al,al=f;var L=go;f=vo;var I=32-fs(L)-1;L&=~(1<<I),b+=1;var O=32-fs(h)+I;if(30<O){var Q=I-I%5;O=(L&(1<<Q)-1).toString(32),L>>=Q,I-=Q,go=1<<32-fs(h)+I|b<<I|L,vo=O+f}else go=1<<O|b<<I|L,vo=f}function Ly(f){f.return!==null&&(ll(f,1),kE(f,1,0))}function Py(f){for(;f===Np;)Np=wu[--bu],wu[bu]=null,Up=wu[--bu],wu[bu]=null;for(;f===al;)al=Ni[--Ui],Ni[Ui]=null,vo=Ni[--Ui],Ni[Ui]=null,go=Ni[--Ui],Ni[Ui]=null}var vi=null,yi=null,xn=!1,Gf=!1,hs=null;function FE(f,h){var b=Vi(5,null,null,0);b.elementType="DELETED",b.stateNode=h,b.return=f,h=f.deletions,h===null?(f.deletions=[b],f.flags|=16):h.push(b)}function NE(f,h){switch(f.tag){case 5:return h=Ye(h,f.type,f.pendingProps),h!==null?(f.stateNode=h,vi=f,yi=ve(h),!0):!1;case 6:return h=sr(h,f.pendingProps),h!==null?(f.stateNode=h,vi=f,yi=null,!0):!1;case 13:if(h=ki(h),h!==null){var b=al!==null?{id:go,overflow:vo}:null;return f.memoizedState={dehydrated:h,treeContext:b,retryLane:1073741824},b=Vi(18,null,null,0),b.stateNode=h,b.return=f,f.child=b,vi=f,yi=null,!0}return!1;default:return!1}}function Ry(f){return(f.mode&1)!==0&&(f.flags&128)===0}function Iy(f){if(xn){var h=yi;if(h){var b=h;if(!NE(f,h)){if(Ry(f))throw Error(o(418));h=K(b);var L=vi;h&&NE(f,h)?FE(L,b):(f.flags=f.flags&-4097|2,xn=!1,vi=f)}}else{if(Ry(f))throw Error(o(418));f.flags=f.flags&-4097|2,xn=!1,vi=f}}}function UE(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;vi=f}function Vf(f){if(!te||f!==vi)return!1;if(!xn)return UE(f),xn=!0,!1;if(f.tag!==3&&(f.tag!==5||Zt(f.type)&&!we(f.type,f.memoizedProps))){var h=yi;if(h){if(Ry(f)){for(f=yi;f;)f=K(f);throw Error(o(418))}for(;h;)FE(f,h),h=K(h)}}if(UE(f),f.tag===13){if(!te)throw Error(o(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));yi=ht(f)}else yi=vi?K(f.stateNode):null;return!0}function Mu(){te&&(yi=vi=null,Gf=xn=!1)}function By(f){hs===null?hs=[f]:hs.push(f)}function jf(f,h,b){if(f=b.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(o(309));var L=b.stateNode}if(!L)throw Error(o(147,f));var I=L,O=""+f;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===O?h.ref:(h=function(Q){var de=I.refs;de===IE&&(de=I.refs={}),Q===null?delete de[O]:de[O]=Q},h._stringRef=O,h)}if(typeof f!="string")throw Error(o(284));if(!b._owner)throw Error(o(290,f))}return f}function zp(f,h){throw f=Object.prototype.toString.call(h),Error(o(31,f==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":f))}function zE(f){var h=f._init;return h(f._payload)}function HE(f){function h(ye,he){if(f){var Se=ye.deletions;Se===null?(ye.deletions=[he],ye.flags|=16):Se.push(he)}}function b(ye,he){if(!f)return null;for(;he!==null;)h(ye,he),he=he.sibling;return null}function L(ye,he){for(ye=new Map;he!==null;)he.key!==null?ye.set(he.key,he):ye.set(he.index,he),he=he.sibling;return ye}function I(ye,he){return ye=ma(ye,he),ye.index=0,ye.sibling=null,ye}function O(ye,he,Se){return ye.index=Se,f?(Se=ye.alternate,Se!==null?(Se=Se.index,Se<he?(ye.flags|=2,he):Se):(ye.flags|=2,he)):(ye.flags|=1048576,he)}function Q(ye){return f&&ye.alternate===null&&(ye.flags|=2),ye}function de(ye,he,Se,Qe){return he===null||he.tag!==6?(he=g1(Se,ye.mode,Qe),he.return=ye,he):(he=I(he,Se),he.return=ye,he)}function be(ye,he,Se,Qe){var st=Se.type;return st===c?tt(ye,he,Se.props.children,Qe,Se.key):he!==null&&(he.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===_&&zE(st)===he.type)?(Qe=I(he,Se.props),Qe.ref=jf(ye,he,Se),Qe.return=ye,Qe):(Qe=vm(Se.type,Se.key,Se.props,null,ye.mode,Qe),Qe.ref=jf(ye,he,Se),Qe.return=ye,Qe)}function He(ye,he,Se,Qe){return he===null||he.tag!==4||he.stateNode.containerInfo!==Se.containerInfo||he.stateNode.implementation!==Se.implementation?(he=v1(Se,ye.mode,Qe),he.return=ye,he):(he=I(he,Se.children||[]),he.return=ye,he)}function tt(ye,he,Se,Qe,st){return he===null||he.tag!==7?(he=ml(Se,ye.mode,Qe,st),he.return=ye,he):(he=I(he,Se),he.return=ye,he)}function gt(ye,he,Se){if(typeof he=="string"&&he!==""||typeof he=="number")return he=g1(""+he,ye.mode,Se),he.return=ye,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case l:return Se=vm(he.type,he.key,he.props,null,ye.mode,Se),Se.ref=jf(ye,null,he),Se.return=ye,Se;case u:return he=v1(he,ye.mode,Se),he.return=ye,he;case _:var Qe=he._init;return gt(ye,Qe(he._payload),Se)}if(j(he)||C(he))return he=ml(he,ye.mode,Se,null),he.return=ye,he;zp(ye,he)}return null}function ut(ye,he,Se,Qe){var st=he!==null?he.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number")return st!==null?null:de(ye,he,""+Se,Qe);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case l:return Se.key===st?be(ye,he,Se,Qe):null;case u:return Se.key===st?He(ye,he,Se,Qe):null;case _:return st=Se._init,ut(ye,he,st(Se._payload),Qe)}if(j(Se)||C(Se))return st!==null?null:tt(ye,he,Se,Qe,null);zp(ye,Se)}return null}function an(ye,he,Se,Qe,st){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return ye=ye.get(Se)||null,de(he,ye,""+Qe,st);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case l:return ye=ye.get(Qe.key===null?Se:Qe.key)||null,be(he,ye,Qe,st);case u:return ye=ye.get(Qe.key===null?Se:Qe.key)||null,He(he,ye,Qe,st);case _:var bt=Qe._init;return an(ye,he,Se,bt(Qe._payload),st)}if(j(Qe)||C(Qe))return ye=ye.get(Se)||null,tt(he,ye,Qe,st,null);zp(he,Qe)}return null}function at(ye,he,Se,Qe){for(var st=null,bt=null,vt=he,$t=he=0,lr=null;vt!==null&&$t<Se.length;$t++){vt.index>$t?(lr=vt,vt=null):lr=vt.sibling;var Jt=ut(ye,vt,Se[$t],Qe);if(Jt===null){vt===null&&(vt=lr);break}f&&vt&&Jt.alternate===null&&h(ye,vt),he=O(Jt,he,$t),bt===null?st=Jt:bt.sibling=Jt,bt=Jt,vt=lr}if($t===Se.length)return b(ye,vt),xn&&ll(ye,$t),st;if(vt===null){for(;$t<Se.length;$t++)vt=gt(ye,Se[$t],Qe),vt!==null&&(he=O(vt,he,$t),bt===null?st=vt:bt.sibling=vt,bt=vt);return xn&&ll(ye,$t),st}for(vt=L(ye,vt);$t<Se.length;$t++)lr=an(vt,ye,$t,Se[$t],Qe),lr!==null&&(f&&lr.alternate!==null&&vt.delete(lr.key===null?$t:lr.key),he=O(lr,he,$t),bt===null?st=lr:bt.sibling=lr,bt=lr);return f&&vt.forEach(function(ga){return h(ye,ga)}),xn&&ll(ye,$t),st}function Ar(ye,he,Se,Qe){var st=C(Se);if(typeof st!="function")throw Error(o(150));if(Se=st.call(Se),Se==null)throw Error(o(151));for(var bt=st=null,vt=he,$t=he=0,lr=null,Jt=Se.next();vt!==null&&!Jt.done;$t++,Jt=Se.next()){vt.index>$t?(lr=vt,vt=null):lr=vt.sibling;var ga=ut(ye,vt,Jt.value,Qe);if(ga===null){vt===null&&(vt=lr);break}f&&vt&&ga.alternate===null&&h(ye,vt),he=O(ga,he,$t),bt===null?st=ga:bt.sibling=ga,bt=ga,vt=lr}if(Jt.done)return b(ye,vt),xn&&ll(ye,$t),st;if(vt===null){for(;!Jt.done;$t++,Jt=Se.next())Jt=gt(ye,Jt.value,Qe),Jt!==null&&(he=O(Jt,he,$t),bt===null?st=Jt:bt.sibling=Jt,bt=Jt);return xn&&ll(ye,$t),st}for(vt=L(ye,vt);!Jt.done;$t++,Jt=Se.next())Jt=an(vt,ye,$t,Jt.value,Qe),Jt!==null&&(f&&Jt.alternate!==null&&vt.delete(Jt.key===null?$t:Jt.key),he=O(Jt,he,$t),bt===null?st=Jt:bt.sibling=Jt,bt=Jt);return f&&vt.forEach(function(BU){return h(ye,BU)}),xn&&ll(ye,$t),st}function ji(ye,he,Se,Qe){if(typeof Se=="object"&&Se!==null&&Se.type===c&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case l:e:{for(var st=Se.key,bt=he;bt!==null;){if(bt.key===st){if(st=Se.type,st===c){if(bt.tag===7){b(ye,bt.sibling),he=I(bt,Se.props.children),he.return=ye,ye=he;break e}}else if(bt.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===_&&zE(st)===bt.type){b(ye,bt.sibling),he=I(bt,Se.props),he.ref=jf(ye,bt,Se),he.return=ye,ye=he;break e}b(ye,bt);break}else h(ye,bt);bt=bt.sibling}Se.type===c?(he=ml(Se.props.children,ye.mode,Qe,Se.key),he.return=ye,ye=he):(Qe=vm(Se.type,Se.key,Se.props,null,ye.mode,Qe),Qe.ref=jf(ye,he,Se),Qe.return=ye,ye=Qe)}return Q(ye);case u:e:{for(bt=Se.key;he!==null;){if(he.key===bt)if(he.tag===4&&he.stateNode.containerInfo===Se.containerInfo&&he.stateNode.implementation===Se.implementation){b(ye,he.sibling),he=I(he,Se.children||[]),he.return=ye,ye=he;break e}else{b(ye,he);break}else h(ye,he);he=he.sibling}he=v1(Se,ye.mode,Qe),he.return=ye,ye=he}return Q(ye);case _:return bt=Se._init,ji(ye,he,bt(Se._payload),Qe)}if(j(Se))return at(ye,he,Se,Qe);if(C(Se))return Ar(ye,he,Se,Qe);zp(ye,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"?(Se=""+Se,he!==null&&he.tag===6?(b(ye,he.sibling),he=I(he,Se),he.return=ye,ye=he):(b(ye,he),he=g1(Se,ye.mode,Qe),he.return=ye,ye=he),Q(ye)):b(ye,he)}return ji}var Eu=HE(!0),GE=HE(!1),Wf={},zi=Qr(Wf),$f=Qr(Wf),Au=Qr(Wf);function js(f){if(f===Wf)throw Error(o(174));return f}function Dy(f,h){_t(Au,h),_t($f,f),_t(zi,Wf),f=Z(h),tn(zi),_t(zi,f)}function Cu(){tn(zi),tn($f),tn(Au)}function VE(f){var h=js(Au.current),b=js(zi.current);h=k(b,f.type,h),b!==h&&(_t($f,f),_t(zi,h))}function Oy(f){$f.current===f&&(tn(zi),tn($f))}var Sn=Qr(0);function Hp(f){for(var h=f;h!==null;){if(h.tag===13){var b=h.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||Us(b)||sl(b)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var ky=[];function Fy(){for(var f=0;f<ky.length;f++){var h=ky[f];G?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}ky.length=0}var Gp=a.ReactCurrentDispatcher,Hi=a.ReactCurrentBatchConfig,Tu=0,Ln=null,br=null,ar=null,Vp=!1,Jf=!1,Kf=0,iU=0;function Mr(){throw Error(o(321))}function Ny(f,h){if(h===null)return!1;for(var b=0;b<h.length&&b<f.length;b++)if(!Hs(f[b],h[b]))return!1;return!0}function Uy(f,h,b,L,I,O){if(Tu=O,Ln=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Gp.current=f===null||f.memoizedState===null?lU:uU,f=b(L,I),Jf){O=0;do{if(Jf=!1,Kf=0,25<=O)throw Error(o(301));O+=1,ar=br=null,h.updateQueue=null,Gp.current=cU,f=b(L,I)}while(Jf)}if(Gp.current=Kp,h=br!==null&&br.next!==null,Tu=0,ar=br=Ln=null,Vp=!1,h)throw Error(o(300));return f}function zy(){var f=Kf!==0;return Kf=0,f}function yo(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?Ln.memoizedState=ar=f:ar=ar.next=f,ar}function Ws(){if(br===null){var f=Ln.alternate;f=f!==null?f.memoizedState:null}else f=br.next;var h=ar===null?Ln.memoizedState:ar.next;if(h!==null)ar=h,br=f;else{if(f===null)throw Error(o(310));br=f,f={memoizedState:br.memoizedState,baseState:br.baseState,baseQueue:br.baseQueue,queue:br.queue,next:null},ar===null?Ln.memoizedState=ar=f:ar=ar.next=f}return ar}function ul(f,h){return typeof h=="function"?h(f):h}function jp(f){var h=Ws(),b=h.queue;if(b===null)throw Error(o(311));b.lastRenderedReducer=f;var L=br,I=L.baseQueue,O=b.pending;if(O!==null){if(I!==null){var Q=I.next;I.next=O.next,O.next=Q}L.baseQueue=I=O,b.pending=null}if(I!==null){O=I.next,L=L.baseState;var de=Q=null,be=null,He=O;do{var tt=He.lane;if((Tu&tt)===tt)be!==null&&(be=be.next={lane:0,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),L=He.hasEagerState?He.eagerState:f(L,He.action);else{var gt={lane:tt,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null};be===null?(de=be=gt,Q=L):be=be.next=gt,Ln.lanes|=tt,Pu|=tt}He=He.next}while(He!==null&&He!==O);be===null?Q=L:be.next=de,Hs(L,h.memoizedState)||(xi=!0),h.memoizedState=L,h.baseState=Q,h.baseQueue=be,b.lastRenderedState=L}if(f=b.interleaved,f!==null){I=f;do O=I.lane,Ln.lanes|=O,Pu|=O,I=I.next;while(I!==f)}else I===null&&(b.lanes=0);return[h.memoizedState,b.dispatch]}function Wp(f){var h=Ws(),b=h.queue;if(b===null)throw Error(o(311));b.lastRenderedReducer=f;var L=b.dispatch,I=b.pending,O=h.memoizedState;if(I!==null){b.pending=null;var Q=I=I.next;do O=f(O,Q.action),Q=Q.next;while(Q!==I);Hs(O,h.memoizedState)||(xi=!0),h.memoizedState=O,h.baseQueue===null&&(h.baseState=O),b.lastRenderedState=O}return[O,L]}function jE(){}function WE(f,h){var b=Ln,L=Ws(),I=h(),O=!Hs(L.memoizedState,I);if(O&&(L.memoizedState=I,xi=!0),L=L.queue,Yf(KE.bind(null,b,L,f),[f]),L.getSnapshot!==h||O||ar!==null&&ar.memoizedState.tag&1){if(b.flags|=2048,Xf(9,JE.bind(null,b,L,I,h),void 0,null),Gn===null)throw Error(o(349));Tu&30||$E(b,h,I)}return I}function $E(f,h,b){f.flags|=16384,f={getSnapshot:h,value:b},h=Ln.updateQueue,h===null?(h={lastEffect:null,stores:null},Ln.updateQueue=h,h.stores=[f]):(b=h.stores,b===null?h.stores=[f]:b.push(f))}function JE(f,h,b,L){h.value=b,h.getSnapshot=L,XE(h)&&Gi(f,1,-1)}function KE(f,h,b){return b(function(){XE(h)&&Gi(f,1,-1)})}function XE(f){var h=f.getSnapshot;f=f.value;try{var b=h();return!Hs(f,b)}catch{return!0}}function Hy(f){var h=yo();return typeof f=="function"&&(f=f()),h.memoizedState=h.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:f},h.queue=f,f=f.dispatch=aU.bind(null,Ln,f),[h.memoizedState,f]}function Xf(f,h,b,L){return f={tag:f,create:h,destroy:b,deps:L,next:null},h=Ln.updateQueue,h===null?(h={lastEffect:null,stores:null},Ln.updateQueue=h,h.lastEffect=f.next=f):(b=h.lastEffect,b===null?h.lastEffect=f.next=f:(L=b.next,b.next=f,f.next=L,h.lastEffect=f)),f}function YE(){return Ws().memoizedState}function $p(f,h,b,L){var I=yo();Ln.flags|=f,I.memoizedState=Xf(1|h,b,void 0,L===void 0?null:L)}function Jp(f,h,b,L){var I=Ws();L=L===void 0?null:L;var O=void 0;if(br!==null){var Q=br.memoizedState;if(O=Q.destroy,L!==null&&Ny(L,Q.deps)){I.memoizedState=Xf(h,b,O,L);return}}Ln.flags|=f,I.memoizedState=Xf(1|h,b,O,L)}function Gy(f,h){return $p(8390656,8,f,h)}function Yf(f,h){return Jp(2048,8,f,h)}function QE(f,h){return Jp(4,2,f,h)}function ZE(f,h){return Jp(4,4,f,h)}function qE(f,h){if(typeof h=="function")return f=f(),h(f),function(){h(null)};if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function eA(f,h,b){return b=b!=null?b.concat([f]):null,Jp(4,4,qE.bind(null,h,f),b)}function Vy(){}function tA(f,h){var b=Ws();h=h===void 0?null:h;var L=b.memoizedState;return L!==null&&h!==null&&Ny(h,L[1])?L[0]:(b.memoizedState=[f,h],f)}function nA(f,h){var b=Ws();h=h===void 0?null:h;var L=b.memoizedState;return L!==null&&h!==null&&Ny(h,L[1])?L[0]:(f=f(),b.memoizedState=[f,h],f)}function sU(f,h){var b=Wt;Wt=b!==0&&4>b?b:4,f(!0);var L=Hi.transition;Hi.transition={};try{f(!1),h()}finally{Wt=b,Hi.transition=L}}function rA(){return Ws().memoizedState}function oU(f,h,b){var L=ha(f);b={lane:L,action:b,hasEagerState:!1,eagerState:null,next:null},iA(f)?sA(h,b):(oA(f,h,b),b=zr(),f=Gi(f,L,b),f!==null&&aA(f,h,L))}function aU(f,h,b){var L=ha(f),I={lane:L,action:b,hasEagerState:!1,eagerState:null,next:null};if(iA(f))sA(h,I);else{oA(f,h,I);var O=f.alternate;if(f.lanes===0&&(O===null||O.lanes===0)&&(O=h.lastRenderedReducer,O!==null))try{var Q=h.lastRenderedState,de=O(Q,b);if(I.hasEagerState=!0,I.eagerState=de,Hs(de,Q))return}catch{}finally{}b=zr(),f=Gi(f,L,b),f!==null&&aA(f,h,L)}}function iA(f){var h=f.alternate;return f===Ln||h!==null&&h===Ln}function sA(f,h){Jf=Vp=!0;var b=f.pending;b===null?h.next=h:(h.next=b.next,b.next=h),f.pending=h}function oA(f,h,b){Gn!==null&&f.mode&1&&!(Pt&2)?(f=h.interleaved,f===null?(b.next=b,Vs===null?Vs=[h]:Vs.push(h)):(b.next=f.next,f.next=b),h.interleaved=b):(f=h.pending,f===null?b.next=b:(b.next=f.next,f.next=b),h.pending=b)}function aA(f,h,b){if(b&4194240){var L=h.lanes;L&=f.pendingLanes,b|=L,h.lanes=b,vy(f,b)}}var Kp={readContext:Fi,useCallback:Mr,useContext:Mr,useEffect:Mr,useImperativeHandle:Mr,useInsertionEffect:Mr,useLayoutEffect:Mr,useMemo:Mr,useReducer:Mr,useRef:Mr,useState:Mr,useDebugValue:Mr,useDeferredValue:Mr,useTransition:Mr,useMutableSource:Mr,useSyncExternalStore:Mr,useId:Mr,unstable_isNewReconciler:!1},lU={readContext:Fi,useCallback:function(f,h){return yo().memoizedState=[f,h===void 0?null:h],f},useContext:Fi,useEffect:Gy,useImperativeHandle:function(f,h,b){return b=b!=null?b.concat([f]):null,$p(4194308,4,qE.bind(null,h,f),b)},useLayoutEffect:function(f,h){return $p(4194308,4,f,h)},useInsertionEffect:function(f,h){return $p(4,2,f,h)},useMemo:function(f,h){var b=yo();return h=h===void 0?null:h,f=f(),b.memoizedState=[f,h],f},useReducer:function(f,h,b){var L=yo();return h=b!==void 0?b(h):h,L.memoizedState=L.baseState=h,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:h},L.queue=f,f=f.dispatch=oU.bind(null,Ln,f),[L.memoizedState,f]},useRef:function(f){var h=yo();return f={current:f},h.memoizedState=f},useState:Hy,useDebugValue:Vy,useDeferredValue:function(f){var h=Hy(f),b=h[0],L=h[1];return Gy(function(){var I=Hi.transition;Hi.transition={};try{L(f)}finally{Hi.transition=I}},[f]),b},useTransition:function(){var f=Hy(!1),h=f[0];return f=sU.bind(null,f[1]),yo().memoizedState=f,[h,f]},useMutableSource:function(){},useSyncExternalStore:function(f,h,b){var L=Ln,I=yo();if(xn){if(b===void 0)throw Error(o(407));b=b()}else{if(b=h(),Gn===null)throw Error(o(349));Tu&30||$E(L,h,b)}I.memoizedState=b;var O={value:b,getSnapshot:h};return I.queue=O,Gy(KE.bind(null,L,O,f),[f]),L.flags|=2048,Xf(9,JE.bind(null,L,O,b,h),void 0,null),b},useId:function(){var f=yo(),h=Gn.identifierPrefix;if(xn){var b=vo,L=go;b=(L&~(1<<32-fs(L)-1)).toString(32)+b,h=":"+h+"R"+b,b=Kf++,0<b&&(h+="H"+b.toString(32)),h+=":"}else b=iU++,h=":"+h+"r"+b.toString(32)+":";return f.memoizedState=h},unstable_isNewReconciler:!1},uU={readContext:Fi,useCallback:tA,useContext:Fi,useEffect:Yf,useImperativeHandle:eA,useInsertionEffect:QE,useLayoutEffect:ZE,useMemo:nA,useReducer:jp,useRef:YE,useState:function(){return jp(ul)},useDebugValue:Vy,useDeferredValue:function(f){var h=jp(ul),b=h[0],L=h[1];return Yf(function(){var I=Hi.transition;Hi.transition={};try{L(f)}finally{Hi.transition=I}},[f]),b},useTransition:function(){var f=jp(ul)[0],h=Ws().memoizedState;return[f,h]},useMutableSource:jE,useSyncExternalStore:WE,useId:rA,unstable_isNewReconciler:!1},cU={readContext:Fi,useCallback:tA,useContext:Fi,useEffect:Yf,useImperativeHandle:eA,useInsertionEffect:QE,useLayoutEffect:ZE,useMemo:nA,useReducer:Wp,useRef:YE,useState:function(){return Wp(ul)},useDebugValue:Vy,useDeferredValue:function(f){var h=Wp(ul),b=h[0],L=h[1];return Yf(function(){var I=Hi.transition;Hi.transition={};try{L(f)}finally{Hi.transition=I}},[f]),b},useTransition:function(){var f=Wp(ul)[0],h=Ws().memoizedState;return[f,h]},useMutableSource:jE,useSyncExternalStore:WE,useId:rA,unstable_isNewReconciler:!1};function jy(f,h){try{var b="",L=h;do b+=rU(L),L=L.return;while(L);var I=b}catch(O){I=`
Error generating stack: `+O.message+`
`+O.stack}return{value:f,source:h,stack:I}}function Wy(f,h){try{console.error(h.value)}catch(b){setTimeout(function(){throw b})}}var fU=typeof WeakMap=="function"?WeakMap:Map;function lA(f,h,b){b=mo(-1,b),b.tag=3,b.payload={element:null};var L=h.value;return b.callback=function(){cm||(cm=!0,u1=L),Wy(f,h)},b}function uA(f,h,b){b=mo(-1,b),b.tag=3;var L=f.type.getDerivedStateFromError;if(typeof L=="function"){var I=h.value;b.payload=function(){return L(I)},b.callback=function(){Wy(f,h)}}var O=f.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(b.callback=function(){Wy(f,h),typeof L!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var Q=h.stack;this.componentDidCatch(h.value,{componentStack:Q!==null?Q:""})}),b}function cA(f,h,b){var L=f.pingCache;if(L===null){L=f.pingCache=new fU;var I=new Set;L.set(h,I)}else I=L.get(h),I===void 0&&(I=new Set,L.set(h,I));I.has(b)||(I.add(b),f=EU.bind(null,f,h,b),h.then(f,f))}function fA(f){do{var h;if((h=f.tag===13)&&(h=f.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return f;f=f.return}while(f!==null);return null}function dA(f,h,b,L,I){return f.mode&1?(f.flags|=65536,f.lanes=I,f):(f===h?f.flags|=65536:(f.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(h=mo(-1,1),h.tag=2,ca(b,h))),b.lanes|=1),f)}function $s(f){f.flags|=4}function hA(f,h){if(f!==null&&f.child===h.child)return!0;if(h.flags&16)return!1;for(f=h.child;f!==null;){if(f.flags&12854||f.subtreeFlags&12854)return!1;f=f.sibling}return!0}var Qf,Zf,Xp,Yp;if(Y)Qf=function(f,h){for(var b=h.child;b!==null;){if(b.tag===5||b.tag===6)oe(f,b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===h)break;for(;b.sibling===null;){if(b.return===null||b.return===h)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},Zf=function(){},Xp=function(f,h,b,L,I){if(f=f.memoizedProps,f!==L){var O=h.stateNode,Q=js(zi.current);b=q(O,b,f,L,I,Q),(h.updateQueue=b)&&$s(h)}},Yp=function(f,h,b,L){b!==L&&$s(h)};else if(ae){Qf=function(f,h,b,L){for(var I=h.child;I!==null;){if(I.tag===5){var O=I.stateNode;b&&L&&(O=Qt(O,I.type,I.memoizedProps,I)),oe(f,O)}else if(I.tag===6)O=I.stateNode,b&&L&&(O=hn(O,I.memoizedProps,I)),oe(f,O);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)O=I.child,O!==null&&(O.return=I),Qf(f,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===h)break;for(;I.sibling===null;){if(I.return===null||I.return===h)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};var pA=function(f,h,b,L){for(var I=h.child;I!==null;){if(I.tag===5){var O=I.stateNode;b&&L&&(O=Qt(O,I.type,I.memoizedProps,I)),Ht(f,O)}else if(I.tag===6)O=I.stateNode,b&&L&&(O=hn(O,I.memoizedProps,I)),Ht(f,O);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)O=I.child,O!==null&&(O.return=I),pA(f,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===h)break;for(;I.sibling===null;){if(I.return===null||I.return===h)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};Zf=function(f,h){var b=h.stateNode;if(!hA(f,h)){f=b.containerInfo;var L=Ct(f);pA(L,h,!1,!1),b.pendingChildren=L,$s(h),en(f,L)}},Xp=function(f,h,b,L,I){var O=f.stateNode,Q=f.memoizedProps;if((f=hA(f,h))&&Q===L)h.stateNode=O;else{var de=h.stateNode,be=js(zi.current),He=null;Q!==L&&(He=q(de,b,Q,L,I,be)),f&&He===null?h.stateNode=O:(O=Xe(O,He,b,Q,L,h,f,de),re(O,b,L,I,be)&&$s(h),h.stateNode=O,f?$s(h):Qf(O,h,!1,!1))}},Yp=function(f,h,b,L){b!==L?(f=js(Au.current),b=js(zi.current),h.stateNode=xe(L,f,b,h),$s(h)):h.stateNode=f.stateNode}}else Zf=function(){},Xp=function(){},Yp=function(){};function qf(f,h){if(!xn)switch(f.tailMode){case"hidden":h=f.tail;for(var b=null;h!==null;)h.alternate!==null&&(b=h),h=h.sibling;b===null?f.tail=null:b.sibling=null;break;case"collapsed":b=f.tail;for(var L=null;b!==null;)b.alternate!==null&&(L=b),b=b.sibling;L===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:L.sibling=null}}function Er(f){var h=f.alternate!==null&&f.alternate.child===f.child,b=0,L=0;if(h)for(var I=f.child;I!==null;)b|=I.lanes|I.childLanes,L|=I.subtreeFlags&14680064,L|=I.flags&14680064,I.return=f,I=I.sibling;else for(I=f.child;I!==null;)b|=I.lanes|I.childLanes,L|=I.subtreeFlags,L|=I.flags,I.return=f,I=I.sibling;return f.subtreeFlags|=L,f.childLanes=b,h}function dU(f,h,b){var L=h.pendingProps;switch(Py(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(h),null;case 1:return mr(h.type)&&Ep(),Er(h),null;case 3:return L=h.stateNode,Cu(),tn(sn),tn(Hn),Fy(),L.pendingContext&&(L.context=L.pendingContext,L.pendingContext=null),(f===null||f.child===null)&&(Vf(h)?$s(h):f===null||f.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,hs!==null&&(d1(hs),hs=null))),Zf(f,h),Er(h),null;case 5:Oy(h),b=js(Au.current);var I=h.type;if(f!==null&&h.stateNode!=null)Xp(f,h,I,L,b),f.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!L){if(h.stateNode===null)throw Error(o(166));return Er(h),null}if(f=js(zi.current),Vf(h)){if(!te)throw Error(o(175));f=Te(h.stateNode,h.type,h.memoizedProps,b,f,h,!Gf),h.updateQueue=f,f!==null&&$s(h)}else{var O=ce(I,L,b,f,h);Qf(O,h,!1,!1),h.stateNode=O,re(O,I,L,b,f)&&$s(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Er(h),null;case 6:if(f&&h.stateNode!=null)Yp(f,h,f.memoizedProps,L);else{if(typeof L!="string"&&h.stateNode===null)throw Error(o(166));if(f=js(Au.current),b=js(zi.current),Vf(h)){if(!te)throw Error(o(176));if(f=h.stateNode,L=h.memoizedProps,(b=lt(f,L,h,!Gf))&&(I=vi,I!==null))switch(O=(I.mode&1)!==0,I.tag){case 3:pr(I.stateNode.containerInfo,f,L,O);break;case 5:gi(I.type,I.memoizedProps,I.stateNode,f,L,O)}b&&$s(h)}else h.stateNode=xe(L,f,b,h)}return Er(h),null;case 13:if(tn(Sn),L=h.memoizedState,xn&&yi!==null&&h.mode&1&&!(h.flags&128)){for(f=yi;f;)f=K(f);return Mu(),h.flags|=98560,h}if(L!==null&&L.dehydrated!==null){if(L=Vf(h),f===null){if(!L)throw Error(o(318));if(!te)throw Error(o(344));if(f=h.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));dt(f,h)}else Mu(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return Er(h),null}return hs!==null&&(d1(hs),hs=null),h.flags&128?(h.lanes=b,h):(L=L!==null,b=!1,f===null?Vf(h):b=f.memoizedState!==null,L&&!b&&(h.child.flags|=8192,h.mode&1&&(f===null||Sn.current&1?Yn===0&&(Yn=3):p1())),h.updateQueue!==null&&(h.flags|=4),Er(h),null);case 4:return Cu(),Zf(f,h),f===null&&Re(h.stateNode.containerInfo),Er(h),null;case 10:return My(h.type._context),Er(h),null;case 17:return mr(h.type)&&Ep(),Er(h),null;case 19:if(tn(Sn),I=h.memoizedState,I===null)return Er(h),null;if(L=(h.flags&128)!==0,O=I.rendering,O===null)if(L)qf(I,!1);else{if(Yn!==0||f!==null&&f.flags&128)for(f=h.child;f!==null;){if(O=Hp(f),O!==null){for(h.flags|=128,qf(I,!1),f=O.updateQueue,f!==null&&(h.updateQueue=f,h.flags|=4),h.subtreeFlags=0,f=b,L=h.child;L!==null;)b=L,I=f,b.flags&=14680066,O=b.alternate,O===null?(b.childLanes=0,b.lanes=I,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=O.childLanes,b.lanes=O.lanes,b.child=O.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=O.memoizedProps,b.memoizedState=O.memoizedState,b.updateQueue=O.updateQueue,b.type=O.type,I=O.dependencies,b.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext}),L=L.sibling;return _t(Sn,Sn.current&1|2),h.child}f=f.sibling}I.tail!==null&&or()>l1&&(h.flags|=128,L=!0,qf(I,!1),h.lanes=4194304)}else{if(!L)if(f=Hp(O),f!==null){if(h.flags|=128,L=!0,f=f.updateQueue,f!==null&&(h.updateQueue=f,h.flags|=4),qf(I,!0),I.tail===null&&I.tailMode==="hidden"&&!O.alternate&&!xn)return Er(h),null}else 2*or()-I.renderingStartTime>l1&&b!==1073741824&&(h.flags|=128,L=!0,qf(I,!1),h.lanes=4194304);I.isBackwards?(O.sibling=h.child,h.child=O):(f=I.last,f!==null?f.sibling=O:h.child=O,I.last=O)}return I.tail!==null?(h=I.tail,I.rendering=h,I.tail=h.sibling,I.renderingStartTime=or(),h.sibling=null,f=Sn.current,_t(Sn,L?f&1|2:f&1),h):(Er(h),null);case 22:case 23:return h1(),L=h.memoizedState!==null,f!==null&&f.memoizedState!==null!==L&&(h.flags|=8192),L&&h.mode&1?_i&1073741824&&(Er(h),Y&&h.subtreeFlags&6&&(h.flags|=8192)):Er(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var hU=a.ReactCurrentOwner,xi=!1;function Ur(f,h,b,L){h.child=f===null?GE(h,null,b,L):Eu(h,f.child,b,L)}function mA(f,h,b,L,I){b=b.render;var O=h.ref;return Su(h,I),L=Uy(f,h,b,L,O,I),b=zy(),f!==null&&!xi?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~I,xo(f,h,I)):(xn&&b&&Ly(h),h.flags|=1,Ur(f,h,L,I),h.child)}function gA(f,h,b,L,I){if(f===null){var O=b.type;return typeof O=="function"&&!m1(O)&&O.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(h.tag=15,h.type=O,vA(f,h,O,L,I)):(f=vm(b.type,null,L,h,h.mode,I),f.ref=h.ref,f.return=h,h.child=f)}if(O=f.child,!(f.lanes&I)){var Q=O.memoizedProps;if(b=b.compare,b=b!==null?b:Ip,b(Q,L)&&f.ref===h.ref)return xo(f,h,I)}return h.flags|=1,f=ma(O,L),f.ref=h.ref,f.return=h,h.child=f}function vA(f,h,b,L,I){if(f!==null&&Ip(f.memoizedProps,L)&&f.ref===h.ref)if(xi=!1,(f.lanes&I)!==0)f.flags&131072&&(xi=!0);else return h.lanes=f.lanes,xo(f,h,I);return $y(f,h,b,L,I)}function yA(f,h,b){var L=h.pendingProps,I=L.children,O=f!==null?f.memoizedState:null;if(L.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},_t(Lu,_i),_i|=b;else if(b&1073741824)h.memoizedState={baseLanes:0,cachePool:null},L=O!==null?O.baseLanes:b,_t(Lu,_i),_i|=L;else return f=O!==null?O.baseLanes|b:b,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:f,cachePool:null},h.updateQueue=null,_t(Lu,_i),_i|=f,null;else O!==null?(L=O.baseLanes|b,h.memoizedState=null):L=b,_t(Lu,_i),_i|=L;return Ur(f,h,I,b),h.child}function xA(f,h){var b=h.ref;(f===null&&b!==null||f!==null&&f.ref!==b)&&(h.flags|=512,h.flags|=2097152)}function $y(f,h,b,L,I){var O=mr(b)?cs:Hn.current;return O=la(h,O),Su(h,I),b=Uy(f,h,b,L,O,I),L=zy(),f!==null&&!xi?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~I,xo(f,h,I)):(xn&&L&&Ly(h),h.flags|=1,Ur(f,h,b,I),h.child)}function _A(f,h,b,L,I){if(mr(b)){var O=!0;Ap(h)}else O=!1;if(Su(h,I),h.stateNode===null)f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),DE(h,b,L),Ty(h,b,L,I),L=!0;else if(f===null){var Q=h.stateNode,de=h.memoizedProps;Q.props=de;var be=Q.context,He=b.contextType;typeof He=="object"&&He!==null?He=Fi(He):(He=mr(b)?cs:Hn.current,He=la(h,He));var tt=b.getDerivedStateFromProps,gt=typeof tt=="function"||typeof Q.getSnapshotBeforeUpdate=="function";gt||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(de!==L||be!==He)&&OE(h,Q,L,He),ua=!1;var ut=h.memoizedState;Q.state=ut,kp(h,L,Q,I),be=h.memoizedState,de!==L||ut!==be||sn.current||ua?(typeof tt=="function"&&(Cy(h,b,tt,L),be=h.memoizedState),(de=ua||BE(h,b,de,L,ut,be,He))?(gt||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount()),typeof Q.componentDidMount=="function"&&(h.flags|=4194308)):(typeof Q.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=L,h.memoizedState=be),Q.props=L,Q.state=be,Q.context=He,L=de):(typeof Q.componentDidMount=="function"&&(h.flags|=4194308),L=!1)}else{Q=h.stateNode,LE(f,h),de=h.memoizedProps,He=h.type===h.elementType?de:ds(h.type,de),Q.props=He,gt=h.pendingProps,ut=Q.context,be=b.contextType,typeof be=="object"&&be!==null?be=Fi(be):(be=mr(b)?cs:Hn.current,be=la(h,be));var an=b.getDerivedStateFromProps;(tt=typeof an=="function"||typeof Q.getSnapshotBeforeUpdate=="function")||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(de!==gt||ut!==be)&&OE(h,Q,L,be),ua=!1,ut=h.memoizedState,Q.state=ut,kp(h,L,Q,I);var at=h.memoizedState;de!==gt||ut!==at||sn.current||ua?(typeof an=="function"&&(Cy(h,b,an,L),at=h.memoizedState),(He=ua||BE(h,b,He,L,ut,at,be)||!1)?(tt||typeof Q.UNSAFE_componentWillUpdate!="function"&&typeof Q.componentWillUpdate!="function"||(typeof Q.componentWillUpdate=="function"&&Q.componentWillUpdate(L,at,be),typeof Q.UNSAFE_componentWillUpdate=="function"&&Q.UNSAFE_componentWillUpdate(L,at,be)),typeof Q.componentDidUpdate=="function"&&(h.flags|=4),typeof Q.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof Q.componentDidUpdate!="function"||de===f.memoizedProps&&ut===f.memoizedState||(h.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||de===f.memoizedProps&&ut===f.memoizedState||(h.flags|=1024),h.memoizedProps=L,h.memoizedState=at),Q.props=L,Q.state=at,Q.context=be,L=He):(typeof Q.componentDidUpdate!="function"||de===f.memoizedProps&&ut===f.memoizedState||(h.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||de===f.memoizedProps&&ut===f.memoizedState||(h.flags|=1024),L=!1)}return Jy(f,h,b,L,O,I)}function Jy(f,h,b,L,I,O){xA(f,h);var Q=(h.flags&128)!==0;if(!L&&!Q)return I&&ME(h,b,!1),xo(f,h,O);L=h.stateNode,hU.current=h;var de=Q&&typeof b.getDerivedStateFromError!="function"?null:L.render();return h.flags|=1,f!==null&&Q?(h.child=Eu(h,f.child,null,O),h.child=Eu(h,null,de,O)):Ur(f,h,de,O),h.memoizedState=L.state,I&&ME(h,b,!0),h.child}function SA(f){var h=f.stateNode;h.pendingContext?wE(f,h.pendingContext,h.pendingContext!==h.context):h.context&&wE(f,h.context,!1),Dy(f,h.containerInfo)}function wA(f,h,b,L,I){return Mu(),By(I),h.flags|=256,Ur(f,h,b,L),h.child}var Qp={dehydrated:null,treeContext:null,retryLane:0};function Zp(f){return{baseLanes:f,cachePool:null}}function bA(f,h,b){var L=h.pendingProps,I=Sn.current,O=!1,Q=(h.flags&128)!==0,de;if((de=Q)||(de=f!==null&&f.memoizedState===null?!1:(I&2)!==0),de?(O=!0,h.flags&=-129):(f===null||f.memoizedState!==null)&&(I|=1),_t(Sn,I&1),f===null)return Iy(h),f=h.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(h.mode&1?sl(f)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(I=L.children,f=L.fallback,O?(L=h.mode,O=h.child,I={mode:"hidden",children:I},!(L&1)&&O!==null?(O.childLanes=0,O.pendingProps=I):O=ym(I,L,0,null),f=ml(f,L,b,null),O.return=h,f.return=h,O.sibling=f,h.child=O,h.child.memoizedState=Zp(b),h.memoizedState=Qp,f):Ky(h,I));if(I=f.memoizedState,I!==null){if(de=I.dehydrated,de!==null){if(Q)return h.flags&256?(h.flags&=-257,qp(f,h,b,Error(o(422)))):h.memoizedState!==null?(h.child=f.child,h.flags|=128,null):(O=L.fallback,I=h.mode,L=ym({mode:"visible",children:L.children},I,0,null),O=ml(O,I,b,null),O.flags|=2,L.return=h,O.return=h,L.sibling=O,h.child=L,h.mode&1&&Eu(h,f.child,null,b),h.child.memoizedState=Zp(b),h.memoizedState=Qp,O);if(!(h.mode&1))h=qp(f,h,b,null);else if(sl(de))h=qp(f,h,b,Error(o(419)));else if(L=(b&f.childLanes)!==0,xi||L){if(L=Gn,L!==null){switch(b&-b){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}L=O&(L.suspendedLanes|b)?0:O,L!==0&&L!==I.retryLane&&(I.retryLane=L,Gi(f,L,-1))}p1(),h=qp(f,h,b,Error(o(421)))}else Us(de)?(h.flags|=128,h.child=f.child,h=AU.bind(null,f),Uf(de,h),h=null):(b=I.treeContext,te&&(yi=ge(de),vi=h,xn=!0,hs=null,Gf=!1,b!==null&&(Ni[Ui++]=go,Ni[Ui++]=vo,Ni[Ui++]=al,go=b.id,vo=b.overflow,al=h)),h=Ky(h,h.pendingProps.children),h.flags|=4096);return h}return O?(L=EA(f,h,L.children,L.fallback,b),O=h.child,I=f.child.memoizedState,O.memoizedState=I===null?Zp(b):{baseLanes:I.baseLanes|b,cachePool:null},O.childLanes=f.childLanes&~b,h.memoizedState=Qp,L):(b=MA(f,h,L.children,b),h.memoizedState=null,b)}return O?(L=EA(f,h,L.children,L.fallback,b),O=h.child,I=f.child.memoizedState,O.memoizedState=I===null?Zp(b):{baseLanes:I.baseLanes|b,cachePool:null},O.childLanes=f.childLanes&~b,h.memoizedState=Qp,L):(b=MA(f,h,L.children,b),h.memoizedState=null,b)}function Ky(f,h){return h=ym({mode:"visible",children:h},f.mode,0,null),h.return=f,f.child=h}function MA(f,h,b,L){var I=f.child;return f=I.sibling,b=ma(I,{mode:"visible",children:b}),!(h.mode&1)&&(b.lanes=L),b.return=h,b.sibling=null,f!==null&&(L=h.deletions,L===null?(h.deletions=[f],h.flags|=16):L.push(f)),h.child=b}function EA(f,h,b,L,I){var O=h.mode;f=f.child;var Q=f.sibling,de={mode:"hidden",children:b};return!(O&1)&&h.child!==f?(b=h.child,b.childLanes=0,b.pendingProps=de,h.deletions=null):(b=ma(f,de),b.subtreeFlags=f.subtreeFlags&14680064),Q!==null?L=ma(Q,L):(L=ml(L,O,I,null),L.flags|=2),L.return=h,b.return=h,b.sibling=L,h.child=b,L}function qp(f,h,b,L){return L!==null&&By(L),Eu(h,f.child,null,b),f=Ky(h,h.pendingProps.children),f.flags|=2,h.memoizedState=null,f}function AA(f,h,b){f.lanes|=h;var L=f.alternate;L!==null&&(L.lanes|=h),Ey(f.return,h,b)}function Xy(f,h,b,L,I){var O=f.memoizedState;O===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:L,tail:b,tailMode:I}:(O.isBackwards=h,O.rendering=null,O.renderingStartTime=0,O.last=L,O.tail=b,O.tailMode=I)}function CA(f,h,b){var L=h.pendingProps,I=L.revealOrder,O=L.tail;if(Ur(f,h,L.children,b),L=Sn.current,L&2)L=L&1|2,h.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&AA(f,b,h);else if(f.tag===19)AA(f,b,h);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}L&=1}if(_t(Sn,L),!(h.mode&1))h.memoizedState=null;else switch(I){case"forwards":for(b=h.child,I=null;b!==null;)f=b.alternate,f!==null&&Hp(f)===null&&(I=b),b=b.sibling;b=I,b===null?(I=h.child,h.child=null):(I=b.sibling,b.sibling=null),Xy(h,!1,I,b,O);break;case"backwards":for(b=null,I=h.child,h.child=null;I!==null;){if(f=I.alternate,f!==null&&Hp(f)===null){h.child=I;break}f=I.sibling,I.sibling=b,b=I,I=f}Xy(h,!0,b,null,O);break;case"together":Xy(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function xo(f,h,b){if(f!==null&&(h.dependencies=f.dependencies),Pu|=h.lanes,!(b&h.childLanes))return null;if(f!==null&&h.child!==f.child)throw Error(o(153));if(h.child!==null){for(f=h.child,b=ma(f,f.pendingProps),h.child=b,b.return=h;f.sibling!==null;)f=f.sibling,b=b.sibling=ma(f,f.pendingProps),b.return=h;b.sibling=null}return h.child}function pU(f,h,b){switch(h.tag){case 3:SA(h),Mu();break;case 5:VE(h);break;case 1:mr(h.type)&&Ap(h);break;case 4:Dy(h,h.stateNode.containerInfo);break;case 10:TE(h,h.type._context,h.memoizedProps.value);break;case 13:var L=h.memoizedState;if(L!==null)return L.dehydrated!==null?(_t(Sn,Sn.current&1),h.flags|=128,null):b&h.child.childLanes?bA(f,h,b):(_t(Sn,Sn.current&1),f=xo(f,h,b),f!==null?f.sibling:null);_t(Sn,Sn.current&1);break;case 19:if(L=(b&h.childLanes)!==0,f.flags&128){if(L)return CA(f,h,b);h.flags|=128}var I=h.memoizedState;if(I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),_t(Sn,Sn.current),L)break;return null;case 22:case 23:return h.lanes=0,yA(f,h,b)}return xo(f,h,b)}function mU(f,h){switch(Py(h),h.tag){case 1:return mr(h.type)&&Ep(),f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 3:return Cu(),tn(sn),tn(Hn),Fy(),f=h.flags,f&65536&&!(f&128)?(h.flags=f&-65537|128,h):null;case 5:return Oy(h),null;case 13:if(tn(Sn),f=h.memoizedState,f!==null&&f.dehydrated!==null){if(h.alternate===null)throw Error(o(340));Mu()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 19:return tn(Sn),null;case 4:return Cu(),null;case 10:return My(h.type._context),null;case 22:case 23:return h1(),null;case 24:return null;default:return null}}var em=!1,cl=!1,gU=typeof WeakSet=="function"?WeakSet:Set,Je=null;function tm(f,h){var b=f.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(L){ei(f,h,L)}else b.current=null}function Yy(f,h,b){try{b()}catch(L){ei(f,h,L)}}var TA=!1;function vU(f,h){for(W(f.containerInfo),Je=h;Je!==null;)if(f=Je,h=f.child,(f.subtreeFlags&1028)!==0&&h!==null)h.return=f,Je=h;else for(;Je!==null;){f=Je;try{var b=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var L=b.memoizedProps,I=b.memoizedState,O=f.stateNode,Q=O.getSnapshotBeforeUpdate(f.elementType===f.type?L:ds(f.type,L),I);O.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:Y&&Fe(f.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(de){ei(f,f.return,de)}if(h=f.sibling,h!==null){h.return=f.return,Je=h;break}Je=f.return}return b=TA,TA=!1,b}function fl(f,h,b){var L=h.updateQueue;if(L=L!==null?L.lastEffect:null,L!==null){var I=L=L.next;do{if((I.tag&f)===f){var O=I.destroy;I.destroy=void 0,O!==void 0&&Yy(h,b,O)}I=I.next}while(I!==L)}}function ed(f,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var b=h=h.next;do{if((b.tag&f)===f){var L=b.create;b.destroy=L()}b=b.next}while(b!==h)}}function Qy(f){var h=f.ref;if(h!==null){var b=f.stateNode;switch(f.tag){case 5:f=$(b);break;default:f=b}typeof h=="function"?h(f):h.current=f}}function LA(f,h,b){if(zs&&typeof zs.onCommitFiberUnmount=="function")try{zs.onCommitFiberUnmount(Pp,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(f=h.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var L=f=f.next;do{var I=L,O=I.destroy;I=I.tag,O!==void 0&&(I&2||I&4)&&Yy(h,b,O),L=L.next}while(L!==f)}break;case 1:if(tm(h,b),f=h.stateNode,typeof f.componentWillUnmount=="function")try{f.props=h.memoizedProps,f.state=h.memoizedState,f.componentWillUnmount()}catch(Q){ei(h,b,Q)}break;case 5:tm(h,b);break;case 4:Y?OA(f,h,b):ae&&ae&&(h=h.stateNode.containerInfo,b=Ct(h),On(h,b))}}function PA(f,h,b){for(var L=h;;)if(LA(f,L,b),L.child===null||Y&&L.tag===4){if(L===h)break;for(;L.sibling===null;){if(L.return===null||L.return===h)return;L=L.return}L.sibling.return=L.return,L=L.sibling}else L.child.return=L,L=L.child}function RA(f){var h=f.alternate;h!==null&&(f.alternate=null,RA(h)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(h=f.stateNode,h!==null&&Ve(h)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function IA(f){return f.tag===5||f.tag===3||f.tag===4}function BA(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||IA(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function DA(f){if(Y){e:{for(var h=f.return;h!==null;){if(IA(h))break e;h=h.return}throw Error(o(160))}var b=h;switch(b.tag){case 5:h=b.stateNode,b.flags&32&&(ze(h),b.flags&=-33),b=BA(f),qy(f,b,h);break;case 3:case 4:h=b.stateNode.containerInfo,b=BA(f),Zy(f,b,h);break;default:throw Error(o(161))}}}function Zy(f,h,b){var L=f.tag;if(L===5||L===6)f=f.stateNode,h?Ae(b,f,h):ue(b,f);else if(L!==4&&(f=f.child,f!==null))for(Zy(f,h,b),f=f.sibling;f!==null;)Zy(f,h,b),f=f.sibling}function qy(f,h,b){var L=f.tag;if(L===5||L===6)f=f.stateNode,h?Le(b,f,h):rt(b,f);else if(L!==4&&(f=f.child,f!==null))for(qy(f,h,b),f=f.sibling;f!==null;)qy(f,h,b),f=f.sibling}function OA(f,h,b){for(var L=h,I=!1,O,Q;;){if(!I){I=L.return;e:for(;;){if(I===null)throw Error(o(160));switch(O=I.stateNode,I.tag){case 5:Q=!1;break e;case 3:O=O.containerInfo,Q=!0;break e;case 4:O=O.containerInfo,Q=!0;break e}I=I.return}I=!0}if(L.tag===5||L.tag===6)PA(f,L,b),Q?Ue(O,L.stateNode):De(O,L.stateNode);else if(L.tag===18)Q?Rt(O,L.stateNode):Lt(O,L.stateNode);else if(L.tag===4){if(L.child!==null){O=L.stateNode.containerInfo,Q=!0,L.child.return=L,L=L.child;continue}}else if(LA(f,L,b),L.child!==null){L.child.return=L,L=L.child;continue}if(L===h)break;for(;L.sibling===null;){if(L.return===null||L.return===h)return;L=L.return,L.tag===4&&(I=!1)}L.sibling.return=L.return,L=L.sibling}}function e1(f,h){if(Y){switch(h.tag){case 0:case 11:case 14:case 15:fl(3,h,h.return),ed(3,h),fl(5,h,h.return);return;case 1:return;case 5:var b=h.stateNode;if(b!=null){var L=h.memoizedProps;f=f!==null?f.memoizedProps:L;var I=h.type,O=h.updateQueue;h.updateQueue=null,O!==null&&Ee(b,O,I,f,L,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));b=h.memoizedProps,ee(h.stateNode,f!==null?f.memoizedProps:b,b);return;case 3:te&&f!==null&&f.memoizedState.isDehydrated&&xt(h.stateNode.containerInfo);return;case 12:return;case 13:nm(h);return;case 19:nm(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:fl(3,h,h.return),ed(3,h),fl(5,h,h.return);return;case 12:return;case 13:nm(h);return;case 19:nm(h);return;case 3:te&&f!==null&&f.memoizedState.isDehydrated&&xt(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(ae){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,On(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function nm(f){var h=f.updateQueue;if(h!==null){f.updateQueue=null;var b=f.stateNode;b===null&&(b=f.stateNode=new gU),h.forEach(function(L){var I=CU.bind(null,f,L);b.has(L)||(b.add(L),L.then(I,I))})}}function yU(f,h){for(Je=h;Je!==null;){h=Je;var b=h.deletions;if(b!==null)for(var L=0;L<b.length;L++){var I=b[L];try{var O=f;Y?OA(O,I,h):PA(O,I,h);var Q=I.alternate;Q!==null&&(Q.return=null),I.return=null}catch(st){ei(I,h,st)}}if(b=h.child,h.subtreeFlags&12854&&b!==null)b.return=h,Je=b;else for(;Je!==null;){h=Je;try{var de=h.flags;if(de&32&&Y&&ze(h.stateNode),de&512){var be=h.alternate;if(be!==null){var He=be.ref;He!==null&&(typeof He=="function"?He(null):He.current=null)}}if(de&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var tt=h.alternate;(tt===null||tt.memoizedState===null)&&(a1=or())}break;case 22:var gt=h.memoizedState!==null,ut=h.alternate,an=ut!==null&&ut.memoizedState!==null;if(b=h,Y){e:if(L=b,I=gt,O=null,Y)for(var at=L;;){if(at.tag===5){if(O===null){O=at;var Ar=at.stateNode;I?ot(Ar):_e(at.stateNode,at.memoizedProps)}}else if(at.tag===6){if(O===null){var ji=at.stateNode;I?ie(ji):Pe(ji,at.memoizedProps)}}else if((at.tag!==22&&at.tag!==23||at.memoizedState===null||at===L)&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===L)break;for(;at.sibling===null;){if(at.return===null||at.return===L)break e;O===at&&(O=null),at=at.return}O===at&&(O=null),at.sibling.return=at.return,at=at.sibling}}if(gt&&!an&&b.mode&1){Je=b;for(var ye=b.child;ye!==null;){for(b=Je=ye;Je!==null;){L=Je;var he=L.child;switch(L.tag){case 0:case 11:case 14:case 15:fl(4,L,L.return);break;case 1:tm(L,L.return);var Se=L.stateNode;if(typeof Se.componentWillUnmount=="function"){var Qe=L.return;try{Se.props=L.memoizedProps,Se.state=L.memoizedState,Se.componentWillUnmount()}catch(st){ei(L,Qe,st)}}break;case 5:tm(L,L.return);break;case 22:if(L.memoizedState!==null){NA(b);continue}}he!==null?(he.return=L,Je=he):NA(b)}ye=ye.sibling}}}switch(de&4102){case 2:DA(h),h.flags&=-3;break;case 6:DA(h),h.flags&=-3,e1(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,e1(h.alternate,h);break;case 4:e1(h.alternate,h)}}catch(st){ei(h,h.return,st)}if(b=h.sibling,b!==null){b.return=h.return,Je=b;break}Je=h.return}}}function xU(f,h,b){Je=f,kA(f)}function kA(f,h,b){for(var L=(f.mode&1)!==0;Je!==null;){var I=Je,O=I.child;if(I.tag===22&&L){var Q=I.memoizedState!==null||em;if(!Q){var de=I.alternate,be=de!==null&&de.memoizedState!==null||cl;de=em;var He=cl;if(em=Q,(cl=be)&&!He)for(Je=I;Je!==null;)Q=Je,be=Q.child,Q.tag===22&&Q.memoizedState!==null?UA(I):be!==null?(be.return=Q,Je=be):UA(I);for(;O!==null;)Je=O,kA(O),O=O.sibling;Je=I,em=de,cl=He}FA(f)}else I.subtreeFlags&8772&&O!==null?(O.return=I,Je=O):FA(f)}}function FA(f){for(;Je!==null;){var h=Je;if(h.flags&8772){var b=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:cl||ed(5,h);break;case 1:var L=h.stateNode;if(h.flags&4&&!cl)if(b===null)L.componentDidMount();else{var I=h.elementType===h.type?b.memoizedProps:ds(h.type,b.memoizedProps);L.componentDidUpdate(I,b.memoizedState,L.__reactInternalSnapshotBeforeUpdate)}var O=h.updateQueue;O!==null&&RE(h,O,L);break;case 3:var Q=h.updateQueue;if(Q!==null){if(b=null,h.child!==null)switch(h.child.tag){case 5:b=$(h.child.stateNode);break;case 1:b=h.child.stateNode}RE(h,Q,b)}break;case 5:var de=h.stateNode;b===null&&h.flags&4&&me(de,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(te&&h.memoizedState===null){var be=h.alternate;if(be!==null){var He=be.memoizedState;if(He!==null){var tt=He.dehydrated;tt!==null&&Tt(tt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}cl||h.flags&512&&Qy(h)}catch(gt){ei(h,h.return,gt)}}if(h===f){Je=null;break}if(b=h.sibling,b!==null){b.return=h.return,Je=b;break}Je=h.return}}function NA(f){for(;Je!==null;){var h=Je;if(h===f){Je=null;break}var b=h.sibling;if(b!==null){b.return=h.return,Je=b;break}Je=h.return}}function UA(f){for(;Je!==null;){var h=Je;try{switch(h.tag){case 0:case 11:case 15:var b=h.return;try{ed(4,h)}catch(be){ei(h,b,be)}break;case 1:var L=h.stateNode;if(typeof L.componentDidMount=="function"){var I=h.return;try{L.componentDidMount()}catch(be){ei(h,I,be)}}var O=h.return;try{Qy(h)}catch(be){ei(h,O,be)}break;case 5:var Q=h.return;try{Qy(h)}catch(be){ei(h,Q,be)}}}catch(be){ei(h,h.return,be)}if(h===f){Je=null;break}var de=h.sibling;if(de!==null){de.return=h.return,Je=de;break}Je=h.return}}var rm=0,im=1,sm=2,om=3,am=4;if(typeof Symbol=="function"&&Symbol.for){var td=Symbol.for;rm=td("selector.component"),im=td("selector.has_pseudo_class"),sm=td("selector.role"),om=td("selector.test_id"),am=td("selector.text")}function t1(f){var h=le(f);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(f=et(f),f===null)throw Error(o(362));return f.stateNode.current}function n1(f,h){switch(h.$$typeof){case rm:if(f.type===h.value)return!0;break;case im:e:{h=h.value,f=[f,0];for(var b=0;b<f.length;){var L=f[b++],I=f[b++],O=h[I];if(L.tag!==5||!fe(L)){for(;O!=null&&n1(L,O);)I++,O=h[I];if(I===h.length){h=!0;break e}else for(L=L.child;L!==null;)f.push(L,I),L=L.sibling}}h=!1}return h;case sm:if(f.tag===5&&Ce(f.stateNode,h.value))return!0;break;case am:if((f.tag===5||f.tag===6)&&(f=z(f),f!==null&&0<=f.indexOf(h.value)))return!0;break;case om:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function r1(f){switch(f.$$typeof){case rm:return"<"+(R(f.value)||"Unknown")+">";case im:return":has("+(r1(f)||"")+")";case sm:return'[role="'+f.value+'"]';case am:return'"'+f.value+'"';case om:return'[data-testname="'+f.value+'"]';default:throw Error(o(365))}}function zA(f,h){var b=[];f=[f,0];for(var L=0;L<f.length;){var I=f[L++],O=f[L++],Q=h[O];if(I.tag!==5||!fe(I)){for(;Q!=null&&n1(I,Q);)O++,Q=h[O];if(O===h.length)b.push(I);else for(I=I.child;I!==null;)f.push(I,O),I=I.sibling}}return b}function i1(f,h){if(!Ze)throw Error(o(363));f=t1(f),f=zA(f,h),h=[],f=Array.from(f);for(var b=0;b<f.length;){var L=f[b++];if(L.tag===5)fe(L)||h.push(L.stateNode);else for(L=L.child;L!==null;)f.push(L),L=L.sibling}return h}var _U=Math.ceil,lm=a.ReactCurrentDispatcher,s1=a.ReactCurrentOwner,kn=a.ReactCurrentBatchConfig,Pt=0,Gn=null,Vn=null,gr=0,_i=0,Lu=Qr(0),Yn=0,nd=null,Pu=0,um=0,o1=0,rd=null,Zr=null,a1=0,l1=1/0;function Ru(){l1=or()+500}var cm=!1,u1=null,fa=null,fm=!1,da=null,dm=0,id=0,c1=null,hm=-1,pm=0;function zr(){return Pt&6?or():hm!==-1?hm:hm=or()}function ha(f){return f.mode&1?Pt&2&&gr!==0?gr&-gr:nU.transition!==null?(pm===0&&(f=Cp,Cp<<=1,!(Cp&4194240)&&(Cp=64),pm=f),pm):(f=Wt,f!==0?f:Ie()):1}function Gi(f,h,b){if(50<id)throw id=0,c1=null,Error(o(185));var L=mm(f,h);return L===null?null:(Hf(L,h,b),(!(Pt&2)||L!==Gn)&&(L===Gn&&(!(Pt&2)&&(um|=h),Yn===4&&pa(L,gr)),qr(L,b),h===1&&Pt===0&&!(f.mode&1)&&(Ru(),Rp&&Gs())),L)}function mm(f,h){f.lanes|=h;var b=f.alternate;for(b!==null&&(b.lanes|=h),b=f,f=f.return;f!==null;)f.childLanes|=h,b=f.alternate,b!==null&&(b.childLanes|=h),b=f,f=f.return;return b.tag===3?b.stateNode:null}function qr(f,h){var b=f.callbackNode;JN(f,h);var L=Lp(f,f===Gn?gr:0);if(L===0)b!==null&&AE(b),f.callbackNode=null,f.callbackPriority=0;else if(h=L&-L,f.callbackPriority!==h){if(b!=null&&AE(b),h===1)f.tag===0?tU(GA.bind(null,f)):CE(GA.bind(null,f)),Ke?We(function(){Pt===0&&Gs()}):yy(xy,Gs),b=null;else{switch(EE(L)){case 1:b=xy;break;case 4:b=QN;break;case 16:b=_y;break;case 536870912:b=ZN;break;default:b=_y}b=QA(b,HA.bind(null,f))}f.callbackPriority=h,f.callbackNode=b}}function HA(f,h){if(hm=-1,pm=0,Pt&6)throw Error(o(327));var b=f.callbackNode;if(pl()&&f.callbackNode!==b)return null;var L=Lp(f,f===Gn?gr:0);if(L===0)return null;if(L&30||L&f.expiredLanes||h)h=gm(f,L);else{h=L;var I=Pt;Pt|=2;var O=WA();(Gn!==f||gr!==h)&&(Ru(),dl(f,h));do try{bU();break}catch(de){jA(f,de)}while(1);by(),lm.current=O,Pt=I,Vn!==null?h=0:(Gn=null,gr=0,h=Yn)}if(h!==0){if(h===2&&(I=my(f),I!==0&&(L=I,h=f1(f,I))),h===1)throw b=nd,dl(f,0),pa(f,L),qr(f,or()),b;if(h===6)pa(f,L);else{if(I=f.current.alternate,!(L&30)&&!SU(I)&&(h=gm(f,L),h===2&&(O=my(f),O!==0&&(L=O,h=f1(f,O))),h===1))throw b=nd,dl(f,0),pa(f,L),qr(f,or()),b;switch(f.finishedWork=I,f.finishedLanes=L,h){case 0:case 1:throw Error(o(345));case 2:hl(f,Zr);break;case 3:if(pa(f,L),(L&130023424)===L&&(h=a1+500-or(),10<h)){if(Lp(f,0)!==0)break;if(I=f.suspendedLanes,(I&L)!==L){zr(),f.pingedLanes|=f.suspendedLanes&I;break}f.timeoutHandle=se(hl.bind(null,f,Zr),h);break}hl(f,Zr);break;case 4:if(pa(f,L),(L&4194240)===L)break;for(h=f.eventTimes,I=-1;0<L;){var Q=31-fs(L);O=1<<Q,Q=h[Q],Q>I&&(I=Q),L&=~O}if(L=I,L=or()-L,L=(120>L?120:480>L?480:1080>L?1080:1920>L?1920:3e3>L?3e3:4320>L?4320:1960*_U(L/1960))-L,10<L){f.timeoutHandle=se(hl.bind(null,f,Zr),L);break}hl(f,Zr);break;case 5:hl(f,Zr);break;default:throw Error(o(329))}}}return qr(f,or()),f.callbackNode===b?HA.bind(null,f):null}function f1(f,h){var b=rd;return f.current.memoizedState.isDehydrated&&(dl(f,h).flags|=256),f=gm(f,h),f!==2&&(h=Zr,Zr=b,h!==null&&d1(h)),f}function d1(f){Zr===null?Zr=f:Zr.push.apply(Zr,f)}function SU(f){for(var h=f;;){if(h.flags&16384){var b=h.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var L=0;L<b.length;L++){var I=b[L],O=I.getSnapshot;I=I.value;try{if(!Hs(O(),I))return!1}catch{return!1}}}if(b=h.child,h.subtreeFlags&16384&&b!==null)b.return=h,h=b;else{if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function pa(f,h){for(h&=~o1,h&=~um,f.suspendedLanes|=h,f.pingedLanes&=~h,f=f.expirationTimes;0<h;){var b=31-fs(h),L=1<<b;f[b]=-1,h&=~L}}function GA(f){if(Pt&6)throw Error(o(327));pl();var h=Lp(f,0);if(!(h&1))return qr(f,or()),null;var b=gm(f,h);if(f.tag!==0&&b===2){var L=my(f);L!==0&&(h=L,b=f1(f,L))}if(b===1)throw b=nd,dl(f,0),pa(f,h),qr(f,or()),b;if(b===6)throw Error(o(345));return f.finishedWork=f.current.alternate,f.finishedLanes=h,hl(f,Zr),qr(f,or()),null}function VA(f){da!==null&&da.tag===0&&!(Pt&6)&&pl();var h=Pt;Pt|=1;var b=kn.transition,L=Wt;try{if(kn.transition=null,Wt=1,f)return f()}finally{Wt=L,kn.transition=b,Pt=h,!(Pt&6)&&Gs()}}function h1(){_i=Lu.current,tn(Lu)}function dl(f,h){f.finishedWork=null,f.finishedLanes=0;var b=f.timeoutHandle;if(b!==N&&(f.timeoutHandle=N,pe(b)),Vn!==null)for(b=Vn.return;b!==null;){var L=b;switch(Py(L),L.tag){case 1:L=L.type.childContextTypes,L!=null&&Ep();break;case 3:Cu(),tn(sn),tn(Hn),Fy();break;case 5:Oy(L);break;case 4:Cu();break;case 13:tn(Sn);break;case 19:tn(Sn);break;case 10:My(L.type._context);break;case 22:case 23:h1()}b=b.return}if(Gn=f,Vn=f=ma(f.current,null),gr=_i=h,Yn=0,nd=null,o1=um=Pu=0,Zr=rd=null,Vs!==null){for(h=0;h<Vs.length;h++)if(b=Vs[h],L=b.interleaved,L!==null){b.interleaved=null;var I=L.next,O=b.pending;if(O!==null){var Q=O.next;O.next=I,L.next=Q}b.pending=L}Vs=null}return f}function jA(f,h){do{var b=Vn;try{if(by(),Gp.current=Kp,Vp){for(var L=Ln.memoizedState;L!==null;){var I=L.queue;I!==null&&(I.pending=null),L=L.next}Vp=!1}if(Tu=0,ar=br=Ln=null,Jf=!1,Kf=0,s1.current=null,b===null||b.return===null){Yn=1,nd=h,Vn=null;break}e:{var O=f,Q=b.return,de=b,be=h;if(h=gr,de.flags|=32768,be!==null&&typeof be=="object"&&typeof be.then=="function"){var He=be,tt=de,gt=tt.tag;if(!(tt.mode&1)&&(gt===0||gt===11||gt===15)){var ut=tt.alternate;ut?(tt.updateQueue=ut.updateQueue,tt.memoizedState=ut.memoizedState,tt.lanes=ut.lanes):(tt.updateQueue=null,tt.memoizedState=null)}var an=fA(Q);if(an!==null){an.flags&=-257,dA(an,Q,de,O,h),an.mode&1&&cA(O,He,h),h=an,be=He;var at=h.updateQueue;if(at===null){var Ar=new Set;Ar.add(be),h.updateQueue=Ar}else at.add(be);break e}else{if(!(h&1)){cA(O,He,h),p1();break e}be=Error(o(426))}}else if(xn&&de.mode&1){var ji=fA(Q);if(ji!==null){!(ji.flags&65536)&&(ji.flags|=256),dA(ji,Q,de,O,h),By(be);break e}}O=be,Yn!==4&&(Yn=2),rd===null?rd=[O]:rd.push(O),be=jy(be,de),de=Q;do{switch(de.tag){case 3:de.flags|=65536,h&=-h,de.lanes|=h;var ye=lA(de,be,h);PE(de,ye);break e;case 1:O=be;var he=de.type,Se=de.stateNode;if(!(de.flags&128)&&(typeof he.getDerivedStateFromError=="function"||Se!==null&&typeof Se.componentDidCatch=="function"&&(fa===null||!fa.has(Se)))){de.flags|=65536,h&=-h,de.lanes|=h;var Qe=uA(de,O,h);PE(de,Qe);break e}}de=de.return}while(de!==null)}JA(b)}catch(st){h=st,Vn===b&&b!==null&&(Vn=b=b.return);continue}break}while(1)}function WA(){var f=lm.current;return lm.current=Kp,f===null?Kp:f}function p1(){(Yn===0||Yn===3||Yn===2)&&(Yn=4),Gn===null||!(Pu&268435455)&&!(um&268435455)||pa(Gn,gr)}function gm(f,h){var b=Pt;Pt|=2;var L=WA();Gn===f&&gr===h||dl(f,h);do try{wU();break}catch(I){jA(f,I)}while(1);if(by(),Pt=b,lm.current=L,Vn!==null)throw Error(o(261));return Gn=null,gr=0,Yn}function wU(){for(;Vn!==null;)$A(Vn)}function bU(){for(;Vn!==null&&!XN();)$A(Vn)}function $A(f){var h=YA(f.alternate,f,_i);f.memoizedProps=f.pendingProps,h===null?JA(f):Vn=h,s1.current=null}function JA(f){var h=f;do{var b=h.alternate;if(f=h.return,h.flags&32768){if(b=mU(b,h),b!==null){b.flags&=32767,Vn=b;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{Yn=6,Vn=null;return}}else if(b=dU(b,h,_i),b!==null){Vn=b;return}if(h=h.sibling,h!==null){Vn=h;return}Vn=h=f}while(h!==null);Yn===0&&(Yn=5)}function hl(f,h){var b=Wt,L=kn.transition;try{kn.transition=null,Wt=1,MU(f,h,b)}finally{kn.transition=L,Wt=b}return null}function MU(f,h,b){do pl();while(da!==null);if(Pt&6)throw Error(o(327));var L=f.finishedWork,I=f.finishedLanes;if(L===null)return null;if(f.finishedWork=null,f.finishedLanes=0,L===f.current)throw Error(o(177));f.callbackNode=null,f.callbackPriority=0;var O=L.lanes|L.childLanes;if(KN(f,O),f===Gn&&(Vn=Gn=null,gr=0),!(L.subtreeFlags&2064)&&!(L.flags&2064)||fm||(fm=!0,QA(_y,function(){return pl(),null})),O=(L.flags&15990)!==0,L.subtreeFlags&15990||O){O=kn.transition,kn.transition=null;var Q=Wt;Wt=1;var de=Pt;Pt|=4,s1.current=null,vU(f,L),yU(f,L),V(f.containerInfo),f.current=L,xU(L),YN(),Pt=de,Wt=Q,kn.transition=O}else f.current=L;if(fm&&(fm=!1,da=f,dm=I),O=f.pendingLanes,O===0&&(fa=null),qN(L.stateNode),qr(f,or()),h!==null)for(b=f.onRecoverableError,L=0;L<h.length;L++)b(h[L]);if(cm)throw cm=!1,f=u1,u1=null,f;return dm&1&&f.tag!==0&&pl(),O=f.pendingLanes,O&1?f===c1?id++:(id=0,c1=f):id=0,Gs(),null}function pl(){if(da!==null){var f=EE(dm),h=kn.transition,b=Wt;try{if(kn.transition=null,Wt=16>f?16:f,da===null)var L=!1;else{if(f=da,da=null,dm=0,Pt&6)throw Error(o(331));var I=Pt;for(Pt|=4,Je=f.current;Je!==null;){var O=Je,Q=O.child;if(Je.flags&16){var de=O.deletions;if(de!==null){for(var be=0;be<de.length;be++){var He=de[be];for(Je=He;Je!==null;){var tt=Je;switch(tt.tag){case 0:case 11:case 15:fl(8,tt,O)}var gt=tt.child;if(gt!==null)gt.return=tt,Je=gt;else for(;Je!==null;){tt=Je;var ut=tt.sibling,an=tt.return;if(RA(tt),tt===He){Je=null;break}if(ut!==null){ut.return=an,Je=ut;break}Je=an}}}var at=O.alternate;if(at!==null){var Ar=at.child;if(Ar!==null){at.child=null;do{var ji=Ar.sibling;Ar.sibling=null,Ar=ji}while(Ar!==null)}}Je=O}}if(O.subtreeFlags&2064&&Q!==null)Q.return=O,Je=Q;else e:for(;Je!==null;){if(O=Je,O.flags&2048)switch(O.tag){case 0:case 11:case 15:fl(9,O,O.return)}var ye=O.sibling;if(ye!==null){ye.return=O.return,Je=ye;break e}Je=O.return}}var he=f.current;for(Je=he;Je!==null;){Q=Je;var Se=Q.child;if(Q.subtreeFlags&2064&&Se!==null)Se.return=Q,Je=Se;else e:for(Q=he;Je!==null;){if(de=Je,de.flags&2048)try{switch(de.tag){case 0:case 11:case 15:ed(9,de)}}catch(st){ei(de,de.return,st)}if(de===Q){Je=null;break e}var Qe=de.sibling;if(Qe!==null){Qe.return=de.return,Je=Qe;break e}Je=de.return}}if(Pt=I,Gs(),zs&&typeof zs.onPostCommitFiberRoot=="function")try{zs.onPostCommitFiberRoot(Pp,f)}catch{}L=!0}return L}finally{Wt=b,kn.transition=h}}return!1}function KA(f,h,b){h=jy(b,h),h=lA(f,h,1),ca(f,h),h=zr(),f=mm(f,1),f!==null&&(Hf(f,1,h),qr(f,h))}function ei(f,h,b){if(f.tag===3)KA(f,f,b);else for(;h!==null;){if(h.tag===3){KA(h,f,b);break}else if(h.tag===1){var L=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(fa===null||!fa.has(L))){f=jy(b,f),f=uA(h,f,1),ca(h,f),f=zr(),h=mm(h,1),h!==null&&(Hf(h,1,f),qr(h,f));break}}h=h.return}}function EU(f,h,b){var L=f.pingCache;L!==null&&L.delete(h),h=zr(),f.pingedLanes|=f.suspendedLanes&b,Gn===f&&(gr&b)===b&&(Yn===4||Yn===3&&(gr&130023424)===gr&&500>or()-a1?dl(f,0):o1|=b),qr(f,h)}function XA(f,h){h===0&&(f.mode&1?(h=Tp,Tp<<=1,!(Tp&130023424)&&(Tp=4194304)):h=1);var b=zr();f=mm(f,h),f!==null&&(Hf(f,h,b),qr(f,b))}function AU(f){var h=f.memoizedState,b=0;h!==null&&(b=h.retryLane),XA(f,b)}function CU(f,h){var b=0;switch(f.tag){case 13:var L=f.stateNode,I=f.memoizedState;I!==null&&(b=I.retryLane);break;case 19:L=f.stateNode;break;default:throw Error(o(314))}L!==null&&L.delete(h),XA(f,b)}var YA;YA=function(f,h,b){if(f!==null)if(f.memoizedProps!==h.pendingProps||sn.current)xi=!0;else{if(!(f.lanes&b)&&!(h.flags&128))return xi=!1,pU(f,h,b);xi=!!(f.flags&131072)}else xi=!1,xn&&h.flags&1048576&&kE(h,Up,h.index);switch(h.lanes=0,h.tag){case 2:var L=h.type;f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),f=h.pendingProps;var I=la(h,Hn.current);Su(h,b),I=Uy(null,h,L,f,I,b);var O=zy();return h.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,mr(L)?(O=!0,Ap(h)):O=!1,h.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,Ay(h),I.updater=Fp,h.stateNode=I,I._reactInternals=h,Ty(h,L,f,b),h=Jy(null,h,L,!0,O,b)):(h.tag=0,xn&&O&&Ly(h),Ur(null,h,I,b),h=h.child),h;case 16:L=h.elementType;e:{switch(f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),f=h.pendingProps,I=L._init,L=I(L._payload),h.type=L,I=h.tag=LU(L),f=ds(L,f),I){case 0:h=$y(null,h,L,f,b);break e;case 1:h=_A(null,h,L,f,b);break e;case 11:h=mA(null,h,L,f,b);break e;case 14:h=gA(null,h,L,ds(L.type,f),b);break e}throw Error(o(306,L,""))}return h;case 0:return L=h.type,I=h.pendingProps,I=h.elementType===L?I:ds(L,I),$y(f,h,L,I,b);case 1:return L=h.type,I=h.pendingProps,I=h.elementType===L?I:ds(L,I),_A(f,h,L,I,b);case 3:e:{if(SA(h),f===null)throw Error(o(387));L=h.pendingProps,O=h.memoizedState,I=O.element,LE(f,h),kp(h,L,null,b);var Q=h.memoizedState;if(L=Q.element,te&&O.isDehydrated)if(O={element:L,isDehydrated:!1,cache:Q.cache,transitions:Q.transitions},h.updateQueue.baseState=O,h.memoizedState=O,h.flags&256){I=Error(o(423)),h=wA(f,h,L,b,I);break e}else if(L!==I){I=Error(o(424)),h=wA(f,h,L,b,I);break e}else for(te&&(yi=Me(h.stateNode.containerInfo),vi=h,xn=!0,hs=null,Gf=!1),b=GE(h,null,L,b),h.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Mu(),L===I){h=xo(f,h,b);break e}Ur(f,h,L,b)}h=h.child}return h;case 5:return VE(h),f===null&&Iy(h),L=h.type,I=h.pendingProps,O=f!==null?f.memoizedProps:null,Q=I.children,we(L,I)?Q=null:O!==null&&we(L,O)&&(h.flags|=32),xA(f,h),Ur(f,h,Q,b),h.child;case 6:return f===null&&Iy(h),null;case 13:return bA(f,h,b);case 4:return Dy(h,h.stateNode.containerInfo),L=h.pendingProps,f===null?h.child=Eu(h,null,L,b):Ur(f,h,L,b),h.child;case 11:return L=h.type,I=h.pendingProps,I=h.elementType===L?I:ds(L,I),mA(f,h,L,I,b);case 7:return Ur(f,h,h.pendingProps,b),h.child;case 8:return Ur(f,h,h.pendingProps.children,b),h.child;case 12:return Ur(f,h,h.pendingProps.children,b),h.child;case 10:e:{if(L=h.type._context,I=h.pendingProps,O=h.memoizedProps,Q=I.value,TE(h,L,Q),O!==null)if(Hs(O.value,Q)){if(O.children===I.children&&!sn.current){h=xo(f,h,b);break e}}else for(O=h.child,O!==null&&(O.return=h);O!==null;){var de=O.dependencies;if(de!==null){Q=O.child;for(var be=de.firstContext;be!==null;){if(be.context===L){if(O.tag===1){be=mo(-1,b&-b),be.tag=2;var He=O.updateQueue;if(He!==null){He=He.shared;var tt=He.pending;tt===null?be.next=be:(be.next=tt.next,tt.next=be),He.pending=be}}O.lanes|=b,be=O.alternate,be!==null&&(be.lanes|=b),Ey(O.return,b,h),de.lanes|=b;break}be=be.next}}else if(O.tag===10)Q=O.type===h.type?null:O.child;else if(O.tag===18){if(Q=O.return,Q===null)throw Error(o(341));Q.lanes|=b,de=Q.alternate,de!==null&&(de.lanes|=b),Ey(Q,b,h),Q=O.sibling}else Q=O.child;if(Q!==null)Q.return=O;else for(Q=O;Q!==null;){if(Q===h){Q=null;break}if(O=Q.sibling,O!==null){O.return=Q.return,Q=O;break}Q=Q.return}O=Q}Ur(f,h,I.children,b),h=h.child}return h;case 9:return I=h.type,L=h.pendingProps.children,Su(h,b),I=Fi(I),L=L(I),h.flags|=1,Ur(f,h,L,b),h.child;case 14:return L=h.type,I=ds(L,h.pendingProps),I=ds(L.type,I),gA(f,h,L,I,b);case 15:return vA(f,h,h.type,h.pendingProps,b);case 17:return L=h.type,I=h.pendingProps,I=h.elementType===L?I:ds(L,I),f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,mr(L)?(f=!0,Ap(h)):f=!1,Su(h,b),DE(h,L,I),Ty(h,L,I,b),Jy(null,h,L,!0,f,b);case 19:return CA(f,h,b);case 22:return yA(f,h,b)}throw Error(o(156,h.tag))};function QA(f,h){return yy(f,h)}function TU(f,h,b,L){this.tag=f,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vi(f,h,b,L){return new TU(f,h,b,L)}function m1(f){return f=f.prototype,!(!f||!f.isReactComponent)}function LU(f){if(typeof f=="function")return m1(f)?1:0;if(f!=null){if(f=f.$$typeof,f===x)return 11;if(f===S)return 14}return 2}function ma(f,h){var b=f.alternate;return b===null?(b=Vi(f.tag,h,f.key,f.mode),b.elementType=f.elementType,b.type=f.type,b.stateNode=f.stateNode,b.alternate=f,f.alternate=b):(b.pendingProps=h,b.type=f.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=f.flags&14680064,b.childLanes=f.childLanes,b.lanes=f.lanes,b.child=f.child,b.memoizedProps=f.memoizedProps,b.memoizedState=f.memoizedState,b.updateQueue=f.updateQueue,h=f.dependencies,b.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},b.sibling=f.sibling,b.index=f.index,b.ref=f.ref,b}function vm(f,h,b,L,I,O){var Q=2;if(L=f,typeof f=="function")m1(f)&&(Q=1);else if(typeof f=="string")Q=5;else e:switch(f){case c:return ml(b.children,I,O,h);case d:Q=8,I|=8;break;case p:return f=Vi(12,b,h,I|2),f.elementType=p,f.lanes=O,f;case v:return f=Vi(13,b,h,I),f.elementType=v,f.lanes=O,f;case m:return f=Vi(19,b,h,I),f.elementType=m,f.lanes=O,f;case M:return ym(b,I,O,h);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case g:Q=10;break e;case y:Q=9;break e;case x:Q=11;break e;case S:Q=14;break e;case _:Q=16,L=null;break e}throw Error(o(130,f==null?f:typeof f,""))}return h=Vi(Q,b,h,I),h.elementType=f,h.type=L,h.lanes=O,h}function ml(f,h,b,L){return f=Vi(7,f,L,h),f.lanes=b,f}function ym(f,h,b,L){return f=Vi(22,f,L,h),f.elementType=M,f.lanes=b,f.stateNode={},f}function g1(f,h,b){return f=Vi(6,f,null,h),f.lanes=b,f}function v1(f,h,b){return h=Vi(4,f.children!==null?f.children:[],f.key,h),h.lanes=b,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}function PU(f,h,b,L,I){this.tag=h,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=N,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gy(0),this.expirationTimes=gy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gy(0),this.identifierPrefix=L,this.onRecoverableError=I,te&&(this.mutableSourceEagerHydrationData=null)}function ZA(f,h,b,L,I,O,Q,de,be){return f=new PU(f,h,b,de,be),h===1?(h=1,O===!0&&(h|=8)):h=0,O=Vi(3,null,null,h),f.current=O,O.stateNode=f,O.memoizedState={element:L,isDehydrated:b,cache:null,transitions:null},Ay(O),f}function qA(f){if(!f)return wr;f=f._reactInternals;e:{if(E(f)!==f||f.tag!==1)throw Error(o(170));var h=f;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(mr(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(f.tag===1){var b=f.type;if(mr(b))return bE(f,b,h)}return h}function eC(f){var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(o(188)):(f=Object.keys(f).join(","),Error(o(268,f)));return f=D(h),f===null?null:f.stateNode}function tC(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var b=f.retryLane;f.retryLane=b!==0&&b<h?b:h}}function y1(f,h){tC(f,h),(f=f.alternate)&&tC(f,h)}function RU(f){return f=D(f),f===null?null:f.stateNode}function IU(){return null}return t.attemptContinuousHydration=function(f){if(f.tag===13){var h=zr();Gi(f,134217728,h),y1(f,134217728)}},t.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var h=zr(),b=ha(f);Gi(f,b,h),y1(f,b)}},t.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var h=f.stateNode;if(h.current.memoizedState.isDehydrated){var b=zf(h.pendingLanes);b!==0&&(vy(h,b|1),qr(h,or()),!(Pt&6)&&(Ru(),Gs()))}break;case 13:var L=zr();VA(function(){return Gi(f,1,L)}),y1(f,1)}},t.batchedUpdates=function(f,h){var b=Pt;Pt|=1;try{return f(h)}finally{Pt=b,Pt===0&&(Ru(),Rp&&Gs())}},t.createComponentSelector=function(f){return{$$typeof:rm,value:f}},t.createContainer=function(f,h,b,L,I,O,Q){return ZA(f,h,!1,null,b,L,I,O,Q)},t.createHasPseudoClassSelector=function(f){return{$$typeof:im,value:f}},t.createHydrationContainer=function(f,h,b,L,I,O,Q,de,be){return f=ZA(b,L,!0,f,I,O,Q,de,be),f.context=qA(null),b=f.current,L=zr(),I=ha(b),O=mo(L,I),O.callback=h??null,ca(b,O),f.current.lanes=I,Hf(f,I,L),qr(f,L),f},t.createPortal=function(f,h,b){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:L==null?null:""+L,children:f,containerInfo:h,implementation:b}},t.createRoleSelector=function(f){return{$$typeof:sm,value:f}},t.createTestNameSelector=function(f){return{$$typeof:om,value:f}},t.createTextSelector=function(f){return{$$typeof:am,value:f}},t.deferredUpdates=function(f){var h=Wt,b=kn.transition;try{return kn.transition=null,Wt=16,f()}finally{Wt=h,kn.transition=b}},t.discreteUpdates=function(f,h,b,L,I){var O=Wt,Q=kn.transition;try{return kn.transition=null,Wt=1,f(h,b,L,I)}finally{Wt=O,kn.transition=Q,Pt===0&&Ru()}},t.findAllNodes=i1,t.findBoundingRects=function(f,h){if(!Ze)throw Error(o(363));h=i1(f,h),f=[];for(var b=0;b<h.length;b++)f.push(J(h[b]));for(h=f.length-1;0<h;h--){b=f[h];for(var L=b.x,I=L+b.width,O=b.y,Q=O+b.height,de=h-1;0<=de;de--)if(h!==de){var be=f[de],He=be.x,tt=He+be.width,gt=be.y,ut=gt+be.height;if(L>=He&&O>=gt&&I<=tt&&Q<=ut){f.splice(h,1);break}else if(L!==He||b.width!==be.width||ut<O||gt>Q){if(!(O!==gt||b.height!==be.height||tt<L||He>I)){He>L&&(be.width+=He-L,be.x=L),tt<I&&(be.width=I-He),f.splice(h,1);break}}else{gt>O&&(be.height+=gt-O,be.y=O),ut<Q&&(be.height=Q-gt),f.splice(h,1);break}}}return f},t.findHostInstance=eC,t.findHostInstanceWithNoPortals=function(f){return f=B(f),f=f!==null?H(f):null,f===null?null:f.stateNode},t.findHostInstanceWithWarning=function(f){return eC(f)},t.flushControlled=function(f){var h=Pt;Pt|=1;var b=kn.transition,L=Wt;try{kn.transition=null,Wt=1,f()}finally{Wt=L,kn.transition=b,Pt=h,Pt===0&&(Ru(),Gs())}},t.flushPassiveEffects=pl,t.flushSync=VA,t.focusWithin=function(f,h){if(!Ze)throw Error(o(363));for(f=t1(f),h=zA(f,h),h=Array.from(h),f=0;f<h.length;){var b=h[f++];if(!fe(b)){if(b.tag===5&&Be(b.stateNode))return!0;for(b=b.child;b!==null;)h.push(b),b=b.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Wt},t.getFindAllNodesFailureDescription=function(f,h){if(!Ze)throw Error(o(363));var b=0,L=[];f=[t1(f),0];for(var I=0;I<f.length;){var O=f[I++],Q=f[I++],de=h[Q];if((O.tag!==5||!fe(O))&&(n1(O,de)&&(L.push(r1(de)),Q++,Q>b&&(b=Q)),Q<h.length))for(O=O.child;O!==null;)f.push(O,Q),O=O.sibling}if(b<h.length){for(f=[];b<h.length;b++)f.push(r1(h[b]));return`findAllNodes was able to match part of the selector:
  `+(L.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},t.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return $(f.child.stateNode);default:return f.child.stateNode}},t.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:RU,findFiberByHostInstance:f.findFiberByHostInstance||IU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)f=!0;else{try{Pp=h.inject(f),zs=h}catch{}f=!!h.checkDCE}}return f},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(f,h,b,L){if(!Ze)throw Error(o(363));f=i1(f,h);var I=ke(f,b,L).disconnect;return{disconnect:function(){I()}}},t.registerMutableSourceForHydration=function(f,h){var b=h._getVersion;b=b(h._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[h,b]:f.mutableSourceEagerHydrationData.push(h,b)},t.runWithPriority=function(f,h){var b=Wt;try{return Wt=f,h()}finally{Wt=b}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(f,h,b,L){var I=h.current,O=zr(),Q=ha(I);return b=qA(b),h.context===null?h.context=b:h.pendingContext=b,h=mo(O,Q),h.payload={element:f},L=L===void 0?null:L,L!==null&&(h.callback=L),ca(I,h),f=Gi(I,Q,O),f!==null&&Op(f,I,Q),Q},t};fk.exports=I$;var B$=fk.exports;const D$=Rs(B$);var dk={exports:{}},hk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(k,W){var V=k.length;k.push(W);e:for(;0<V;){var ce=V-1>>>1,oe=k[ce];if(0<i(oe,W))k[ce]=W,k[V]=oe,V=ce;else break e}}function t(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var W=k[0],V=k.pop();if(V!==W){k[0]=V;e:for(var ce=0,oe=k.length,re=oe>>>1;ce<re;){var q=2*(ce+1)-1,we=k[q],xe=q+1,se=k[xe];if(0>i(we,V))xe<oe&&0>i(se,we)?(k[ce]=se,k[xe]=V,ce=xe):(k[ce]=we,k[q]=V,ce=q);else if(xe<oe&&0>i(se,V))k[ce]=se,k[xe]=V,ce=xe;else break e}}return W}function i(k,W){var V=k.sortIndex-W.sortIndex;return V!==0?V:k.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,p=3,g=!1,y=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(k){for(var W=t(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=k)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(u)}}function M(k){if(x=!1,_(k),!y)if(t(l)!==null)y=!0,$(P);else{var W=t(u);W!==null&&Z(M,W.startTime-k)}}function P(k,W){y=!1,x&&(x=!1,m(T),T=-1),g=!0;var V=p;try{for(_(W),d=t(l);d!==null&&(!(d.expirationTime>W)||k&&!B());){var ce=d.callback;if(typeof ce=="function"){d.callback=null,p=d.priorityLevel;var oe=ce(d.expirationTime<=W);W=n.unstable_now(),typeof oe=="function"?d.callback=oe:d===t(l)&&r(l),_(W)}else r(l);d=t(l)}if(d!==null)var re=!0;else{var q=t(u);q!==null&&Z(M,q.startTime-W),re=!1}return re}finally{d=null,p=V,g=!1}}var C=!1,R=null,T=-1,E=5,A=-1;function B(){return!(n.unstable_now()-A<E)}function D(){if(R!==null){var k=n.unstable_now();A=k;var W=!0;try{W=R(!0,k)}finally{W?U():(C=!1,R=null)}}else C=!1}var U;if(typeof S=="function")U=function(){S(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,j=H.port2;H.port1.onmessage=D,U=function(){j.postMessage(null)}}else U=function(){v(D,0)};function $(k){R=k,C||(C=!0,U())}function Z(k,W){T=v(function(){k(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){y||g||(y=!0,$(P))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(k){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var V=p;p=W;try{return k()}finally{p=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,W){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var V=p;p=k;try{return W()}finally{p=V}},n.unstable_scheduleCallback=function(k,W,V){var ce=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ce+V:ce):V=ce,k){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=V+oe,k={id:c++,callback:W,priorityLevel:k,startTime:V,expirationTime:oe,sortIndex:-1},V>ce?(k.sortIndex=V,e(u,k),t(l)===null&&k===t(u)&&(x?(m(T),T=-1):x=!0,Z(M,V-ce))):(k.sortIndex=oe,e(l,k),y||g||(y=!0,$(P))),k},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(k){var W=p;return function(){var V=p;p=W;try{return k.apply(this,arguments)}finally{p=V}}}})(hk);dk.exports=hk;var nT=dk.exports;function pk(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}const Bo=[];function mk(n,e,t=!1,r={}){for(const s of Bo)if(pk(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,promise:n(...e).then(s=>i.response=s).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{const s=Bo.indexOf(i);s!==-1&&Bo.splice(s,1)},r.lifespan)}).catch(s=>i.error=s)};if(Bo.push(i),!t)throw i.promise}const gk=(n,e,t)=>mk(n,e,!1,t),vk=(n,e,t)=>void mk(n,e,!0,t),yk=n=>{if(n===void 0||n.length===0)Bo.splice(0,Bo.length);else{const e=Bo.find(t=>pk(n,t.keys,t.equal));if(e){const t=Bo.indexOf(e);t!==-1&&Bo.splice(t,1)}}},BM={},Cf=n=>void Object.assign(BM,n);function O$(n,e){function t(c,{args:d=[],attach:p,...g},y){let x=`${c[0].toUpperCase()}${c.slice(1)}`,v;if(c==="primitive"){if(g.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const m=g.object;v=lc(m,{type:c,root:y,attach:p,primitive:!0})}else{const m=BM[x];if(!m)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");v=lc(new m(...d),{type:c,root:y,attach:p,memoizedProps:{args:d}})}return v.__r3f.attach===void 0&&(v instanceof St?v.__r3f.attach="geometry":v instanceof Un&&(v.__r3f.attach="material")),x!=="inject"&&Tx(v,g),v}function r(c,d){let p=!1;if(d){var g,y;(g=d.__r3f)!=null&&g.attach?Cx(c,d,d.__r3f.attach):d.isObject3D&&c.isObject3D&&(c.add(d),p=!0),p||(y=c.__r3f)==null||y.objects.push(d),d.__r3f||lc(d,{}),d.__r3f.parent=c,ew(d),uc(d)}}function i(c,d,p){let g=!1;if(d){var y,x;if((y=d.__r3f)!=null&&y.attach)Cx(c,d,d.__r3f.attach);else if(d.isObject3D&&c.isObject3D){d.parent=c,d.dispatchEvent({type:"added"});const v=c.children.filter(S=>S!==d),m=v.indexOf(p);c.children=[...v.slice(0,m),d,...v.slice(m)],g=!0}g||(x=c.__r3f)==null||x.objects.push(d),d.__r3f||lc(d,{}),d.__r3f.parent=c,ew(d),uc(d)}}function s(c,d,p=!1){c&&[...c].forEach(g=>o(d,g,p))}function o(c,d,p){if(d){var g,y,x;if(d.__r3f&&(d.__r3f.parent=null),(g=c.__r3f)!=null&&g.objects&&(c.__r3f.objects=c.__r3f.objects.filter(M=>M!==d)),(y=d.__r3f)!=null&&y.attach)aT(c,d,d.__r3f.attach);else if(d.isObject3D&&c.isObject3D){var v;c.remove(d),(v=d.__r3f)!=null&&v.root&&G$(d.__r3f.root,d)}const S=(x=d.__r3f)==null?void 0:x.primitive,_=p===void 0?d.dispose!==null&&!S:p;if(!S){var m;s((m=d.__r3f)==null?void 0:m.objects,d,_),s(d.children,d,_)}d.__r3f&&(delete d.__r3f.root,delete d.__r3f.objects,delete d.__r3f.handlers,delete d.__r3f.memoizedProps,S||delete d.__r3f),_&&d.dispose&&d.type!=="Scene"&&nT.unstable_scheduleCallback(nT.unstable_IdlePriority,()=>{try{d.dispose()}catch{}}),uc(c)}}function a(c,d,p,g){var y;const x=(y=c.__r3f)==null?void 0:y.parent;if(!x)return;const v=t(d,p,c.__r3f.root);if(c.children){for(const m of c.children)m.__r3f&&r(v,m);c.children=c.children.filter(m=>!m.__r3f)}c.__r3f.objects.forEach(m=>r(v,m)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||o(x,c),v.parent&&(v.__r3f.autoRemovedBeforeAppend=!0),r(x,v),v.raycast&&v.__r3f.eventCount&&v.__r3f.root.getState().internal.interaction.push(v),[g,g.alternate].forEach(m=>{m!==null&&(m.stateNode=v,m.ref&&(typeof m.ref=="function"?m.ref(v):m.ref.current=v))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:D$({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,d)=>{if(!d)return;const p=c.getState().scene;p.__r3f&&(p.__r3f.root=c,r(p,d))},removeChildFromContainer:(c,d)=>{d&&o(c.getState().scene,d)},insertInContainerBefore:(c,d,p)=>{if(!d||!p)return;const g=c.getState().scene;g.__r3f&&i(g,d,p)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var d;return!!((d=c==null?void 0:c.__r3f)!=null?d:{}).handlers},prepareUpdate(c,d,p,g){if(c.__r3f.primitive&&g.object&&g.object!==c)return[!0];{const{args:y=[],children:x,...v}=g,{args:m=[],children:S,..._}=p;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((P,C)=>P!==m[C]))return[!0];const M=Ek(c,v,_,!0);return M.changes.length?[!1,M]:null}},commitUpdate(c,[d,p],g,y,x,v){d?a(c,g,x,v):Tx(c,p)},commitMount(c,d,p,g){var y;const x=(y=c.__r3f)!=null?y:{};c.raycast&&x.handlers&&x.eventCount&&c.__r3f.root.getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>lc(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var d;const{attach:p,parent:g}=(d=c.__r3f)!=null?d:{};p&&g&&aT(g,c,p),c.isObject3D&&(c.visible=!1),uc(c)},unhideInstance(c,d){var p;const{attach:g,parent:y}=(p=c.__r3f)!=null?p:{};g&&y&&Cx(y,c,g),(c.isObject3D&&d.visible==null||d.visible)&&(c.visible=!0),uc(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Tc.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&mn.fun(performance.now)?performance.now:mn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:mn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:mn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Tx}}var rT,iT;const xk=()=>{var n;return(n=BM.ColorManagement)!=null?n:null},_k=n=>n&&n.isOrthographicCamera,k$=n=>n&&n.hasOwnProperty("current"),vp=typeof window<"u"&&((rT=window.document)!=null&&rT.createElement||((iT=window.navigator)==null?void 0:iT.product)==="ReactNative")?w.useLayoutEffect:w.useEffect;function Sk(n){const e=w.useRef(n);return vp(()=>void(e.current=n),[n]),e}function F$({set:n}){return vp(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class wk extends w.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}wk.getDerivedStateFromError=()=>({error:!0});const bk="__default",sT=new Map,N$=n=>n&&!!n.memoized&&!!n.changes;function Mk(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Ed=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},mn={obj:n=>n===Object(n)&&!mn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(mn.str(n)||mn.num(n))return n===e;const s=mn.obj(n);if(s&&r==="reference")return n===e;const o=mn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!mn.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(mn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function U$(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function z$(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function lc(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function qS(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const oT=/-\d+$/;function Cx(n,e,t){if(mn.str(t)){if(oT.test(t)){const s=t.replace(oT,""),{target:o,key:a}=qS(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=qS(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function aT(n,e,t){var r,i;if(mn.str(t)){const{target:s,key:o}=qS(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function Ek(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){var c;const d=(c=n==null?void 0:n.__r3f)!=null?c:{},p=Object.entries(i),g=[];if(u){const x=Object.keys(l);for(let v=0;v<x.length;v++)i.hasOwnProperty(x[v])||p.unshift([x[v],bk+"remove"])}p.forEach(([x,v])=>{var m;if((m=n.__r3f)!=null&&m.primitive&&x==="object"||mn.equ(v,l[x]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x))return g.push([x,v,!0,[]]);let S=[];x.includes("-")&&(S=x.split("-")),g.push([x,v,!1,S]);for(const _ in i){const M=i[_];_.startsWith(`${x}-`)&&g.push([_,M,!1,_.split("-")])}});const y={...i};return d.memoizedProps&&d.memoizedProps.args&&(y.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(y.attach=d.memoizedProps.attach),{memoized:y,changes:g}}function Tx(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:u}=N$(e)?e:Ek(n,e),c=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<u.length;p++){let[g,y,x,v]=u[p],m=n,S=m[g];if(v.length&&(S=v.reduce((_,M)=>_[M],n),!(S&&S.set))){const[_,...M]=v.reverse();m=M.reverse().reduce((P,C)=>P[C],n),g=_}if(y===bk+"remove")if(m.constructor){let _=sT.get(m.constructor);_||(_=new m.constructor,sT.set(m.constructor,_)),y=_[g]}else y=0;if(x)y?s.handlers[g]=y:delete s.handlers[g],s.eventCount=Object.keys(s.handlers).length;else if(S&&S.set&&(S.copy||S instanceof Kl)){if(Array.isArray(y))S.fromArray?S.fromArray(y):S.set(...y);else if(S.copy&&y&&y.constructor&&S.constructor===y.constructor)S.copy(y);else if(y!==void 0){const _=S instanceof Ge;!_&&S.setScalar?S.setScalar(y):S instanceof Kl&&y instanceof Kl?S.mask=y.mask:S.set(y),!xk()&&!a.linear&&_&&S.convertSRGBToLinear()}}else m[g]=y,!a.linear&&m[g]instanceof yn&&m[g].format===oi&&m[g].type===Qo&&(m[g].encoding=Ft);uc(n)}if(s.parent&&a.internal&&n.raycast&&c!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(i=n.__r3f)!=null&&i.parent&&ew(n),n}function uc(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function ew(n){n.onUpdate==null||n.onUpdate(n)}function Ak(n,e){n.manual||(_k(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function bg(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function H$(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Tc.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Tc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Tc.ContinuousEventPriority;default:return Tc.DefaultEventPriority}}function Ck(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function G$(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{Ck(t.capturedMap,e,r,i)})}function V$(n){function e(l){const{internal:u}=n.getState(),c=l.offsetX-u.initialClick[0],d=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+d*d))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var d;return(d=u.__r3f)==null?void 0:d.handlers["onPointer"+c]}))}function r(l,u){const c=n.getState(),d=new Set,p=[],g=u?u(c.internal.interaction):c.internal.interaction;for(let m=0;m<g.length;m++){const S=Ed(g[m]);S&&(S.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function y(m){const S=Ed(m);if(!S||!S.events.enabled||S.raycaster.camera===null)return[];if(S.raycaster.camera===void 0){var _;S.events.compute==null||S.events.compute(l,S,(_=S.previousRoot)==null?void 0:_.getState()),S.raycaster.camera===void 0&&(S.raycaster.camera=null)}return S.raycaster.camera?S.raycaster.intersectObject(m,!0):[]}let x=g.flatMap(y).sort((m,S)=>{const _=Ed(m.object),M=Ed(S.object);return!_||!M?m.distance-S.distance:M.events.priority-_.events.priority||m.distance-S.distance}).filter(m=>{const S=bg(m);return d.has(S)?!1:(d.add(S),!0)});c.events.filter&&(x=c.events.filter(x,c));for(const m of x){let S=m.object;for(;S;){var v;(v=S.__r3f)!=null&&v.eventCount&&p.push({...m,eventObject:S}),S=S.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let m of c.internal.capturedMap.get(l.pointerId).values())d.has(bg(m.intersection))||p.push(m.intersection);return p}function i(l,u,c,d){const p=n.getState();if(l.length){const g={stopped:!1};for(const y of l){const x=Ed(y.object)||p,{raycaster:v,pointer:m,camera:S,internal:_}=x,M=new X(m.x,m.y,0).unproject(S),P=A=>{var B,D;return(B=(D=_.capturedMap.get(A))==null?void 0:D.has(y.eventObject))!=null?B:!1},C=A=>{const B={intersection:y,target:u.target};_.capturedMap.has(A)?_.capturedMap.get(A).set(y.eventObject,B):_.capturedMap.set(A,new Map([[y.eventObject,B]])),u.target.setPointerCapture(A)},R=A=>{const B=_.capturedMap.get(A);B&&Ck(_.capturedMap,y.eventObject,B,A)};let T={};for(let A in u){let B=u[A];typeof B!="function"&&(T[A]=B)}let E={...y,...T,pointer:m,intersections:l,stopped:g.stopped,delta:c,unprojectedPoint:M,ray:v.ray,camera:S,stopPropagation(){const A="pointerId"in u&&_.capturedMap.get(u.pointerId);if((!A||A.has(y.eventObject))&&(E.stopped=g.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(B=>B.eventObject===y.eventObject))){const B=l.slice(0,l.indexOf(y));s([...B,y])}},target:{hasPointerCapture:P,setPointerCapture:C,releasePointerCapture:R},currentTarget:{hasPointerCapture:P,setPointerCapture:C,releasePointerCapture:R},nativeEvent:u};if(d(E),g.stopped===!0)break}}return l}function s(l){const{internal:u}=n.getState();for(const c of u.hovered.values())if(!l.length||!l.find(d=>d.object===c.object&&d.index===c.index&&d.instanceId===c.instanceId)){const p=c.eventObject.__r3f,g=p==null?void 0:p.handlers;if(u.hovered.delete(bg(c)),p!=null&&p.eventCount){const y={...c,intersections:l};g.onPointerOut==null||g.onPointerOut(y),g.onPointerLeave==null||g.onPointerLeave(y)}}}function o(l,u){for(let c=0;c<u.length;c++){const d=u[c].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:c}=n.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),s([]))})}}return function(c){const{onPointerMissed:d,internal:p}=n.getState();p.lastEvent.current=c;const g=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",v=r(c,g?t:void 0),m=y?e(c):0;l==="onPointerDown"&&(p.initialClick=[c.offsetX,c.offsetY],p.initialHits=v.map(_=>_.eventObject)),y&&!v.length&&m<=2&&(o(c,p.interaction),d&&d(c)),g&&s(v);function S(_){const M=_.eventObject,P=M.__r3f,C=P==null?void 0:P.handlers;if(P!=null&&P.eventCount)if(g){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const R=bg(_),T=p.hovered.get(R);T?T.stopped&&_.stopPropagation():(p.hovered.set(R,_),C.onPointerOver==null||C.onPointerOver(_),C.onPointerEnter==null||C.onPointerEnter(_))}C.onPointerMove==null||C.onPointerMove(_)}else{const R=C[l];R?(!y||p.initialHits.includes(M))&&(o(c,p.interaction.filter(T=>!p.initialHits.includes(T))),R(_)):y&&p.initialHits.includes(M)&&o(c,p.interaction.filter(T=>!p.initialHits.includes(T)))}}i(v,c,m,S)}}return{handlePointer:a}}const j$=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],Tk=n=>!!(n!=null&&n.render),DM=w.createContext(null),W$=(n,e)=>{const t=IM((a,l)=>{const u=new X,c=new X,d=new X;function p(m=l().camera,S=c,_=l().size){const{width:M,height:P,top:C,left:R}=_,T=M/P;S instanceof X?d.copy(S):d.set(...S);const E=m.getWorldPosition(u).distanceTo(d);if(_k(m))return{width:M/m.zoom,height:P/m.zoom,top:C,left:R,factor:1,distance:E,aspect:T};{const A=m.fov*Math.PI/180,B=2*Math.tan(A/2)*E,D=B*(M/P);return{width:D,height:B,top:C,left:R,factor:M/D,distance:E,aspect:T}}}let g;const y=m=>a(S=>({performance:{...S.performance,current:m}})),x=new Oe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(m=1)=>n(l(),m),advance:(m,S)=>e(m,S,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new CM,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const m=l();g&&clearTimeout(g),m.performance.current!==m.performance.min&&y(m.performance.min),g=setTimeout(()=>y(l().performance.max),m.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:m=>a(S=>({...S,events:{...S.events,...m}})),setSize:(m,S,_,M,P)=>{const C=l().camera,R={width:m,height:S,top:M||0,left:P||0,updateStyle:_};a(T=>({size:R,viewport:{...T.viewport,...p(C,c,R)}}))},setDpr:m=>a(S=>{const _=Mk(m);return{viewport:{...S.viewport,dpr:_,initialDpr:S.viewport.initialDpr||_}}}),setFrameloop:(m="always")=>{const S=l().clock;S.stop(),S.elapsedTime=0,m!=="never"&&(S.start(),S.elapsedTime=0),a(()=>({frameloop:m}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:w.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(m,S,_)=>{const M=l().internal;return M.priority=M.priority+(S>0?1:0),M.subscribers.push({ref:m,priority:S,store:_}),M.subscribers=M.subscribers.sort((P,C)=>P.priority-C.priority),()=>{const P=l().internal;P!=null&&P.subscribers&&(P.priority=P.priority-(S>0?1:0),P.subscribers=P.subscribers.filter(C=>C.ref!==m))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:c,set:d}=t.getState();if(l!==i||u.dpr!==s){var p;i=l,s=u.dpr,Ak(a,l),c.setPixelRatio(u.dpr);const g=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,g)}a!==o&&(o=a,d(g=>({viewport:{...g.viewport,...g.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let Mg,$$=new Set,J$=new Set,K$=new Set;function Lx(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Ad(n,e){switch(n){case"before":return Lx($$,e);case"after":return Lx(J$,e);case"tail":return Lx(K$,e)}}let Px,Rx;function Ix(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),Px=e.internal.subscribers,Mg=0;Mg<Px.length;Mg++)Rx=Px[Mg],Rx.ref.current(Rx.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function X$(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,Ad("before",l);for(const c of n.values()){var u;i=c.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(t+=Ix(l,i))}if(Ad("after",l),t===0)return Ad("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,u=1){var c;if(!l)return n.forEach(d=>o(d.store.getState()),u);(c=l.gl.xr)!=null&&c.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,c,d){if(u&&Ad("before",l),c)Ix(l,c,d);else for(const p of n.values())Ix(l,p.store.getState());u&&Ad("after",l)}return{loop:s,invalidate:o,advance:a}}function OM(){const n=w.useContext(DM);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Oa(n=t=>t,e){return OM()(n,e)}function Tf(n,e=0){const t=OM(),r=t.getState().internal.subscribe,i=Sk(n);return vp(()=>r(i,e,t),[e,r,t]),null}function Lk(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,U$(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function Lf(n,e,t,r){const i=Array.isArray(e)?e:[e],s=gk(Lk(t,r),[n,...i],{equal:mn.equ});return Array.isArray(e)?s:s[0]}Lf.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return vk(Lk(t),[n,...r])};Lf.clear=function(n,e){const t=Array.isArray(e)?e:[e];return yk([n,...t])};const cf=new Map,{invalidate:lT,advance:uT}=X$(cf),{reconciler:zh,applyProps:cc}=O$(cf,H$),tc={objects:"shallow",strict:!1},Y$=(n,e)=>{const t=typeof n=="function"?n(e):n;return Tk(t)?t:new rM({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function Q$(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function Z$(n){const e=cf.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||W$(lT,uT),o=t||zh.createContainer(s,Tc.ConcurrentRoot,null,!1,null,"",i,null);e||cf.set(n,{fiber:o,store:s});let a,l=!1,u;return{configure(c={}){let{gl:d,size:p,scene:g,events:y,onCreated:x,shadows:v=!1,linear:m=!1,flat:S=!1,legacy:_=!1,orthographic:M=!1,frameloop:P="always",dpr:C=[1,2],performance:R,raycaster:T,camera:E,onPointerMissed:A}=c,B=s.getState(),D=B.gl;B.gl||B.set({gl:D=Y$(d,n)});let U=B.raycaster;U||B.set({raycaster:U=new RM});const{params:H,...j}=T||{};if(mn.equ(j,U,tc)||cc(U,{...j}),mn.equ(H,U.params,tc)||cc(U,{params:{...U.params,...H}}),!B.camera||B.camera===u&&!mn.equ(u,E,tc)){u=E;const ce=E instanceof rp,oe=ce?E:M?new xf(0,0,0,0,.1,1e3):new qn(75,0,.1,1e3);ce||(oe.position.z=5,E&&cc(oe,E),!B.camera&&!(E!=null&&E.rotation)&&oe.lookAt(0,0,0)),B.set({camera:oe})}if(!B.scene){let ce;g instanceof Dh?ce=g:(ce=new Dh,g&&cc(ce,g)),B.set({scene:lc(ce)})}if(!B.xr){const ce=(q,we)=>{const xe=s.getState();xe.frameloop!=="never"&&uT(q,!0,xe,we)},oe=()=>{const q=s.getState();q.gl.xr.enabled=q.gl.xr.isPresenting,q.gl.xr.setAnimationLoop(q.gl.xr.isPresenting?ce:null),q.gl.xr.isPresenting||lT(q)},re={connect(){const q=s.getState().gl;q.xr.addEventListener("sessionstart",oe),q.xr.addEventListener("sessionend",oe)},disconnect(){const q=s.getState().gl;q.xr.removeEventListener("sessionstart",oe),q.xr.removeEventListener("sessionend",oe)}};D.xr&&re.connect(),B.set({xr:re})}if(D.shadowMap){const ce=D.shadowMap.enabled,oe=D.shadowMap.type;if(D.shadowMap.enabled=!!v,mn.boo(v))D.shadowMap.type=th;else if(mn.str(v)){var $;const re={basic:mD,percentage:B0,soft:th,variance:Fl};D.shadowMap.type=($=re[v])!=null?$:th}else mn.obj(v)&&Object.assign(D.shadowMap,v);(ce!==D.shadowMap.enabled||oe!==D.shadowMap.type)&&(D.shadowMap.needsUpdate=!0)}const Z=xk();Z&&("enabled"in Z?Z.enabled=!_:"legacyMode"in Z&&(Z.legacyMode=_));const k=m?Ls:Ft,W=S?Cs:Gb;D.outputEncoding!==k&&(D.outputEncoding=k),D.toneMapping!==W&&(D.toneMapping=W),B.legacy!==_&&B.set(()=>({legacy:_})),B.linear!==m&&B.set(()=>({linear:m})),B.flat!==S&&B.set(()=>({flat:S})),d&&!mn.fun(d)&&!Tk(d)&&!mn.equ(d,D,tc)&&cc(D,d),y&&!B.events.handlers&&B.set({events:y(s)});const V=Q$(n,p);return mn.equ(V,B.size,tc)||B.setSize(V.width,V.height,V.updateStyle,V.top,V.left),C&&B.viewport.dpr!==Mk(C)&&B.setDpr(C),B.frameloop!==P&&B.setFrameloop(P),B.onPointerMissed||B.set({onPointerMissed:A}),R&&!mn.equ(R,B.performance,tc)&&B.set(ce=>({performance:{...ce.performance,...R}})),a=x,l=!0,this},render(c){return l||this.configure(),zh.updateContainer(w.createElement(q$,{store:s,children:c,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){Pk(n)}}}function q$({store:n,children:e,onCreated:t,rootElement:r}){return vp(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),w.createElement(DM.Provider,{value:n},e)}function Pk(n,e){const t=cf.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),zh.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),z$(i),cf.delete(n),e&&e(n)}catch{}},500)})}}function eJ(n,e,t){return w.createElement(tJ,{key:e.uuid,children:n,container:e,state:t})}function tJ({state:n={},children:e,container:t}){const{events:r,size:i,...s}=n,o=OM(),[a]=w.useState(()=>new RM),[l]=w.useState(()=>new Oe),u=w.useCallback((d,p)=>{const g={...d};Object.keys(d).forEach(x=>{(j$.includes(x)||d[x]!==p[x]&&p[x])&&delete g[x]});let y;if(p&&i){const x=p.camera;y=d.viewport.getCurrentViewport(x,new X,i),x!==d.camera&&Ak(x,i)}return{...g,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...d.events,...p==null?void 0:p.events,...r},size:{...d.size,...i},viewport:{...d.viewport,...y},...s}},[n]),[c]=w.useState(()=>{const d=o.getState();return IM((g,y)=>({...d,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...d.events,...r},size:{...d.size,...i},...s,set:g,get:y,setEvents:x=>g(v=>({...v,events:{...v.events,...x}}))}))});return w.useEffect(()=>{const d=o.subscribe(p=>c.setState(g=>u(p,g)));return()=>{d(),c.destroy()}},[]),w.useEffect(()=>{c.setState(d=>u(o.getState(),d))},[u]),w.createElement(w.Fragment,null,zh.createPortal(w.createElement(DM.Provider,{value:c},e),c,null))}zh.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:w.version});function $e(){return $e=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$e.apply(this,arguments)}function tw(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var c=Date.now()-o;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,t||(a=n.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var c=t&&!r;return r||(r=setTimeout(l,e)),c&&(a=n.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}tw.debounce=tw;var nJ=tw;const cT=Rs(nJ);function rJ(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=w.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=w.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,c=e?typeof e=="number"?e:e.resize:null,d=w.useRef(!1);w.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,g,y]=w.useMemo(()=>{const S=()=>{if(!l.current.element)return;const{left:_,top:M,width:P,height:C,bottom:R,right:T,x:E,y:A}=l.current.element.getBoundingClientRect(),B={left:_,top:M,width:P,height:C,bottom:R,right:T,x:E,y:A};l.current.element instanceof HTMLElement&&i&&(B.height=l.current.element.offsetHeight,B.width=l.current.element.offsetWidth),Object.freeze(B),d.current&&!aJ(l.current.lastBounds,B)&&a(l.current.lastBounds=B)};return[S,c?cT(S,c):S,u?cT(S,u):S]},[a,i,u,c]);function x(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function v(){l.current.element&&(l.current.resizeObserver=new s(y),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(S=>S.addEventListener("scroll",y,{capture:!0,passive:!0})))}const m=S=>{!S||S===l.current.element||(x(),l.current.element=S,l.current.scrollContainers=Rk(S),v())};return sJ(y,!!t),iJ(g),w.useEffect(()=>{x(),v()},[t,y,g]),w.useEffect(()=>x,[]),[m,o,p]}function iJ(n){w.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function sJ(n,e){w.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function Rk(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...Rk(n.parentElement)]}const oJ=["x","y","top","bottom","left","right","width","height"],aJ=(n,e)=>oJ.every(t=>n[t]===e[t]);var lJ=Object.defineProperty,uJ=Object.defineProperties,cJ=Object.getOwnPropertyDescriptors,fT=Object.getOwnPropertySymbols,fJ=Object.prototype.hasOwnProperty,dJ=Object.prototype.propertyIsEnumerable,dT=(n,e,t)=>e in n?lJ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,hT=(n,e)=>{for(var t in e||(e={}))fJ.call(e,t)&&dT(n,t,e[t]);if(fT)for(var t of fT(e))dJ.call(e,t)&&dT(n,t,e[t]);return n},hJ=(n,e)=>uJ(n,cJ(e));function Ik(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=Ik(r,e,t);if(i)return i;r=e?null:r.sibling}}function Bk(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const kM=Bk(w.createContext(null));class Dk extends w.Component{render(){return w.createElement(kM.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:pT,ReactCurrentDispatcher:mT}=w.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function pJ(){const n=w.useContext(kM);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=w.useId();return w.useMemo(()=>{var r;return(r=pT==null?void 0:pT.current)!=null?r:Ik(n,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[n,e])}function mJ(){var n,e;const t=pJ(),[r]=w.useState(()=>new Map);r.clear();let i=t;for(;i;){const s=(n=i.type)==null?void 0:n._context;s&&s!==kM&&!r.has(s)&&r.set(s,(e=mT==null?void 0:mT.current)==null?void 0:e.readContext(Bk(s))),i=i.return}return r}function gJ(){const n=mJ();return w.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>w.createElement(e,null,w.createElement(t.Provider,hJ(hT({},r),{value:n.get(t)}))),e=>w.createElement(Dk,hT({},e))),[n])}const Bx={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function vJ(n){const{handlePointer:e}=V$(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(Bx).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=Bx[o];t.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=Bx[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const yJ=w.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=vJ,eventSource:a,eventPrefix:l,shadows:u,linear:c,flat:d,legacy:p,orthographic:g,frameloop:y,dpr:x,performance:v,raycaster:m,camera:S,onPointerMissed:_,onCreated:M,...P},C){w.useMemo(()=>Cf(C$),[]);const R=gJ(),[T,E]=rJ({scroll:!0,debounce:{scroll:50,resize:0},...r}),A=w.useRef(null),B=w.useRef(null);w.useImperativeHandle(C,()=>A.current);const D=Sk(_),[U,H]=w.useState(!1),[j,$]=w.useState(!1);if(U)throw U;if(j)throw j;const Z=w.useRef(null);vp(()=>{const W=A.current;E.width>0&&E.height>0&&W&&(Z.current||(Z.current=Z$(W)),Z.current.configure({gl:s,events:o,shadows:u,linear:c,flat:d,legacy:p,orthographic:g,frameloop:y,dpr:x,performance:v,raycaster:m,camera:S,size:E,onPointerMissed:(...V)=>D.current==null?void 0:D.current(...V),onCreated:V=>{V.events.connect==null||V.events.connect(a?k$(a)?a.current:a:B.current),l&&V.setEvents({compute:(ce,oe)=>{const re=ce[l+"X"],q=ce[l+"Y"];oe.pointer.set(re/oe.size.width*2-1,-(q/oe.size.height)*2+1),oe.raycaster.setFromCamera(oe.pointer,oe.camera)}}),M==null||M(V)}}),Z.current.render(w.createElement(R,null,w.createElement(wk,{set:$},w.createElement(w.Suspense,{fallback:w.createElement(F$,{set:H})},e)))))}),w.useEffect(()=>{const W=A.current;if(W)return()=>Pk(W)},[]);const k=a?"none":"auto";return w.createElement("div",$e({ref:B,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:k,...i}},P),w.createElement("div",{ref:T,style:{width:"100%",height:"100%"}},w.createElement("canvas",{ref:A,style:{display:"block"}},t)))}),xJ=w.forwardRef(function(e,t){return w.createElement(Dk,null,w.createElement(yJ,$e({},e,{ref:t})))});function Ok(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function _J(n,e,t){return Math.max(e,Math.min(n,t))}const Br={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function gT(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function vT(n,e,t,r=.15){return r===0?_J(n,e,t):n<e?-gT(e-n,t-e,r)+e:n>t?+gT(n-t,t-e,r)+t:n}function SJ(n,[e,t],[r,i]){const[[s,o],[a,l]]=n;return[vT(e,s,o,r),vT(t,a,l,i)]}function wJ(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function bJ(n){var e=wJ(n,"string");return typeof e=="symbol"?e:String(e)}function ri(n,e,t){return e=bJ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function An(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yT(Object(t),!0).forEach(function(r){ri(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yT(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const kk={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function xT(n){return n?n[0].toUpperCase()+n.slice(1):""}const MJ=["enter","leave"];function EJ(n=!1,e){return n&&!MJ.includes(e)}function AJ(n,e="",t=!1){const r=kk[n],i=r&&r[e]||e;return"on"+xT(n)+xT(i)+(EJ(t,i)?"Capture":"")}const CJ=["gotpointercapture","lostpointercapture"];function TJ(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const r=CJ.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:t}}function LJ(n,e=""){const t=kk[n],r=t&&t[e]||e;return n+r}function Y0(n){return"touches"in n}function Fk(n){return Y0(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function PJ(n){return Array.from(n.touches).filter(e=>{var t,r;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(r=t.contains)===null||r===void 0?void 0:r.call(t,e.target))})}function RJ(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function Nk(n){return Y0(n)?RJ(n)[0]:n}function IJ(n){return PJ(n).map(e=>e.identifier)}function Dx(n){const e=Nk(n);return Y0(n)?e.identifier:e.pointerId}function _T(n){const e=Nk(n);return[e.clientX,e.clientY]}function BJ(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s})}return e}function $v(n,...e){return typeof n=="function"?n(...e):n}function DJ(){}function OJ(...n){return n.length===0?DJ:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function ST(n,e){return Object.assign({},e,n||{})}const kJ=32;class FJ{constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:r,args:i}=this;t[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,r=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=r.from?$v(r.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:r,shared:i}=this;t.args=this.args;let s=0;if(e&&(t.event=e,r.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,BJ(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const C=t._delta.map(Math.abs);Br.addTo(t._distance,C)}this.axisIntent&&this.axisIntent(e);const[o,a]=t._movement,[l,u]=r.threshold,{_step:c,values:d}=t;if(r.hasCustomTransform?(c[0]===!1&&(c[0]=Math.abs(o)>=l&&d[0]),c[1]===!1&&(c[1]=Math.abs(a)>=u&&d[1])):(c[0]===!1&&(c[0]=Math.abs(o)>=l&&Math.sign(o)*l),c[1]===!1&&(c[1]=Math.abs(a)>=u&&Math.sign(a)*u)),t.intentional=c[0]!==!1||c[1]!==!1,!t.intentional)return;const p=[0,0];if(r.hasCustomTransform){const[C,R]=d;p[0]=c[0]!==!1?C-c[0]:0,p[1]=c[1]!==!1?R-c[1]:0}else p[0]=c[0]!==!1?o-c[0]:0,p[1]=c[1]!==!1?a-c[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(p);const g=t.offset,y=t._active&&!t._blocked||t.active;y&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&("bounds"in r&&(t._bounds=$v(r.bounds,t)),this.setup&&this.setup()),t.movement=p,this.computeOffset()));const[x,v]=t.offset,[[m,S],[_,M]]=t._bounds;t.overflow=[x<m?-1:x>S?1:0,v<_?-1:v>M?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const P=t._active?r.rubberband||[0,0]:[0,0];if(t.offset=SJ(t._bounds,t.offset,P),t.delta=Br.sub(t.offset,g),this.computeMovement(),y&&(!t.last||s>kJ)){t.delta=Br.sub(t.offset,g);const C=t.delta.map(Math.abs);Br.addTo(t.distance,C),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[C[0]/s,C[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(An(An(An({},t),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function NJ([n,e],t){const r=Math.abs(n),i=Math.abs(e);if(r>i&&r>t)return"x";if(i>r&&i>t)return"y"}class UJ extends FJ{constructor(...e){super(...e),ri(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Br.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Br.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,r=this.config;if(!t.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[Fk(e)]:r.axisThreshold;t.axis=NJ(t._movement,i)}t._blocked=(r.lockDirection||!!r.axis)&&!t.axis||!!r.axis&&r.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const zJ=n=>n,wT=.15,Uk={enabled(n=!0){return n},eventOptions(n,e,t){return An(An({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[wT,wT];case!1:return[0,0];default:return Br.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return Br.toVector(n)},transform(n,e,t){const r=n||t.shared.transform;return this.hasCustomTransform=!!r,r||zJ},threshold(n){return Br.toVector(n,0)}},HJ=0,yp=An(An({},Uk),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=HJ){return n},bounds(n={}){if(typeof n=="function")return s=>yp.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:r=-1/0,bottom:i=1/0}=n;return[[e,t],[r,i]]}}),bT={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class GJ extends UJ{constructor(...e){super(...e),ri(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=yp.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=Dx(e),r._pointerActive=!0,this.computeValues(_T(e)),this.computeInitial(),t.preventScrollAxis&&Fk(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,r=this.config;if(!t._pointerActive||t.type===e.type&&e.timeStamp===t.timeStamp)return;const i=Dx(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;const s=_T(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=Br.sub(s,t._values),this.computeValues(s)),Br.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,r=this.config;if(!t._active||!t._pointerActive)return;const i=Dx(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=t._distance;if(t.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,t.tap&&r.filterTaps)t._force=!0;else{const[a,l]=t._delta,[u,c]=t._movement,[d,p]=r.swipe.velocity,[g,y]=r.swipe.distance,x=r.swipe.duration;if(t.elapsedTime<x){const v=Math.abs(a/t.timeDelta),m=Math.abs(l/t.timeDelta);v>d&&Math.abs(u)>g&&(t.swipe[0]=Math.sign(a)),m>p&&Math.abs(c)>y&&(t.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,VJ(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=bT[e.key];if(t){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=t(this.config.keyboardDisplacement,i),r._keyboardActive=!0,Br.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in bT&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function VJ(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const xp=typeof window<"u"&&window.document&&window.document.createElement;function jJ(){return xp&&"ontouchstart"in window}function MT(){return jJ()||xp&&window.navigator.maxTouchPoints>1}function WJ(){return xp&&"onpointerdown"in window}function $J(){return xp&&"exitPointerLock"in window.document}function JJ(){try{return"constructor"in GestureEvent}catch{return!1}}const Yi={isBrowser:xp,gesture:JJ(),touch:MT(),touchscreen:MT(),pointer:WJ(),pointerLock:$J()},KJ=250,XJ=180,YJ=.5,QJ=50,ZJ=250,qJ=10,ET={mouse:0,touch:0,pen:8},eK=An(An({},yp),{},{device(n,e,{pointer:{touch:t=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&Yi.pointerLock,Yi.touch&&t?"touch":this.pointerLock?"mouse":Yi.pointer&&!i?"pointer":Yi.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?KJ:void 0,!(!Yi.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:r=3,axis:i=void 0}){const s=Br.toVector(n,t?r:i?1:0);return this.filterTaps=t,this.tapsThreshold=r,s},swipe({velocity:n=YJ,distance:e=QJ,duration:t=ZJ}={}){return{velocity:this.transform(Br.toVector(n)),distance:this.transform(Br.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return XJ;case!1:return 0;default:return n}},axisThreshold(n){return n?An(An({},ET),n):ET},keyboardDisplacement(n=qJ){return n}});An(An({},Uk),{},{device(n,e,{shared:t,pointer:{touch:r=!1}={}}){if(t.target&&!Yi.touch&&Yi.gesture)return"gesture";if(Yi.touch&&r)return"touch";if(Yi.touchscreen){if(Yi.pointer)return"pointer";if(Yi.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:r={}}){const i=o=>{const a=ST($v(t,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=ST($v(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof t!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",Br.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});An(An({},yp),{},{mouseOnly:(n=!0)=>n});An(An({},yp),{},{mouseOnly:(n=!0)=>n});const zk=new Map,nw=new Map;function tK(n){zk.set(n.key,n.engine),nw.set(n.key,n.resolver)}const nK={key:"drag",engine:GJ,resolver:eK};function rK(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function iK(n,e){if(n==null)return{};var t=rK(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}const sK={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=Yi.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},oK=["target","eventOptions","window","enabled","transform"];function uv(n={},e){const t={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":t[r]=i.call(t,n[r],r,n);break;case"object":t[r]=uv(n[r],i);break;case"boolean":i&&(t[r]=n[r]);break}return t}function aK(n,e,t={}){const r=n,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,u=iK(r,oK);if(t.shared=uv({target:i,eventOptions:s,window:o,enabled:a,transform:l},sK),e){const c=nw.get(e);t[e]=uv(An({shared:t.shared},u),c)}else for(const c in u){const d=nw.get(c);d&&(t[c]=uv(An({shared:t.shared},u[c]),d))}return t}class Hk{constructor(e,t){ri(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,r,i,s){const o=this._listeners,a=LJ(t,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=An(An({},l),s);e.addEventListener(a,i,u);const c=()=>{e.removeEventListener(a,i,u),o.delete(c)};return o.add(c),c}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class lK{constructor(){ri(this,"_timeouts",new Map)}add(e,t,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class uK{constructor(e){ri(this,"gestures",new Set),ri(this,"_targetEventStore",new Hk(this)),ri(this,"gestureEventStores",{}),ri(this,"gestureTimeoutStores",{}),ri(this,"handlers",{}),ri(this,"config",{}),ri(this,"pointerIds",new Set),ri(this,"touchIds",new Set),ri(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),cK(this,e)}setEventIds(e){if(Y0(e))return this.touchIds=new Set(IJ(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=aK(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,r={};let i;if(!(t.target&&(i=t.target(),!i))){if(t.enabled){for(const o of this.gestures){const a=this.config[o],l=AT(r,a.eventOptions,!!i);if(a.enabled){const u=zk.get(o);new u(this,e,o).bind(l)}}const s=AT(r,t.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](An(An({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=OJ(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=TJ(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}}function nc(n,e){n.gestures.add(e),n.gestureEventStores[e]=new Hk(n,e),n.gestureTimeoutStores[e]=new lK}function cK(n,e){e.drag&&nc(n,"drag"),e.wheel&&nc(n,"wheel"),e.scroll&&nc(n,"scroll"),e.move&&nc(n,"move"),e.pinch&&nc(n,"pinch"),e.hover&&nc(n,"hover")}const AT=(n,e,t)=>(r,i,s,o={},a=!1)=>{var l,u;const c=(l=o.capture)!==null&&l!==void 0?l:e.capture,d=(u=o.passive)!==null&&u!==void 0?u:e.passive;let p=a?r:AJ(r,i,c);t&&d&&(p+="Passive"),n[p]=n[p]||[],n[p].push(s)};function fK(n,e={},t,r){const i=ne.useMemo(()=>new uK(n),[]);if(i.applyHandlers(n,r),i.applyConfig(e,t),ne.useEffect(i.effect.bind(i)),ne.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function dK(n,e){return tK(nK),fK({drag:n},e||{},"drag")}const hK=n=>(e,t,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let u=o;if(a){const c=(l==null?void 0:l.equalityFn)||Object.is;let d=o(r.getState());u=p=>{const g=o(p);if(!c(d,g)){const y=d;a(d=g,y)}},l!=null&&l.fireImmediately&&a(d,d)}return i(u)},n(e,t,r)};function au(n){return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(n)}function pK(n,e){if(au(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(au(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Gk(n){var e=pK(n,"string");return au(e)==="symbol"?e:String(e)}function ka(n,e,t){return e=Gk(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function mK(n,e=1e-4){e=Math.max(e,Number.EPSILON);const t={},r=n.getIndex(),i=n.getAttribute("position"),s=r?r.count:i.count;let o=0;const a=Object.keys(n.attributes),l={},u={},c=[],d=["getX","getY","getZ","getW"];for(let x=0,v=a.length;x<v;x++){const m=a[x];l[m]=[];const S=n.morphAttributes[m];S&&(u[m]=new Array(S.length).fill(0).map(()=>[]))}const p=Math.log10(1/e),g=Math.pow(10,p);for(let x=0;x<s;x++){const v=r?r.getX(x):x;let m="";for(let S=0,_=a.length;S<_;S++){const M=a[S],P=n.getAttribute(M),C=P.itemSize;for(let R=0;R<C;R++)m+=`${~~(P[d[R]](v)*g)},`}if(m in t)c.push(t[m]);else{for(let S=0,_=a.length;S<_;S++){const M=a[S],P=n.getAttribute(M),C=n.morphAttributes[M],R=P.itemSize,T=l[M],E=u[M];for(let A=0;A<R;A++){const B=d[A];if(T.push(P[B](v)),C)for(let D=0,U=C.length;D<U;D++)E[D].push(C[D][B](v))}}t[m]=o,c.push(o),o++}}const y=n.clone();for(let x=0,v=a.length;x<v;x++){const m=a[x],S=n.getAttribute(m),_=new S.array.constructor(l[m]),M=new jt(_,S.itemSize,S.normalized);if(y.setAttribute(m,M),m in u)for(let P=0;P<u[m].length;P++){const C=n.morphAttributes[m][P],R=new C.array.constructor(u[m][P]),T=new jt(R,C.itemSize,C.normalized);y.morphAttributes[m][P]=T}}return y.setIndex(c),y}const gK=n=>n&&n.isCubeTexture;class vK extends tr{constructor(e,t){var r,i;const s=gK(e),a=((r=s?(i=e.image[0])===null||i===void 0?void 0:i.width:e.image.width)!=null?r:1024)/4,l=Math.floor(Math.log2(a)),u=Math.pow(2,l),c=3*Math.max(u,16*7),d=4*u,p=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/c}`,`#define CUBEUV_TEXEL_HEIGHT ${1/d}`,`#define CUBEUV_MAX_MIP ${l}.0`],g=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,y=p.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <encodings_fragment>
        }
        `,x={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},v=new bf(1,16),m=new rs({uniforms:x,fragmentShader:y,vertexShader:g,side:Mi});super(v,m)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class FM extends Fr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new wK(t)}),this.register(function(t){return new LK(t)}),this.register(function(t){return new PK(t)}),this.register(function(t){return new MK(t)}),this.register(function(t){return new EK(t)}),this.register(function(t){return new AK(t)}),this.register(function(t){return new CK(t)}),this.register(function(t){return new SK(t)}),this.register(function(t){return new TK(t)}),this.register(function(t){return new bK(t)}),this.register(function(t){return new xK(t)}),this.register(function(t){return new RK(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=so.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new pi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(c){t(c),s.manager.itemEnd(e)},a)}catch(c){a(c)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=e;else if(so.decodeText(new Uint8Array(e,0,4))===Vk){try{o[Ot.KHR_BINARY_GLTF]=new IK(e)}catch(d){i&&i(d);return}s=o[Ot.KHR_BINARY_GLTF].content}else s=so.decodeText(new Uint8Array(e));const l=JSON.parse(s);if(l.asset===void 0||l.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new WK(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const d=this.pluginCallbacks[c](u);a[d.name]=d,o[d.name]=!0}if(l.extensionsUsed)for(let c=0;c<l.extensionsUsed.length;++c){const d=l.extensionsUsed[c],p=l.extensionsRequired||[];switch(d){case Ot.KHR_MATERIALS_UNLIT:o[d]=new _K;break;case Ot.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[d]=new OK;break;case Ot.KHR_DRACO_MESH_COMPRESSION:o[d]=new BK(l,this.dracoLoader);break;case Ot.KHR_TEXTURE_TRANSFORM:o[d]=new DK;break;case Ot.KHR_MESH_QUANTIZATION:o[d]=new kK;break;default:p.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}u.setExtensions(o),u.setPlugins(a),u.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function yK(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Ot={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class xK{constructor(e){this.parser=e,this.name=Ot.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const c=new Ge(16777215);l.color!==void 0&&c.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new EM(c),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new MM(c),u.distance=d;break;case"spot":u=new bM(c),u.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),t.cache.add(r,i),i}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class _K{constructor(){this.name=Ot.KHR_MATERIALS_UNLIT}getMaterialType(){return li}extendParams(e,t,r){const i=[];e.color=new Ge(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,Ft))}return Promise.all(i)}}class SK{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class wK{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:fo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Oe(a,a)}return Promise.all(s)}}class bK{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:fo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class MK{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:fo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Ge(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Ft)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class EK{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:fo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class AK{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:fo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Ge(a[0],a[1],a[2]),Promise.all(s)}}class CK{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:fo}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class TK{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:fo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Ge(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,Ft)),Promise.all(s)}}class LK{constructor(e){this.parser=e,this.name=Ot.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class PK{constructor(e){this.parser=e,this.name=Ot.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class RK{constructor(e){this.name=Ot.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,c=i.count,d=i.byteStride,p=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(c,d,p,i.mode,i.filter).then(function(g){return g.buffer}):o.ready.then(function(){const g=new ArrayBuffer(c*d);return o.decodeGltfBuffer(new Uint8Array(g),c,d,p,i.mode,i.filter),g})})}else return null}}const Vk="glTF",Cd=12,CT={JSON:1313821514,BIN:5130562};class IK{constructor(e){this.name=Ot.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Cd);if(this.header={magic:so.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==Vk)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Cd,i=new DataView(e,Cd);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===CT.JSON){const l=new Uint8Array(e,Cd+s,o);this.content=so.decodeText(l)}else if(a===CT.BIN){const l=Cd+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class BK{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Ot.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const c in o){const d=iw[c]||c.toLowerCase();a[d]=o[c]}for(const c in e.attributes){const d=iw[c]||c.toLowerCase();if(o[c]!==void 0){const p=r.accessors[e.attributes[c]],g=Hh[p.componentType];u[d]=g.name,l[d]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(c){return new Promise(function(d){i.decodeDracoFile(c,function(p){for(const g in p.attributes){const y=p.attributes[g],x=l[g];x!==void 0&&(y.normalized=x)}d(p)},a,u)})})}}class DK{constructor(){this.name=Ot.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class rw extends hu{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),r=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new Ge().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const u in a)l.uniforms[u]=a[u];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",r).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class OK{constructor(){this.name=Ot.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return rw}extendParams(e,t,r){const i=t.extensions[this.name];e.color=new Ge(1,1,1),e.opacity=1;const s=[];if(Array.isArray(i.diffuseFactor)){const o=i.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(i.diffuseTexture!==void 0&&s.push(r.assignTexture(e,"map",i.diffuseTexture,Ft)),e.emissive=new Ge(0,0,0),e.glossiness=i.glossinessFactor!==void 0?i.glossinessFactor:1,e.specular=new Ge(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),i.specularGlossinessTexture!==void 0){const o=i.specularGlossinessTexture;s.push(r.assignTexture(e,"glossinessMap",o)),s.push(r.assignTexture(e,"specularMap",o,Ft))}return Promise.all(s)}createMaterial(e){const t=new rw(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=e.emissiveIntensity===void 0?1:e.emissiveIntensity,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=ra,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}class kK{constructor(){this.name=Ot.KHR_MESH_QUANTIZATION}}class jk extends Af{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,c=i-t,d=(r-t)/c,p=d*d,g=p*d,y=e*u,x=y-u,v=-2*g+3*p,m=g-p,S=1-v,_=m-p+d;for(let M=0;M!==a;M++){const P=o[x+M+a],C=o[x+M+l]*c,R=o[y+M+a],T=o[y+M]*c;s[M]=S*P+_*C+v*R+m*T}return s}}const FK=new Kr;class NK extends jk{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return FK.fromArray(s).normalize().toArray(s),s}}const Co={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Hh={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},TT={9728:In,9729:gn,9984:Ph,9985:O0,9986:Uc,9987:uo},LT={33071:xr,33648:ef,10497:Ya},PT={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},iw={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ba={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},UK={CUBICSPLINE:void 0,LINEAR:iu,STEP:tf},Ox={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function zK(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new hu({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:lo})),n.DefaultMaterial}function Td(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Tl(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function HK(n,e,t){let r=!1,i=!1,s=!1;for(let u=0,c=e.length;u<c;u++){const d=e[u];if(d.POSITION!==void 0&&(r=!0),d.NORMAL!==void 0&&(i=!0),d.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let u=0,c=e.length;u<c;u++){const d=e[u];if(r){const p=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):n.attributes.position;o.push(p)}if(i){const p=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const c=u[0],d=u[1],p=u[2];return r&&(n.morphAttributes.position=c),i&&(n.morphAttributes.normal=d),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function GK(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function VK(n){const e=n.extensions&&n.extensions[Ot.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+RT(e.attributes):t=n.indices+":"+RT(n.attributes)+":"+n.mode,t}function RT(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function sw(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function jK(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class WK{constructor(e={},t={}){var r,i;this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new yK,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const s=typeof navigator<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,o=typeof navigator<"u"&&((r=navigator.userAgent)===null||r===void 0?void 0:r.indexOf("Firefox"))>-1,a=typeof navigator<"u"&&o?(i=navigator.userAgent)===null||i===void 0?void 0:i.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||s||o&&a<98?this.textureLoader=new QO(this.options.manager):this.textureLoader=new ik(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new pi(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};Td(s,a,i),Tl(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,c]of o.children.entries())s(c,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Ot.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(so.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0)return Promise.resolve(null);const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=PT[i.type],u=Hh[i.componentType],c=u.BYTES_PER_ELEMENT,d=c*l,p=i.byteOffset||0,g=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,y=i.normalized===!0;let x,v;if(g&&g!==d){const m=Math.floor(p/g),S="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+m+":"+i.count;let _=t.cache.get(S);_||(x=new u(a,m*g,i.count*g/c),_=new sp(x,g/c),t.cache.add(S,_)),v=new Qa(_,l,p%g/c,y)}else a===null?x=new u(i.count*l):x=new u(a,p,i.count*l),v=new jt(x,l,y);if(i.sparse!==void 0){const m=PT.SCALAR,S=Hh[i.sparse.indices.componentType],_=i.sparse.indices.byteOffset||0,M=i.sparse.values.byteOffset||0,P=new S(o[1],_,i.sparse.count*m),C=new u(o[2],M,i.sparse.count*l);a!==null&&(v=new jt(v.array.slice(),v.itemSize,v.normalized));for(let R=0,T=P.length;R<T;R++){const E=P[R];if(v.setX(E,C[R*l]),l>=2&&v.setY(E,C[R*l+1]),l>=3&&v.setZ(E,C[R*l+2]),l>=4&&v.setW(E,C[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return v})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(t,r).then(function(c){c.flipY=!1,o.name&&(c.name=o.name);const p=(s.samplers||{})[o.sampler]||{};return c.magFilter=TT[p.magFilter]||gn,c.minFilter=TT[p.minFilter]||uo,c.wrapS=LT[p.wrapS]||Ya,c.wrapT=LT[p.wrapT]||Ya,i.associations.set(c,{textures:e}),c}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(d){u=!0;const p=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(l).then(function(d){return new Promise(function(p,g){let y=p;t.isImageBitmapLoader===!0&&(y=function(x){const v=new yn(x);v.needsUpdate=!0,p(v)}),t.load(so.resolveURL(d,s.path),y,void 0,g)})}).then(function(d){return u===!0&&a.revokeObjectURL(l),d.userData.mimeType=o.mimeType||jK(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=c,c}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(r.texCoord!==void 0&&r.texCoord!=0&&!(t==="aoMap"&&r.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),s.extensions[Ot.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Ot.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Ot.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new V0,Un.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new kr,Un.prototype.copy.call(l,r),l.color.copy(r.color),this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}r.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=r}getMaterialType(){return hu}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[Ot.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const d=i[Ot.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=d.getMaterialType(),u.push(d.extendParams(a,s,t))}else if(l[Ot.KHR_MATERIALS_UNLIT]){const d=i[Ot.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),u.push(d.extendParams(a,s,t))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new Ge(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const p=d.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}d.baseColorTexture!==void 0&&u.push(t.assignTexture(a,"map",d.baseColorTexture,Ft)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),u.push(t.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Mi);const c=s.alphaMode||Ox.OPAQUE;if(c===Ox.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,c===Ox.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==li&&(u.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Oe(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}return s.occlusionTexture!==void 0&&o!==li&&(u.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==li&&(a.emissive=new Ge().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==li&&u.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,Ft)),Promise.all(u).then(function(){let d;return o===rw?d=i[Ot.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):d=new o(a),s.name&&(d.name=s.name),Tl(d,s),t.associations.set(d,{materials:e}),s.extensions&&Td(i,d,s),d})}createUniqueName(e){const t=zt.sanitizeNodeName(e||"");let r=t;for(let i=1;this.nodeNamesUsed[r];++i)r=t+"_"+i;return this.nodeNamesUsed[r]=!0,r}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Ot.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return IT(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],c=VK(u),d=i[c];if(d)o.push(d.promise);else{let p;u.extensions&&u.extensions[Ot.KHR_DRACO_MESH_COMPRESSION]?p=s(u):p=IT(new St,u,t),i[c]={primitive:u,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const c=o[l].material===void 0?zK(this.cache):this.getDependency("material",o[l].material);a.push(c)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),c=l[l.length-1],d=[];for(let g=0,y=c.length;g<y;g++){const x=c[g],v=o[g];let m;const S=u[g];if(v.mode===Co.TRIANGLES||v.mode===Co.TRIANGLE_STRIP||v.mode===Co.TRIANGLE_FAN||v.mode===void 0)m=s.isSkinnedMesh===!0?new sM(x,S):new tr(x,S),m.isSkinnedMesh===!0&&!m.geometry.attributes.skinWeight.normalized&&m.normalizeSkinWeights(),v.mode===Co.TRIANGLE_STRIP?m.geometry=BT(m.geometry,sO):v.mode===Co.TRIANGLE_FAN&&(m.geometry=BT(m.geometry,Wb));else if(v.mode===Co.LINES)m=new Ds(x,S);else if(v.mode===Co.LINE_STRIP)m=new Zo(x,S);else if(v.mode===Co.LINE_LOOP)m=new oM(x,S);else if(v.mode===Co.POINTS)m=new aM(x,S);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);Object.keys(m.geometry.morphAttributes).length>0&&GK(m,s),m.name=t.createUniqueName(s.name||"mesh_"+e),Tl(m,s),v.extensions&&Td(i,m,v),t.assignFinalMaterial(m),d.push(m)}for(let g=0,y=d.length;g<y;g++)t.associations.set(d[g],{meshes:e,primitives:g});if(d.length===1)return d[0];const p=new Fo;t.associations.set(p,{meshes:e});for(let g=0,y=d.length;g<y;g++)p.add(d[g]);return p})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new qn(Ho.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new xf(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Tl(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then(function(i){return r.inverseBindMatrices=i,r})}loadAnimation(e){const r=this.json.animations[e],i=[],s=[],o=[],a=[],l=[];for(let u=0,c=r.channels.length;u<c;u++){const d=r.channels[u],p=r.samplers[d.sampler],g=d.target,y=g.node,x=r.parameters!==void 0?r.parameters[p.input]:p.input,v=r.parameters!==void 0?r.parameters[p.output]:p.output;i.push(this.getDependency("node",y)),s.push(this.getDependency("accessor",x)),o.push(this.getDependency("accessor",v)),a.push(p),l.push(g)}return Promise.all([Promise.all(i),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const c=u[0],d=u[1],p=u[2],g=u[3],y=u[4],x=[];for(let m=0,S=c.length;m<S;m++){const _=c[m],M=d[m],P=p[m],C=g[m],R=y[m];if(_===void 0)continue;_.updateMatrix();let T;switch(ba[R.path]){case ba.weights:T=af;break;case ba.rotation:T=Za;break;case ba.position:case ba.scale:default:T=lf;break}const E=_.name?_.name:_.uuid,A=C.interpolation!==void 0?UK[C.interpolation]:iu,B=[];ba[R.path]===ba.weights?_.traverse(function(U){U.morphTargetInfluences&&B.push(U.name?U.name:U.uuid)}):B.push(E);let D=P.array;if(P.normalized){const U=sw(D.constructor),H=new Float32Array(D.length);for(let j=0,$=D.length;j<$;j++)H[j]=D[j]*U;D=H}for(let U=0,H=B.length;U<H;U++){const j=new T(B[U]+"."+ba[R.path],M.array,D,A);C.interpolation==="CUBICSPLINE"&&(j.createInterpolant=function(Z){const k=this instanceof Za?NK:jk;return new k(this.times,this.values,this.getValueSize()/3,Z)},j.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),x.push(j)}}const v=r.name?r.name:"animation_"+e;return new uf(v,void 0,x)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this.extensions,i=this,s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"";return function(){const a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),Promise.all(a)}().then(function(a){let l;if(s.isBone===!0?l=new G0:a.length>1?l=new Fo:a.length===1?l=a[0]:l=new Vt,l!==a[0])for(let u=0,c=a.length;u<c;u++)l.add(a[u]);if(s.name&&(l.userData.name=s.name,l.name=o),Tl(l,s),s.extensions&&Td(r,l,s),s.matrix!==void 0){const u=new mt;u.fromArray(s.matrix),l.applyMatrix4(u)}else s.translation!==void 0&&l.position.fromArray(s.translation),s.rotation!==void 0&&l.quaternion.fromArray(s.rotation),s.scale!==void 0&&l.scale.fromArray(s.scale);return i.associations.has(l)||i.associations.set(l,{}),i.associations.get(l).nodes=e,l})}loadScene(e){const t=this.json,r=this.extensions,i=this.json.scenes[e],s=this,o=new Fo;i.name&&(o.name=s.createUniqueName(i.name)),Tl(o,i),i.extensions&&Td(r,o,i);const a=i.nodes||[],l=[];for(let u=0,c=a.length;u<c;u++)l.push(Wk(a[u],o,t,s));return Promise.all(l).then(function(){const u=c=>{const d=new Map;for(const[p,g]of s.associations)(p instanceof Un||p instanceof yn)&&d.set(p,g);return c.traverse(p=>{const g=s.associations.get(p);g!=null&&d.set(p,g)}),d};return s.associations=u(o),o})}}function Wk(n,e,t,r){const i=t.nodes[n];return r.getDependency("node",n).then(function(s){if(i.skin===void 0)return s;let o;return r.getDependency("skin",i.skin).then(function(a){o=a;const l=[];for(let u=0,c=o.joints.length;u<c;u++)l.push(r.getDependency("node",o.joints[u]));return Promise.all(l)}).then(function(a){return s.traverse(function(l){if(!l.isMesh)return;const u=[],c=[];for(let d=0,p=a.length;d<p;d++){const g=a[d];if(g){u.push(g);const y=new mt;o.inverseBindMatrices!==void 0&&y.fromArray(o.inverseBindMatrices.array,d*16),c.push(y)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[d])}l.bind(new op(u,c),l.matrixWorld)}),s})}).then(function(s){e.add(s);const o=[];if(i.children){const a=i.children;for(let l=0,u=a.length;l<u;l++){const c=a[l];o.push(Wk(c,s,t,r))}}return Promise.all(o)})}function $K(n,e,t){const r=e.attributes,i=new Is;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new X(l[0],l[1],l[2]),new X(u[0],u[1],u[2])),a.normalized){const c=sw(Hh[a.componentType]);i.min.multiplyScalar(c),i.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new X,l=new X;for(let u=0,c=s.length;u<c;u++){const d=s[u];if(d.POSITION!==void 0){const p=t.json.accessors[d.POSITION],g=p.min,y=p.max;if(g!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(g[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(g[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(g[2]),Math.abs(y[2]))),p.normalized){const x=sw(Hh[p.componentType]);l.multiplyScalar(x)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new Bs;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function IT(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=iw[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Tl(n,e),$K(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?HK(n,e.targets,t):n})}function BT(n,e){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(e===Wb)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s}class JK extends wf{constructor(e,t={}){const{bevelEnabled:r=!1,bevelSize:i=8,bevelThickness:s=10,font:o,height:a=50,size:l=100,lineHeight:u=1,letterSpacing:c=0,...d}=t;if(o===void 0)super();else{const p=o.generateShapes(e,l,{lineHeight:u,letterSpacing:c});super(p,{...d,bevelEnabled:r,bevelSize:i,bevelThickness:s,depth:a})}this.type="TextGeometry"}}class KK extends Fr{constructor(e){super(e)}load(e,t,r,i){const s=new pi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{if(typeof o!="string")throw new Error("unsupported data type");const a=JSON.parse(o),l=this.parse(a);t&&t(l)},r,i)}parse(e){return new NM(e)}}class NM{constructor(e){ka(this,"data",void 0),this.data=e}generateShapes(e,t=100,r){const i=[],s={letterSpacing:0,lineHeight:1,...r},o=XK(e,t,this.data,s);for(let a=0,l=o.length;a<l;a++)Array.prototype.push.apply(i,o[a].toShapes(!1));return i}}ka(NM,"isFont",void 0);ka(NM,"type",void 0);function XK(n,e,t,r){const i=Array.from(n),s=e/t.resolution,o=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*s,a=[];let l=0,u=0;for(let c=0;c<i.length;c++){const d=i[c];if(d===`
`)l=0,u-=o*r.lineHeight;else{const p=YK(d,s,l,u,t);p&&(l+=p.offsetX+r.letterSpacing,a.push(p.path))}}return a}function YK(n,e,t,r,i){const s=i.glyphs[n]||i.glyphs["?"];if(!s){console.error('THREE.Font: character "'+n+'" does not exists in font family '+i.familyName+".");return}const o=new uk;let a,l,u,c,d,p,g,y;if(s.o){const x=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let v=0,m=x.length;v<m;)switch(x[v++]){case"m":a=parseInt(x[v++])*e+t,l=parseInt(x[v++])*e+r,o.moveTo(a,l);break;case"l":a=parseInt(x[v++])*e+t,l=parseInt(x[v++])*e+r,o.lineTo(a,l);break;case"q":u=parseInt(x[v++])*e+t,c=parseInt(x[v++])*e+r,d=parseInt(x[v++])*e+t,p=parseInt(x[v++])*e+r,o.quadraticCurveTo(d,p,u,c);break;case"b":u=parseInt(x[v++])*e+t,c=parseInt(x[v++])*e+r,d=parseInt(x[v++])*e+t,p=parseInt(x[v++])*e+r,g=parseInt(x[v++])*e+t,y=parseInt(x[v++])*e+r,o.bezierCurveTo(d,p,g,y,u,c);break}}return{offsetX:s.ha*e,path:o}}class QK extends YO{constructor(e){super(e),this.type=Zi}parse(e){const a=function(_,M){switch(_){case 1:console.error("THREE.RGBELoader Read Error: "+(M||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(M||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(M||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(M||""))}return-1},d=`
`,p=function(_,M,P){M=M||1024;let R=_.pos,T=-1,E=0,A="",B=String.fromCharCode.apply(null,new Uint16Array(_.subarray(R,R+128)));for(;0>(T=B.indexOf(d))&&E<M&&R<_.byteLength;)A+=B,E+=B.length,R+=128,B+=String.fromCharCode.apply(null,new Uint16Array(_.subarray(R,R+128)));return-1<T?(P!==!1&&(_.pos+=E+T+1),A+B.slice(0,T)):!1},g=function(_){const M=/^#\?(\S+)/,P=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,C=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,R=/^\s*FORMAT=(\S+)\s*$/,T=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,E={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let A,B;if(_.pos>=_.byteLength||!(A=p(_)))return a(1,"no header found");if(!(B=A.match(M)))return a(3,"bad initial token");for(E.valid|=1,E.programtype=B[1],E.string+=A+`
`;A=p(_),A!==!1;){if(E.string+=A+`
`,A.charAt(0)==="#"){E.comments+=A+`
`;continue}if((B=A.match(P))&&(E.gamma=parseFloat(B[1])),(B=A.match(C))&&(E.exposure=parseFloat(B[1])),(B=A.match(R))&&(E.valid|=2,E.format=B[1]),(B=A.match(T))&&(E.valid|=4,E.height=parseInt(B[1],10),E.width=parseInt(B[2],10)),E.valid&2&&E.valid&4)break}return E.valid&2?E.valid&4?E:a(3,"missing image size specifier"):a(3,"missing format specifier")},y=function(_,M,P){const C=M;if(C<8||C>32767||_[0]!==2||_[1]!==2||_[2]&128)return new Uint8Array(_);if(C!==(_[2]<<8|_[3]))return a(3,"wrong scanline width");const R=new Uint8Array(4*M*P);if(!R.length)return a(4,"unable to allocate buffer space");let T=0,E=0;const A=4*C,B=new Uint8Array(4),D=new Uint8Array(A);let U=P;for(;U>0&&E<_.byteLength;){if(E+4>_.byteLength)return a(1);if(B[0]=_[E++],B[1]=_[E++],B[2]=_[E++],B[3]=_[E++],B[0]!=2||B[1]!=2||(B[2]<<8|B[3])!=C)return a(3,"bad rgbe scanline format");let H=0,j;for(;H<A&&E<_.byteLength;){j=_[E++];const Z=j>128;if(Z&&(j-=128),j===0||H+j>A)return a(3,"bad scanline data");if(Z){const k=_[E++];for(let W=0;W<j;W++)D[H++]=k}else D.set(_.subarray(E,E+j),H),H+=j,E+=j}const $=C;for(let Z=0;Z<$;Z++){let k=0;R[T]=D[Z+k],k+=C,R[T+1]=D[Z+k],k+=C,R[T+2]=D[Z+k],k+=C,R[T+3]=D[Z+k],T+=4}U--}return R},x=function(_,M,P,C){const R=_[M+3],T=Math.pow(2,R-128)/255;P[C+0]=_[M+0]*T,P[C+1]=_[M+1]*T,P[C+2]=_[M+2]*T,P[C+3]=1},v=function(_,M,P,C){const R=_[M+3],T=Math.pow(2,R-128)/255;P[C+0]=Gd.toHalfFloat(Math.min(_[M+0]*T,65504)),P[C+1]=Gd.toHalfFloat(Math.min(_[M+1]*T,65504)),P[C+2]=Gd.toHalfFloat(Math.min(_[M+2]*T,65504)),P[C+3]=Gd.toHalfFloat(1)},m=new Uint8Array(e);m.pos=0;const S=g(m);if(S!==-1){const _=S.width,M=S.height,P=y(m.subarray(m.pos),_,M);if(P!==-1){let C,R,T;switch(this.type){case Ai:T=P.length/4;const E=new Float32Array(T*4);for(let B=0;B<T;B++)x(P,B*4,E,B*4);C=E,R=Ai;break;case Zi:T=P.length/4;const A=new Uint16Array(T*4);for(let B=0;B<T;B++)v(P,B*4,A,B*4);C=A,R=Zi;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:_,height:M,data:C,header:S.string,gamma:S.gamma,exposure:S.exposure,type:R}}}return null}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(o,a){switch(o.type){case Ai:case Zi:o.encoding=Ls,o.minFilter=gn,o.magFilter=gn,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,a)}return super.load(e,s,r,i)}}const kx=new WeakMap;class ZK extends Fr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new pi(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const u=t.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=u.name)}const r=JSON.stringify(t);if(kx.has(e)){const l=kx.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((u,c)=>{i._callbacks[s]={resolve:u,reject:c},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),kx.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new St;e.index&&t.setIndex(new jt(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new jt(o,a))}return t}_loadLibrary(e,t){const r=new pi(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=qK.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function qK(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(c){n.onModuleLoaded=function(d){c({draco:d})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(c=>{const d=c.draco,p=new d.Decoder,g=new d.DecoderBuffer;g.Init(new Int8Array(l),l.byteLength);try{const y=t(d,p,g,u),x=y.attributes.map(v=>v.array.buffer);y.index&&x.push(y.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:y},x)}catch(y){console.error(y),self.postMessage({type:"error",id:a.id,error:y.message})}finally{d.destroy(g),d.destroy(p)}});break}};function t(o,a,l,u){const c=u.attributeIDs,d=u.attributeTypes;let p,g;const y=a.GetEncodedGeometryType(l);if(y===o.TRIANGULAR_MESH)p=new o.Mesh,g=a.DecodeBufferToMesh(l,p);else if(y===o.POINT_CLOUD)p=new o.PointCloud,g=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!g.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+g.error_msg());const x={index:null,attributes:[]};for(const v in c){const m=self[d[v]];let S,_;if(u.useUniqueIDs)_=c[v],S=a.GetAttributeByUniqueId(p,_);else{if(_=a.GetAttributeId(p,o[c[v]]),_===-1)continue;S=a.GetAttribute(p,_)}x.attributes.push(i(o,a,p,v,m,S))}return y===o.TRIANGULAR_MESH&&(x.index=r(o,a,p)),o.destroy(p),x}function r(o,a,l){const c=l.num_faces()*3,d=c*4,p=o._malloc(d);a.GetTrianglesUInt32Array(l,d,p);const g=new Uint32Array(o.HEAPF32.buffer,p,c).slice();return o._free(p),{array:g,itemSize:1}}function i(o,a,l,u,c,d){const p=d.num_components(),y=l.num_points()*p,x=y*c.BYTES_PER_ELEMENT,v=s(o,c),m=o._malloc(x);a.GetAttributeDataArrayForAllPoints(l,d,v,x,m);const S=new c(o.HEAPF32.buffer,m,y).slice();return o._free(m),{name:u,array:S,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Eg;const Fx=()=>{if(Eg)return Eg;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(d=>{s=d.instance,s.exports.__wasm_call_ctors()});function a(d){const p=new Uint8Array(d.length);for(let y=0;y<d.length;++y){const x=d.charCodeAt(y);p[y]=x>96?x-71:x>64?x-65:x>47?x+4:x>46?63:62}let g=0;for(let y=0;y<d.length;++y)p[g++]=p[y]<60?r[p[y]]:(p[y]-60)*64+p[++y];return p.buffer.slice(0,g)}function l(d,p,g,y,x,v){const m=s.exports.sbrk,S=g+3&-4,_=m(S*y),M=m(x.length),P=new Uint8Array(s.exports.memory.buffer);P.set(x,M);const C=d(_,g,y,M,x.length);if(C===0&&v&&v(_,S,y),p.set(P.subarray(_,_+g*y)),m(_-m(0)),C!==0)throw new Error(`Malformed buffer data: ${C}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},c={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Eg={ready:o,supported:!0,decodeVertexBuffer(d,p,g,y,x){l(s.exports.meshopt_decodeVertexBuffer,d,p,g,y,s.exports[u[x]])},decodeIndexBuffer(d,p,g,y){l(s.exports.meshopt_decodeIndexBuffer,d,p,g,y)},decodeIndexSequence(d,p,g,y){l(s.exports.meshopt_decodeIndexSequence,d,p,g,y)},decodeGltfBuffer(d,p,g,y,x,v){l(s.exports[c[x]],d,p,g,y,s.exports[u[v]])}},Eg};function $k(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}let Nx=null;async function Jk(n){Nx||(Nx=new KK);let e=typeof n=="string"?await(await fetch(n)).json():n;return Nx.parse(e)}function UM(n){return gk(Jk,[n])}UM.preload=n=>vk(Jk,[n]);UM.clear=n=>yk([n]);const eX=["string","number"],tX=n=>{let e="";const t=[];return w.Children.forEach(n,r=>{eX.includes(typeof r)?e+=r+"":t.push(r)}),[e,...t]},nX=w.forwardRef(({font:n,letterSpacing:e=0,lineHeight:t=1,size:r=1,height:i=.2,bevelThickness:s=.1,bevelSize:o=.01,bevelEnabled:a=!1,bevelOffset:l=0,bevelSegments:u=4,curveSegments:c=8,smooth:d,children:p,...g},y)=>{w.useMemo(()=>Cf({RenamedTextGeometry:JK}),[]);const x=w.useRef(null),v=UM(n),m=w.useMemo(()=>({font:v,size:r,height:i,bevelThickness:s,bevelSize:o,bevelEnabled:a,bevelSegments:u,bevelOffset:l,curveSegments:c,letterSpacing:e,lineHeight:t}),[v,r,i,s,o,a,u,l,c,e,t]),[S,..._]=w.useMemo(()=>tX(p),[p]),M=w.useMemo(()=>[S,m],[S,m]);return w.useLayoutEffect(()=>{d&&(x.current.geometry=mK(x.current.geometry,d),x.current.geometry.computeVertexNormals())},[M,d]),w.useImperativeHandle(y,()=>x.current,[]),w.createElement("mesh",$e({},g,{ref:x}),w.createElement("renamedTextGeometry",{args:M}),_)});function Kk(n,e,t,r){const i=class extends rs{constructor(o={}){const a=Object.entries(n);super({uniforms:a.reduce((l,[u,c])=>{const d=Zb.clone({[u]:{value:c}});return{...l,...d}},{}),vertexShader:e,fragmentShader:t}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:u=>this.uniforms[l].value=u})),Object.assign(this,o),r&&r(this)}};return i.key=Ho.generateUUID(),i}let Ag=null;function Xk(n,e,t){return r=>{t&&t(r),n&&(Ag||(Ag=new ZK),Ag.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),r.setDRACOLoader(Ag)),e&&r.setMeshoptDecoder(typeof Fx=="function"?Fx():Fx)}}function zM(n,e=!0,t=!0,r){return Lf(FM,n,Xk(e,t,r))}zM.preload=(n,e=!0,t=!0,r)=>Lf.preload(FM,n,Xk(e,t,r));zM.clear=n=>Lf.clear(FM,n);const rX=Kk({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }"),iX=w.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:r=1,floatIntensity:i=1,floatingRange:s=[-.1,.1],...o},a)=>{const l=w.useRef(null),u=w.useRef(Math.random()*1e4);return Tf(c=>{var d,p;if(!e||t===0)return;const g=u.current+c.clock.getElapsedTime();l.current.rotation.x=Math.cos(g/4*t)/8*r,l.current.rotation.y=Math.sin(g/4*t)/8*r,l.current.rotation.z=Math.sin(g/4*t)/20*r;let y=Math.sin(g/4*t)/10;y=Ho.mapLinear(y,-.1,.1,(d=s==null?void 0:s[0])!==null&&d!==void 0?d:-.1,(p=s==null?void 0:s[1])!==null&&p!==void 0?p:.1),l.current.position.y=y*i,l.current.updateMatrix()}),w.createElement("group",o,w.createElement("group",{ref:Ok([l,a]),matrixAutoUpdate:!1},n))}),Ux={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},sX="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/";function Yk({files:n=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:t=void 0,encoding:r=void 0,extensions:i}={}){if(t){if(!(t in Ux))throw new Error("Preset must be one of: "+Object.keys(Ux).join(", "));n=Ux[t],e=sX}const s=Array.isArray(n),a=Lf(s?XO:QK,s?[n]:n,u=>{u.setPath(e),i&&i(u)}),l=s?a[0]:a;return l.mapping=s?Yo:qc,l.encoding=r??s?Ft:Ls,l}const oX=n=>n.current&&n.current.isScene,aX=n=>oX(n)?n.current:n;function HM(n,e,t,r,i=0){const s=aX(e||t),o=s.background,a=s.environment,l=s.backgroundBlurriness||0;return n!=="only"&&(s.environment=r),n&&(s.background=r),n&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=i),()=>{n!=="only"&&(s.environment=a),n&&(s.background=o),n&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=l)}}function GM({scene:n,background:e=!1,blur:t,map:r}){const i=Oa(s=>s.scene);return w.useLayoutEffect(()=>{if(r)return HM(e,n,i,r,t)},[i,n,r,e,t]),null}function Qk({background:n=!1,scene:e,blur:t,...r}){const i=Yk(r),s=Oa(o=>o.scene);return w.useLayoutEffect(()=>HM(n,e,s,i,t),[i,n,e,s,t]),null}function lX({children:n,near:e=1,far:t=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:a,scene:l,files:u,path:c,preset:d=void 0,extensions:p}){const g=Oa(_=>_.gl),y=Oa(_=>_.scene),x=w.useRef(null),[v]=w.useState(()=>new Dh),m=w.useMemo(()=>{const _=new qb(r);return _.texture.type=Zi,_},[r]);w.useLayoutEffect(()=>(i===1&&x.current.update(g,v),HM(o,l,y,m.texture,a)),[n,v,m.texture,l,y,o,i,g]);let S=1;return Tf(()=>{(i===1/0||S<i)&&(x.current.update(g,v),S++)}),w.createElement(w.Fragment,null,eJ(w.createElement(w.Fragment,null,n,w.createElement("cubeCamera",{ref:x,args:[e,t,m]}),u||d?w.createElement(Qk,{background:!0,files:u,preset:d,path:c,extensions:p}):s?w.createElement(GM,{background:!0,map:s,extensions:p}):null),v))}function uX(n){var e,t,r,i;const s=Yk(n),o=n.map||s;w.useMemo(()=>Cf({GroundProjectedEnvImpl:vK}),[]);const a=w.useMemo(()=>[o],[o]),l=(e=n.ground)==null?void 0:e.height,u=(t=n.ground)==null?void 0:t.radius,c=(r=(i=n.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return w.createElement(w.Fragment,null,w.createElement(GM,$e({},n,{map:o})),w.createElement("groundProjectedEnvImpl",{args:a,scale:c,height:l,radius:u}))}function cX(n){return n.ground?w.createElement(uX,n):n.map?w.createElement(GM,n):n.children?w.createElement(lX,n):w.createElement(Qk,n)}function fX(n){return n.isLight}function dX(n){return!!n.geometry}const Zk=w.createContext(null),hX=Kk({color:new Ge,blend:2,alphaTest:.75,opacity:0,map:null},`varying vec2 vUv;
   void main() {
     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
     vUv = uv;
   }`,`varying vec2 vUv;
   uniform sampler2D map;
   uniform vec3 color;
   uniform float opacity;
   uniform float alphaTest;
   uniform float blend;
   void main() {
     vec4 sampledDiffuseColor = texture2D(map, vUv);
     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);
     #include <tonemapping_fragment>
     #include <encodings_fragment>
   }`),pX=w.forwardRef(({children:n,temporal:e,frames:t=40,limit:r=1/0,blend:i=20,scale:s=10,opacity:o=1,alphaTest:a=.75,color:l="black",colorBlend:u=2,resolution:c=1024,toneMapped:d=!0,...p},g)=>{Cf({SoftShadowMaterial:hX});const y=Oa(C=>C.gl),x=Oa(C=>C.scene),v=Oa(C=>C.camera),m=Oa(C=>C.invalidate),S=w.useRef(null),_=w.useRef(null),[M]=w.useState(()=>new gX(y,x,c));w.useLayoutEffect(()=>{M.configure(S.current)},[]);const P=w.useMemo(()=>({lights:new Map,temporal:!!e,frames:Math.max(2,t),blend:Math.max(2,t===1/0?i:t),count:0,getMesh:()=>S.current,reset:()=>{M.clear();const C=S.current.material;C.opacity=0,C.alphaTest=0,P.count=0},update:(C=1)=>{const R=S.current.material;P.temporal?(R.opacity=Math.min(o,R.opacity+o/P.blend),R.alphaTest=Math.min(a,R.alphaTest+a/P.blend)):(R.opacity=o,R.alphaTest=a),_.current.visible=!0,M.prepare();for(let T=0;T<C;T++)P.lights.forEach(E=>E.update()),M.update(v,P.blend);_.current.visible=!1,M.finish()}}),[M,v,x,e,t,i,o,a]);return w.useLayoutEffect(()=>{P.reset(),!P.temporal&&P.frames!==1/0&&P.update(P.blend)}),w.useImperativeHandle(g,()=>P,[P]),Tf(()=>{(P.temporal||P.frames===1/0)&&P.count<P.frames&&P.count<r&&(m(),P.update(),P.count++)}),w.createElement("group",p,w.createElement("group",{traverse:()=>null,ref:_},w.createElement(Zk.Provider,{value:P},n)),w.createElement("mesh",{receiveShadow:!0,ref:S,scale:s,rotation:[-Math.PI/2,0,0]},w.createElement("planeGeometry",null),w.createElement("softShadowMaterial",{transparent:!0,depthWrite:!1,toneMapped:d,color:l,blend:u,map:M.progressiveLightMap2.texture})))}),mX=w.forwardRef(({castShadow:n=!0,bias:e=.001,mapSize:t=512,size:r=5,near:i=.5,far:s=500,frames:o=1,position:a=[0,0,0],radius:l=1,amount:u=8,intensity:c=1,ambient:d=.5,...p},g)=>{const y=w.useRef(null),x=new X(...a).length(),v=w.useContext(Zk),m=w.useCallback(()=>{let _;if(y.current)for(let M=0;M<y.current.children.length;M++)if(_=y.current.children[M],Math.random()>d)_.position.set(a[0]+Ho.randFloatSpread(l),a[1]+Ho.randFloatSpread(l),a[2]+Ho.randFloatSpread(l));else{let P=Math.acos(2*Math.random()-1)-Math.PI/2,C=2*Math.PI*Math.random();_.position.set(Math.cos(P)*Math.cos(C)*x,Math.abs(Math.cos(P)*Math.sin(C)*x),Math.sin(P)*x)}},[l,d,x,...a]),S=w.useMemo(()=>({update:m}),[m]);return w.useImperativeHandle(g,()=>S,[S]),w.useLayoutEffect(()=>{const _=y.current;return v&&v.lights.set(_.uuid,S),()=>void v.lights.delete(_.uuid)},[v,S]),w.createElement("group",$e({ref:y},p),Array.from({length:u},(_,M)=>w.createElement("directionalLight",{key:M,castShadow:n,"shadow-bias":e,"shadow-mapSize":[t,t],intensity:c/u},w.createElement("orthographicCamera",{attach:"shadow-camera",args:[-r,r,r,-r,i,s]}))))});class gX{constructor(e,t,r=1024){this.renderer=e,this.res=r,this.scene=t,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new Ge,this.clearAlpha=0;const i=/(Android|iPad|iPhone|iPod)/g.test(navigator.userAgent)?Zi:Ai;this.progressiveLightMap1=new Ii(this.res,this.res,{type:i,encoding:e.outputEncoding}),this.progressiveLightMap2=new Ii(this.res,this.res,{type:i,encoding:e.outputEncoding}),this.discardMat=new rX,this.targetMat=new J0({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=s=>{s.vertexShader=`varying vec2 vUv;
`+s.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";const o=s.fragmentShader.indexOf("void main() {");s.fragmentShader=`varying vec2 vUv;
`+s.fragmentShader.slice(0,o)+`uniform sampler2D previousShadowMap;
	uniform float averagingWindow;
`+s.fragmentShader.slice(o-1,-1)+`
vec3 texelOld = texture2D(previousShadowMap, vUv).rgb;
        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);
      }`,s.uniforms.previousShadowMap=this.previousShadowMap,s.uniforms.averagingWindow=this.averagingWindow}}clear(){this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor("black",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse(e=>{dX(e)?this.meshes.push({object:e,material:e.material}):fX(e)&&this.lights.push({object:e,intensity:e.intensity})})}prepare(){this.lights.forEach(e=>e.object.intensity=0),this.meshes.forEach(e=>e.object.material=this.discardMat)}finish(){this.lights.forEach(e=>e.object.intensity=e.intensity),this.meshes.forEach(e=>e.object.material=e.material)}configure(e){this.object=e}update(e,t=100){if(!this.object)return;this.averagingWindow.value=t,this.object.material=this.targetMat;const r=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,i=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,s=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(r),this.previousShadowMap.value=i.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.scene.background=s}}const rc=w.forwardRef(({args:n,map:e,toneMapped:t=!1,color:r="white",form:i="rect",intensity:s=1,scale:o=1,target:a,children:l,...u},c)=>{const d=w.useRef(null);return w.useLayoutEffect(()=>{!l&&!u.material&&(cc(d.current.material,{color:r}),d.current.material.color.multiplyScalar(s))},[r,s,l,u.material]),w.useLayoutEffect(()=>{a&&d.current.lookAt(Array.isArray(a)?new X(...a):a)},[a]),o=Array.isArray(o)&&o.length===2?[o[0],o[1],1]:o,w.createElement("mesh",$e({ref:Ok([d,c]),scale:o},u),i==="circle"?w.createElement("ringGeometry",{args:[0,1,64]}):i==="ring"?w.createElement("ringGeometry",{args:[.5,1,64]}):i==="rect"?w.createElement("planeGeometry",null):w.createElement(i,{args:n}),l||(u.material?null:w.createElement("meshBasicMaterial",{toneMapped:t,map:e,side:Mi})))});var qk={exports:{}},vX="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",yX=vX,xX=yX;function eF(){}function tF(){}tF.resetWarningCache=eF;var _X=function(){function n(r,i,s,o,a,l){if(l!==xX){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:tF,resetWarningCache:eF};return t.PropTypes=t,t};qk.exports=_X();var SX=qk.exports;const un=Rs(SX),wX=w.createContext(null);function bX({iterations:n=10,ms:e=250,threshold:t=.75,step:r=.1,factor:i=.5,flipflops:s=1/0,bounds:o=p=>p>100?[60,100]:[40,60],onIncline:a,onDecline:l,onChange:u,onFallback:c,children:d}){const p=Math.pow(10,0),[g,y]=w.useState(()=>({fps:0,index:0,factor:i,flipped:0,refreshrate:0,fallback:!1,frames:[],averages:[],subscriptions:new Map,subscribe:v=>{const m=Symbol();return g.subscriptions.set(m,v.current),()=>void g.subscriptions.delete(m)}}));let x=0;return Tf(()=>{const{frames:v,averages:m}=g;if(!g.fallback&&m.length<n){v.push(performance.now());const S=v[v.length-1]-v[0];if(S>=e){if(g.fps=Math.round(v.length/S*1e3*p)/p,g.refreshrate=Math.max(g.refreshrate,g.fps),m[g.index++%n]=g.fps,m.length===n){const[_,M]=o(g.refreshrate),P=m.filter(R=>R>=M),C=m.filter(R=>R<_);P.length>n*t&&(g.factor=Math.min(1,g.factor+r),g.flipped++,a&&a(g),g.subscriptions.forEach(R=>R.onIncline&&R.onIncline(g))),C.length>n*t&&(g.factor=Math.max(0,g.factor-r),g.flipped++,l&&l(g),g.subscriptions.forEach(R=>R.onDecline&&R.onDecline(g))),x!==g.factor&&(x=g.factor,u&&u(g),g.subscriptions.forEach(R=>R.onChange&&R.onChange(g))),g.flipped>s&&!g.fallback&&(g.fallback=!0,c&&c(g),g.subscriptions.forEach(R=>R.onFallback&&R.onFallback(g))),g.averages=[]}g.frames=[]}}}),w.createElement(wX.Provider,{value:g},d)}var nF=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"],MX=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"],rF=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"],EX=nF,AX=EX.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"]),ow=rF;ow=ow.slice().filter(function(n){return!/^(gl\_|texture)/.test(n)});var CX=ow.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"]),TX=NX,LX=nF,DT=MX,PX=rF,RX=AX,IX=CX,ys=999,OT=9999,zx=0,Hx=1,kT=2,FT=3,NT=4,Ld=5,BX=6,DX=7,OX=8,UT=9,kX=10,zT=11,FX=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function NX(n){var e=0,t=0,r=ys,i,s,o=[],a=[],l=1,u=0,c=0,d=!1,p=!1,g="",y;n=n||{};var x=PX,v=LX;n.version==="300 es"&&(x=IX,v=RX);for(var m={},S={},e=0;e<x.length;e++)m[x[e]]=!0;for(var e=0;e<v.length;e++)S[v[e]]=!0;return function(Z){return a=[],Z!==null?M(Z):P()};function _(Z){Z.length&&a.push({type:FX[r],data:Z,position:c,line:l,column:u})}function M(Z){e=0,Z.toString&&(Z=Z.toString()),g+=Z.replace(/\r\n/g,`
`),y=g.length;for(var k;i=g[e],e<y;){switch(k=e,r){case zx:e=A();break;case Hx:e=E();break;case kT:e=T();break;case FT:e=B();break;case NT:e=H();break;case zT:e=U();break;case Ld:e=j();break;case OT:e=$();break;case UT:e=R();break;case ys:e=C();break}if(k!==e)switch(g[k]){case`
`:u=0,++l;break;default:++u;break}}return t+=e,g=g.slice(e),a}function P(Z){return o.length&&_(o.join("")),r=kX,_("(eof)"),a}function C(){return o=o.length?[]:o,s==="/"&&i==="*"?(c=t+e-1,r=zx,s=i,e+1):s==="/"&&i==="/"?(c=t+e-1,r=Hx,s=i,e+1):i==="#"?(r=kT,c=t+e,e):/\s/.test(i)?(r=UT,c=t+e,e):(d=/\d/.test(i),p=/[^\w_]/.test(i),c=t+e,r=d?NT:p?FT:OT,e)}function R(){return/[^\s]/g.test(i)?(_(o.join("")),r=ys,e):(o.push(i),s=i,e+1)}function T(){return(i==="\r"||i===`
`)&&s!=="\\"?(_(o.join("")),r=ys,e):(o.push(i),s=i,e+1)}function E(){return T()}function A(){return i==="/"&&s==="*"?(o.push(i),_(o.join("")),r=ys,e+1):(o.push(i),s=i,e+1)}function B(){if(s==="."&&/\d/.test(i))return r=Ld,e;if(s==="/"&&i==="*")return r=zx,e;if(s==="/"&&i==="/")return r=Hx,e;if(i==="."&&o.length){for(;D(o););return r=Ld,e}if(i===";"||i===")"||i==="("){if(o.length)for(;D(o););return _(i),r=ys,e+1}var Z=o.length===2&&i!=="=";if(/[\w_\d\s]/.test(i)||Z){for(;D(o););return r=ys,e}return o.push(i),s=i,e+1}function D(Z){var k=0,W,V;do{if(W=DT.indexOf(Z.slice(0,Z.length+k).join("")),V=DT[W],W===-1){if(k--+Z.length>0)continue;V=Z.slice(0,1).join("")}return _(V),c+=V.length,o=o.slice(V.length),o.length}while(1)}function U(){return/[^a-fA-F0-9]/.test(i)?(_(o.join("")),r=ys,e):(o.push(i),s=i,e+1)}function H(){return i==="."||/[eE]/.test(i)?(o.push(i),r=Ld,s=i,e+1):i==="x"&&o.length===1&&o[0]==="0"?(r=zT,o.push(i),s=i,e+1):/[^\d]/.test(i)?(_(o.join("")),r=ys,e):(o.push(i),s=i,e+1)}function j(){return i==="f"&&(o.push(i),s=i,e+=1),/[eE]/.test(i)||(i==="-"||i==="+")&&/[eE]/.test(s)?(o.push(i),s=i,e+1):/[^\d]/.test(i)?(_(o.join("")),r=ys,e):(o.push(i),s=i,e+1)}function $(){if(/[^\d\w_]/.test(i)){var Z=o.join("");return S[Z]?r=OX:m[Z]?r=DX:r=BX,_(o.join("")),r=ys,e}return o.push(i),s=i,e+1}}var UX=TX,zX=HX;function HX(n,e){var t=UX(e),r=[];return r=r.concat(t(n)),r=r.concat(t(null)),r}const aw=Rs(zX);var Gx,HT;function GX(){if(HT)return Gx;HT=1,Gx=n;function n(e){for(var t=!1,r=0,i=0;i<e.length;i++)switch(t=t||e[i].type==="keyword"&&e[i].data==="for",e[i].data){case"(":e[i].depth=t?r++:r;break;case"{":e[i].depth=t?r:r++,t=!1;break;case"}":e[i].depth=--r;break;default:e[i].depth=r}for(var i=0;i<e.length;i++){var s=e[i],o=i+1;if(!(s.type!=="ident"&&s.type!=="keyword")&&(a(),e[o].type==="ident"&&(a(),o++,e[o].data==="("))){for(;e[o]&&e[o].data!==";"&&e[o].data!=="{";)e[o++].depth++;e[o]&&e[o].data==="{"&&e[o].depth++}}return e;function a(){for(;e[o]&&(e[o].type==="whitespace"||e[o].data==="["||e[o].data==="]"||e[o].data==="integer");)o++}}return Gx}var Vx,GT;function VX(){if(GT)return Vx;GT=1,Vx=n;function n(e){var t=[0],r=t[0],i=0;if(!e||!e.length)return e;if(!("depth"in e[0]))throw new Error("glsl-token-scope: No scope depth defined on tokens! Use glsl-token-depth on these tokens first");for(var s=0;s<e.length;s++){var o=e[s],a=o.depth;a>i?t.push(++r):a<i&&t.splice(-1,1),o.scope=t[t.length-1],o.stack=t.slice(),i=o.depth}return e}return Vx}var jx,VT;function jX(){if(VT)return jx;VT=1,jx=n;function n(e){for(var t=0;t<e.length;t++){var r=e[t];if(r.property=!1,r.type==="ident"){for(var i=t;e[--i]&&e[i].type==="whitespace";);e[i]&&e[i].type==="operator"&&e[i].data==="."&&(r.property=!0)}}return e}return jx}var Wx,jT;function WX(){return jT||(jT=1,Wx={"<<=":!0,">>=":!0,"++":!0,"--":!0,"+=":!0,"-=":!0,"*=":!0,"/=":!0,"%=":!0,"&=":!0,"^=":!0,"|=":!0,"=":!0}),Wx}var $x,WT;function $X(){return WT||(WT=1,$x={precision:!0,highp:!0,mediump:!0,lowp:!0,attribute:!0,const:!0,uniform:!0,varying:!0,break:!0,continue:!0,do:!0,for:!0,while:!0,if:!0,else:!0,in:!0,out:!0,inout:!0,true:!0,false:!0,return:!0}),$x}var Jx,$T;function JX(){if($T)return Jx;$T=1;var n=WX(),e=$X();Jx=t;function t(r){for(var i=0,s=0;s<r.length;s++){var o=r[s],a=o.type;o.assignment=!1,o.declaration=!1,!(a!=="ident"&&a!=="builtin")&&(i=s+1,c(),r[i].type==="operator"&&n[r[i].data]&&(o.assignment=!0))}for(var s=0;s<r.length;s++){var l=r[s],a=l.type,u=l.data;if(l.declaration=!1,a==="keyword"){if(e[u])continue}else if(a!=="ident")continue;if(i=s+1,d(),r[i].type==="ident"){if(r[i++].declaration=!0,d(),r[i].data==="("){for(i++,c();r[i]&&r[i].data!==")"&&!(r[i].type!=="keyword"&&r[i].type!=="ident");)i++,c(),r[i].type==="ident"&&(r[i++].declaration=!0,c(),d(),c(),r[i].data===","&&(i++,c()));s=i;continue}for(;r[i]&&r[i].data!==";";)r[i].data===","?(i++,c(),(r[i].declaration=r[i].type==="ident")&&i++):(c(),p(),c(),i++);s=i}}for(var s=0;s<r.length;s++){var o=r[s];if(o.type==="keyword"&&o.data==="struct"&&(i=s+1,c(),r[i].type==="ident"&&(i++,c(),r[i++].data==="{"))){for(c();r[i].type==="ident"||r[i].type==="keyword";){do i++,c(),r[i].structMember=!0,r[i].declaration=!1,i++,d();while(r[i].data===",");r[i].data===";"&&i++,c()}if(i++,c(),r[i].type==="ident")for(r[i].declaration=!0,c();r[++i].data===",";)c(),i++,c(),r[i].type==="ident"&&(r[i].declaration=!0),c()}}return r;function c(g){for(;r[i]&&r[i].type==="whitespace";)i++}function d(){for(;r[i]&&(r[i].type==="integer"||r[i].data==="["||r[i].data==="]"||r[i].type==="whitespace");)i++}function p(){if(r[i]&&r[i].data==="("){var g=0;do{if(r[i].data===";")break;r[i].data==="("&&g++,r[i].data===")"&&g--}while(g&&r[++i])}}}return Jx}var KX=XX;function XX(n,e){GX()(n),VX()(n),jX()(n),JX()(n);for(var t=QX(n),r=e||YX(),i={},s=0;s<n.length;s++){var o=n[s],a=o.stack,l=o.data;if(o.descoped=!1,o.type==="ident"&&!o.property&&!o.structMember){for(var u=!1,c=a.length-1;c>=0;c--){var d=t[a[c]];if(d&&d[l]){if(u=!0,c)break;o.descoped=o.data,o.data=i[l]=i[l]||r(l,o)||o.data}}u||(o.descoped=o.data,o.data=i[l]=i[l]||r(l,o)||o.data)}}return n}function YX(){var n=0;return function(t){return t+"_"+(n++).toString(36)}}function QX(n){for(var e={},t=0;t<n.length;t++){var r=n[t];r.declaration&&(e[r.scope]=e[r.scope]||{},e[r.scope][r.data]=r)}return e}const JT=Rs(KX);var ZX=qX;function qX(n){for(var e=[],t=0;t<n.length;t++)n[t].type!=="eof"&&e.push(n[t].data);return e.join("")}const sh=Rs(ZX);var eY=tY;function tY(n){var e=null,t=null,r=0,i=0,s=0,o=0,a=0,l=[],u,c,d;for(u=0,c;u<n.length;u++)if(d=n[u],d.data==="{"){if(r&&r++||(c=g(u,Ma(")"),Ma()),c<0)||(o=c,c=g(c,Ma("("),Ma(")")),c<0)||(a=c,c=g(c,Pd),c<0)||n[c].type!=="ident"||(t=n[c].data,c=g(c,Pd),c<0))continue;r=1,i=u,e=n[c].data,s=c;var p=g(c,Pd);switch(n[p]&&n[p].data){case"lowp":case"highp":case"mediump":s=p}}else if(r&&d.data==="}"){if(--r)continue;l.push({name:t,type:e,body:[i+1,u],args:[a,o+1],outer:[s,u+1]})}for(u=0;u<n.length;u++)if(d=n[u],d.data===";"){if(c=g(u,Ma(")"),Ma()),c<0||(o=c,c=g(c,Ma("("),Ma(")")),c<0)||(a=c,c=g(c,Pd),c<0)||n[c].type!=="ident"||(t=n[c].data,c=g(c,Pd),c<0)||n[c].type==="operator"||n[c].data==="return")continue;e=n[c].data,l.push({name:t,type:e,body:!1,args:[a,o+1],outer:[c,u+1]})}return l.sort(function(y,x){return y.outer[0]-x.outer[0]});function g(y,x,v){for(var m=y-1;m>=0;m--){if(x(n[m]))return m;if(v&&v(n[m]))return-1}return-1}}function Ma(n){return function(e){return e.type==="operator"&&(!n||e.data===n)}}function Pd(n){return n.type!=="whitespace"}const lw=Rs(eY);function Cg(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var iF={exports:{}};(function(n,e){(function(t){n.exports=t()})(function(){return function t(r,i,s){function o(u,c){if(!i[u]){if(!r[u]){var d=typeof Cg=="function"&&Cg;if(!c&&d)return d(u,!0);if(a)return a(u,!0);throw new Error("Cannot find module '"+u+"'")}c=i[u]={exports:{}},r[u][0].call(c.exports,function(p){var g=r[u][1][p];return o(g||p)},c,c.exports,t,r,i,s)}return i[u].exports}for(var a=typeof Cg=="function"&&Cg,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(t,r,i){(function(s,o,a,l,u,c,d,p,g){var y=t("crypto");function x(C,R){R=S(C,R);var T;return(T=R.algorithm!=="passthrough"?y.createHash(R.algorithm):new P).write===void 0&&(T.write=T.update,T.end=T.update),M(R,T).dispatch(C),T.update||T.end(""),T.digest?T.digest(R.encoding==="buffer"?void 0:R.encoding):(C=T.read(),R.encoding!=="buffer"?C.toString(R.encoding):C)}(i=r.exports=x).sha1=function(C){return x(C)},i.keys=function(C){return x(C,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},i.MD5=function(C){return x(C,{algorithm:"md5",encoding:"hex"})},i.keysMD5=function(C){return x(C,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var v=y.getHashes?y.getHashes().slice():["sha1","md5"],m=(v.push("passthrough"),["buffer","hex","binary","base64"]);function S(C,R){var T={};if(T.algorithm=(R=R||{}).algorithm||"sha1",T.encoding=R.encoding||"hex",T.excludeValues=!!R.excludeValues,T.algorithm=T.algorithm.toLowerCase(),T.encoding=T.encoding.toLowerCase(),T.ignoreUnknown=R.ignoreUnknown===!0,T.respectType=R.respectType!==!1,T.respectFunctionNames=R.respectFunctionNames!==!1,T.respectFunctionProperties=R.respectFunctionProperties!==!1,T.unorderedArrays=R.unorderedArrays===!0,T.unorderedSets=R.unorderedSets!==!1,T.unorderedObjects=R.unorderedObjects!==!1,T.replacer=R.replacer||void 0,T.excludeKeys=R.excludeKeys||void 0,C===void 0)throw new Error("Object argument required.");for(var E=0;E<v.length;++E)v[E].toLowerCase()===T.algorithm.toLowerCase()&&(T.algorithm=v[E]);if(v.indexOf(T.algorithm)===-1)throw new Error('Algorithm "'+T.algorithm+'"  not supported. supported values: '+v.join(", "));if(m.indexOf(T.encoding)===-1&&T.algorithm!=="passthrough")throw new Error('Encoding "'+T.encoding+'"  not supported. supported values: '+m.join(", "));return T}function _(C){if(typeof C=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(C))!=null}function M(C,R,T){T=T||[];function E(A){return R.update?R.update(A,"utf8"):R.write(A,"utf8")}return{dispatch:function(A){return this["_"+((A=C.replacer?C.replacer(A):A)===null?"null":typeof A)](A)},_object:function(A){var B,D=Object.prototype.toString.call(A),U=/\[object (.*)\]/i.exec(D);if(U=(U=U?U[1]:"unknown:["+D+"]").toLowerCase(),0<=(D=T.indexOf(A)))return this.dispatch("[CIRCULAR:"+D+"]");if(T.push(A),a!==void 0&&a.isBuffer&&a.isBuffer(A))return E("buffer:"),E(A);if(U==="object"||U==="function"||U==="asyncfunction")return D=Object.keys(A),C.unorderedObjects&&(D=D.sort()),C.respectType===!1||_(A)||D.splice(0,0,"prototype","__proto__","constructor"),C.excludeKeys&&(D=D.filter(function(H){return!C.excludeKeys(H)})),E("object:"+D.length+":"),B=this,D.forEach(function(H){B.dispatch(H),E(":"),C.excludeValues||B.dispatch(A[H]),E(",")});if(!this["_"+U]){if(C.ignoreUnknown)return E("["+U+"]");throw new Error('Unknown object type "'+U+'"')}this["_"+U](A)},_array:function(A,H){H=H!==void 0?H:C.unorderedArrays!==!1;var D=this;if(E("array:"+A.length+":"),!H||A.length<=1)return A.forEach(function(j){return D.dispatch(j)});var U=[],H=A.map(function(j){var $=new P,Z=T.slice();return M(C,$,Z).dispatch(j),U=U.concat(Z.slice(T.length)),$.read().toString()});return T=T.concat(U),H.sort(),this._array(H,!1)},_date:function(A){return E("date:"+A.toJSON())},_symbol:function(A){return E("symbol:"+A.toString())},_error:function(A){return E("error:"+A.toString())},_boolean:function(A){return E("bool:"+A.toString())},_string:function(A){E("string:"+A.length+":"),E(A.toString())},_function:function(A){E("fn:"),_(A)?this.dispatch("[native]"):this.dispatch(A.toString()),C.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(A.name)),C.respectFunctionProperties&&this._object(A)},_number:function(A){return E("number:"+A.toString())},_xml:function(A){return E("xml:"+A.toString())},_null:function(){return E("Null")},_undefined:function(){return E("Undefined")},_regexp:function(A){return E("regex:"+A.toString())},_uint8array:function(A){return E("uint8array:"),this.dispatch(Array.prototype.slice.call(A))},_uint8clampedarray:function(A){return E("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(A))},_int8array:function(A){return E("int8array:"),this.dispatch(Array.prototype.slice.call(A))},_uint16array:function(A){return E("uint16array:"),this.dispatch(Array.prototype.slice.call(A))},_int16array:function(A){return E("int16array:"),this.dispatch(Array.prototype.slice.call(A))},_uint32array:function(A){return E("uint32array:"),this.dispatch(Array.prototype.slice.call(A))},_int32array:function(A){return E("int32array:"),this.dispatch(Array.prototype.slice.call(A))},_float32array:function(A){return E("float32array:"),this.dispatch(Array.prototype.slice.call(A))},_float64array:function(A){return E("float64array:"),this.dispatch(Array.prototype.slice.call(A))},_arraybuffer:function(A){return E("arraybuffer:"),this.dispatch(new Uint8Array(A))},_url:function(A){return E("url:"+A.toString())},_map:function(A){return E("map:"),A=Array.from(A),this._array(A,C.unorderedSets!==!1)},_set:function(A){return E("set:"),A=Array.from(A),this._array(A,C.unorderedSets!==!1)},_file:function(A){return E("file:"),this.dispatch([A.name,A.size,A.type,A.lastModfied])},_blob:function(){if(C.ignoreUnknown)return E("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return E("domwindow")},_bigint:function(A){return E("bigint:"+A.toString())},_process:function(){return E("process")},_timer:function(){return E("timer")},_pipe:function(){return E("pipe")},_tcp:function(){return E("tcp")},_udp:function(){return E("udp")},_tty:function(){return E("tty")},_statwatcher:function(){return E("statwatcher")},_securecontext:function(){return E("securecontext")},_connection:function(){return E("connection")},_zlib:function(){return E("zlib")},_context:function(){return E("context")},_nodescript:function(){return E("nodescript")},_httpparser:function(){return E("httpparser")},_dataview:function(){return E("dataview")},_signal:function(){return E("signal")},_fsevent:function(){return E("fsevent")},_tlswrap:function(){return E("tlswrap")}}}function P(){return{buf:"",write:function(C){this.buf+=C},end:function(C){this.buf+=C},read:function(){return this.buf}}}i.writeToStream=function(C,R,T){return T===void 0&&(T=R,R={}),M(R=S(C,R),T).dispatch(C)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(t,r,i){(function(s,o,a,l,u,c,d,p,g){(function(y){var x=typeof Uint8Array<"u"?Uint8Array:Array,v="+".charCodeAt(0),m="/".charCodeAt(0),S="0".charCodeAt(0),_="a".charCodeAt(0),M="A".charCodeAt(0),P="-".charCodeAt(0),C="_".charCodeAt(0);function R(T){return T=T.charCodeAt(0),T===v||T===P?62:T===m||T===C?63:T<S?-1:T<S+10?T-S+26+26:T<M+26?T-M:T<_+26?T-_+26:void 0}y.toByteArray=function(T){var E,A;if(0<T.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var B=T.length,B=T.charAt(B-2)==="="?2:T.charAt(B-1)==="="?1:0,D=new x(3*T.length/4-B),U=0<B?T.length-4:T.length,H=0;function j($){D[H++]=$}for(E=0;E<U;E+=4,0)j((16711680&(A=R(T.charAt(E))<<18|R(T.charAt(E+1))<<12|R(T.charAt(E+2))<<6|R(T.charAt(E+3))))>>16),j((65280&A)>>8),j(255&A);return B==2?j(255&(A=R(T.charAt(E))<<2|R(T.charAt(E+1))>>4)):B==1&&(j((A=R(T.charAt(E))<<10|R(T.charAt(E+1))<<4|R(T.charAt(E+2))>>2)>>8&255),j(255&A)),D},y.fromByteArray=function(T){var E,A,B,D,U=T.length%3,H="";function j($){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt($)}for(E=0,B=T.length-U;E<B;E+=3)A=(T[E]<<16)+(T[E+1]<<8)+T[E+2],H+=j((D=A)>>18&63)+j(D>>12&63)+j(D>>6&63)+j(63&D);switch(U){case 1:H=(H+=j((A=T[T.length-1])>>2))+j(A<<4&63)+"==";break;case 2:H=(H=(H+=j((A=(T[T.length-2]<<8)+T[T.length-1])>>10))+j(A>>4&63))+j(A<<2&63)+"="}return H}})(i===void 0?this.base64js={}:i)}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(t,r,i){(function(s,o,v,l,u,c,d,p,g){var y=t("base64-js"),x=t("ieee754");function v(N,G,Y){if(!(this instanceof v))return new v(N,G,Y);var ae,te,le,Re,Ie=typeof N;if(G==="base64"&&Ie=="string")for(N=(Re=N).trim?Re.trim():Re.replace(/^\s+|\s+$/g,"");N.length%4!=0;)N+="=";if(Ie=="number")ae=k(N);else if(Ie=="string")ae=v.byteLength(N,G);else{if(Ie!="object")throw new Error("First argument needs to be a number, array or string.");ae=k(N.length)}if(v._useTypedArrays?te=v._augment(new Uint8Array(ae)):((te=this).length=ae,te._isBuffer=!0),v._useTypedArrays&&typeof N.byteLength=="number")te._set(N);else if(W(Re=N)||v.isBuffer(Re)||Re&&typeof Re=="object"&&typeof Re.length=="number")for(le=0;le<ae;le++)v.isBuffer(N)?te[le]=N.readUInt8(le):te[le]=N[le];else if(Ie=="string")te.write(N,0,G);else if(Ie=="number"&&!v._useTypedArrays&&!Y)for(le=0;le<ae;le++)te[le]=0;return te}function m(N,G,Y,ae){return v._charsWritten=re(function(te){for(var le=[],Re=0;Re<te.length;Re++)le.push(255&te.charCodeAt(Re));return le}(G),N,Y,ae)}function S(N,G,Y,ae){return v._charsWritten=re(function(te){for(var le,Re,Ie=[],Ve=0;Ve<te.length;Ve++)Re=te.charCodeAt(Ve),le=Re>>8,Re=Re%256,Ie.push(Re),Ie.push(le);return Ie}(G),N,Y,ae)}function _(N,G,Y){var ae="";Y=Math.min(N.length,Y);for(var te=G;te<Y;te++)ae+=String.fromCharCode(N[te]);return ae}function M(N,G,Y,le){le||(pe(typeof Y=="boolean","missing or invalid endian"),pe(G!=null,"missing offset"),pe(G+1<N.length,"Trying to read beyond buffer length"));var te,le=N.length;if(!(le<=G))return Y?(te=N[G],G+1<le&&(te|=N[G+1]<<8)):(te=N[G]<<8,G+1<le&&(te|=N[G+1])),te}function P(N,G,Y,le){le||(pe(typeof Y=="boolean","missing or invalid endian"),pe(G!=null,"missing offset"),pe(G+3<N.length,"Trying to read beyond buffer length"));var te,le=N.length;if(!(le<=G))return Y?(G+2<le&&(te=N[G+2]<<16),G+1<le&&(te|=N[G+1]<<8),te|=N[G],G+3<le&&(te+=N[G+3]<<24>>>0)):(G+1<le&&(te=N[G+1]<<16),G+2<le&&(te|=N[G+2]<<8),G+3<le&&(te|=N[G+3]),te+=N[G]<<24>>>0),te}function C(N,G,Y,ae){if(ae||(pe(typeof Y=="boolean","missing or invalid endian"),pe(G!=null,"missing offset"),pe(G+1<N.length,"Trying to read beyond buffer length")),!(N.length<=G))return ae=M(N,G,Y,!0),32768&ae?-1*(65535-ae+1):ae}function R(N,G,Y,ae){if(ae||(pe(typeof Y=="boolean","missing or invalid endian"),pe(G!=null,"missing offset"),pe(G+3<N.length,"Trying to read beyond buffer length")),!(N.length<=G))return ae=P(N,G,Y,!0),2147483648&ae?-1*(4294967295-ae+1):ae}function T(N,G,Y,ae){return ae||(pe(typeof Y=="boolean","missing or invalid endian"),pe(G+3<N.length,"Trying to read beyond buffer length")),x.read(N,G,Y,23,4)}function E(N,G,Y,ae){return ae||(pe(typeof Y=="boolean","missing or invalid endian"),pe(G+7<N.length,"Trying to read beyond buffer length")),x.read(N,G,Y,52,8)}function A(N,G,Y,ae,te){if(te||(pe(G!=null,"missing value"),pe(typeof ae=="boolean","missing or invalid endian"),pe(Y!=null,"missing offset"),pe(Y+1<N.length,"trying to write beyond buffer length"),we(G,65535)),te=N.length,!(te<=Y))for(var le=0,Re=Math.min(te-Y,2);le<Re;le++)N[Y+le]=(G&255<<8*(ae?le:1-le))>>>8*(ae?le:1-le)}function B(N,G,Y,ae,te){if(te||(pe(G!=null,"missing value"),pe(typeof ae=="boolean","missing or invalid endian"),pe(Y!=null,"missing offset"),pe(Y+3<N.length,"trying to write beyond buffer length"),we(G,4294967295)),te=N.length,!(te<=Y))for(var le=0,Re=Math.min(te-Y,4);le<Re;le++)N[Y+le]=G>>>8*(ae?le:3-le)&255}function D(N,G,Y,ae,te){te||(pe(G!=null,"missing value"),pe(typeof ae=="boolean","missing or invalid endian"),pe(Y!=null,"missing offset"),pe(Y+1<N.length,"Trying to write beyond buffer length"),xe(G,32767,-32768)),N.length<=Y||A(N,0<=G?G:65535+G+1,Y,ae,te)}function U(N,G,Y,ae,te){te||(pe(G!=null,"missing value"),pe(typeof ae=="boolean","missing or invalid endian"),pe(Y!=null,"missing offset"),pe(Y+3<N.length,"Trying to write beyond buffer length"),xe(G,2147483647,-2147483648)),N.length<=Y||B(N,0<=G?G:4294967295+G+1,Y,ae,te)}function H(N,G,Y,ae,te){te||(pe(G!=null,"missing value"),pe(typeof ae=="boolean","missing or invalid endian"),pe(Y!=null,"missing offset"),pe(Y+3<N.length,"Trying to write beyond buffer length"),se(G,34028234663852886e22,-34028234663852886e22)),N.length<=Y||x.write(N,G,Y,ae,23,4)}function j(N,G,Y,ae,te){te||(pe(G!=null,"missing value"),pe(typeof ae=="boolean","missing or invalid endian"),pe(Y!=null,"missing offset"),pe(Y+7<N.length,"Trying to write beyond buffer length"),se(G,17976931348623157e292,-17976931348623157e292)),N.length<=Y||x.write(N,G,Y,ae,52,8)}i.Buffer=v,i.SlowBuffer=v,i.INSPECT_MAX_BYTES=50,v.poolSize=8192,v._useTypedArrays=function(){try{var N=new ArrayBuffer(0),G=new Uint8Array(N);return G.foo=function(){return 42},G.foo()===42&&typeof G.subarray=="function"}catch{return!1}}(),v.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},v.isBuffer=function(N){return!(N==null||!N._isBuffer)},v.byteLength=function(N,G){var Y;switch(N+="",G||"utf8"){case"hex":Y=N.length/2;break;case"utf8":case"utf-8":Y=ce(N).length;break;case"ascii":case"binary":case"raw":Y=N.length;break;case"base64":Y=oe(N).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":Y=2*N.length;break;default:throw new Error("Unknown encoding")}return Y},v.concat=function(N,G){if(pe(W(N),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),N.length===0)return new v(0);if(N.length===1)return N[0];if(typeof G!="number")for(te=G=0;te<N.length;te++)G+=N[te].length;for(var Y=new v(G),ae=0,te=0;te<N.length;te++){var le=N[te];le.copy(Y,ae),ae+=le.length}return Y},v.prototype.write=function(N,G,Y,ae){isFinite(G)?isFinite(Y)||(ae=Y,Y=void 0):(Ve=ae,ae=G,G=Y,Y=Ve),G=Number(G)||0;var te,le,Re,Ie,Ve=this.length-G;switch((!Y||Ve<(Y=Number(Y)))&&(Y=Ve),ae=String(ae||"utf8").toLowerCase()){case"hex":te=function(Ke,We,Ze,et){Ze=Number(Ze)||0;var J=Ke.length-Ze;(!et||J<(et=Number(et)))&&(et=J),pe((J=We.length)%2==0,"Invalid hex string"),J/2<et&&(et=J/2);for(var z=0;z<et;z++){var fe=parseInt(We.substr(2*z,2),16);pe(!isNaN(fe),"Invalid hex string"),Ke[Ze+z]=fe}return v._charsWritten=2*z,z}(this,N,G,Y);break;case"utf8":case"utf-8":le=this,Re=G,Ie=Y,te=v._charsWritten=re(ce(N),le,Re,Ie);break;case"ascii":case"binary":te=m(this,N,G,Y);break;case"base64":le=this,Re=G,Ie=Y,te=v._charsWritten=re(oe(N),le,Re,Ie);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":te=S(this,N,G,Y);break;default:throw new Error("Unknown encoding")}return te},v.prototype.toString=function(N,G,Y){var ae,te,le,Re,Ie=this;if(N=String(N||"utf8").toLowerCase(),G=Number(G)||0,(Y=Y!==void 0?Number(Y):Ie.length)===G)return"";switch(N){case"hex":ae=function(Ve,Ke,We){var Ze=Ve.length;(!Ke||Ke<0)&&(Ke=0),(!We||We<0||Ze<We)&&(We=Ze);for(var et="",J=Ke;J<We;J++)et+=V(Ve[J]);return et}(Ie,G,Y);break;case"utf8":case"utf-8":ae=function(Ve,Ke,We){var Ze="",et="";We=Math.min(Ve.length,We);for(var J=Ke;J<We;J++)Ve[J]<=127?(Ze+=q(et)+String.fromCharCode(Ve[J]),et=""):et+="%"+Ve[J].toString(16);return Ze+q(et)}(Ie,G,Y);break;case"ascii":case"binary":ae=_(Ie,G,Y);break;case"base64":te=Ie,Re=Y,ae=(le=G)===0&&Re===te.length?y.fromByteArray(te):y.fromByteArray(te.slice(le,Re));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ae=function(Ve,Ke,We){for(var Ze=Ve.slice(Ke,We),et="",J=0;J<Ze.length;J+=2)et+=String.fromCharCode(Ze[J]+256*Ze[J+1]);return et}(Ie,G,Y);break;default:throw new Error("Unknown encoding")}return ae},v.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},v.prototype.copy=function(N,G,Y,ae){if(G=G||0,(ae=ae||ae===0?ae:this.length)!==(Y=Y||0)&&N.length!==0&&this.length!==0){pe(Y<=ae,"sourceEnd < sourceStart"),pe(0<=G&&G<N.length,"targetStart out of bounds"),pe(0<=Y&&Y<this.length,"sourceStart out of bounds"),pe(0<=ae&&ae<=this.length,"sourceEnd out of bounds"),ae>this.length&&(ae=this.length);var te=(ae=N.length-G<ae-Y?N.length-G+Y:ae)-Y;if(te<100||!v._useTypedArrays)for(var le=0;le<te;le++)N[le+G]=this[le+Y];else N._set(this.subarray(Y,Y+te),G)}},v.prototype.slice=function(N,G){var Y=this.length;if(N=Z(N,Y,0),G=Z(G,Y,Y),v._useTypedArrays)return v._augment(this.subarray(N,G));for(var ae=G-N,te=new v(ae,void 0,!0),le=0;le<ae;le++)te[le]=this[le+N];return te},v.prototype.get=function(N){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(N)},v.prototype.set=function(N,G){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(N,G)},v.prototype.readUInt8=function(N,G){if(G||(pe(N!=null,"missing offset"),pe(N<this.length,"Trying to read beyond buffer length")),!(N>=this.length))return this[N]},v.prototype.readUInt16LE=function(N,G){return M(this,N,!0,G)},v.prototype.readUInt16BE=function(N,G){return M(this,N,!1,G)},v.prototype.readUInt32LE=function(N,G){return P(this,N,!0,G)},v.prototype.readUInt32BE=function(N,G){return P(this,N,!1,G)},v.prototype.readInt8=function(N,G){if(G||(pe(N!=null,"missing offset"),pe(N<this.length,"Trying to read beyond buffer length")),!(N>=this.length))return 128&this[N]?-1*(255-this[N]+1):this[N]},v.prototype.readInt16LE=function(N,G){return C(this,N,!0,G)},v.prototype.readInt16BE=function(N,G){return C(this,N,!1,G)},v.prototype.readInt32LE=function(N,G){return R(this,N,!0,G)},v.prototype.readInt32BE=function(N,G){return R(this,N,!1,G)},v.prototype.readFloatLE=function(N,G){return T(this,N,!0,G)},v.prototype.readFloatBE=function(N,G){return T(this,N,!1,G)},v.prototype.readDoubleLE=function(N,G){return E(this,N,!0,G)},v.prototype.readDoubleBE=function(N,G){return E(this,N,!1,G)},v.prototype.writeUInt8=function(N,G,Y){Y||(pe(N!=null,"missing value"),pe(G!=null,"missing offset"),pe(G<this.length,"trying to write beyond buffer length"),we(N,255)),G>=this.length||(this[G]=N)},v.prototype.writeUInt16LE=function(N,G,Y){A(this,N,G,!0,Y)},v.prototype.writeUInt16BE=function(N,G,Y){A(this,N,G,!1,Y)},v.prototype.writeUInt32LE=function(N,G,Y){B(this,N,G,!0,Y)},v.prototype.writeUInt32BE=function(N,G,Y){B(this,N,G,!1,Y)},v.prototype.writeInt8=function(N,G,Y){Y||(pe(N!=null,"missing value"),pe(G!=null,"missing offset"),pe(G<this.length,"Trying to write beyond buffer length"),xe(N,127,-128)),G>=this.length||(0<=N?this.writeUInt8(N,G,Y):this.writeUInt8(255+N+1,G,Y))},v.prototype.writeInt16LE=function(N,G,Y){D(this,N,G,!0,Y)},v.prototype.writeInt16BE=function(N,G,Y){D(this,N,G,!1,Y)},v.prototype.writeInt32LE=function(N,G,Y){U(this,N,G,!0,Y)},v.prototype.writeInt32BE=function(N,G,Y){U(this,N,G,!1,Y)},v.prototype.writeFloatLE=function(N,G,Y){H(this,N,G,!0,Y)},v.prototype.writeFloatBE=function(N,G,Y){H(this,N,G,!1,Y)},v.prototype.writeDoubleLE=function(N,G,Y){j(this,N,G,!0,Y)},v.prototype.writeDoubleBE=function(N,G,Y){j(this,N,G,!1,Y)},v.prototype.fill=function(N,G,Y){if(G=G||0,Y=Y||this.length,pe(typeof(N=typeof(N=N||0)=="string"?N.charCodeAt(0):N)=="number"&&!isNaN(N),"value is not a number"),pe(G<=Y,"end < start"),Y!==G&&this.length!==0){pe(0<=G&&G<this.length,"start out of bounds"),pe(0<=Y&&Y<=this.length,"end out of bounds");for(var ae=G;ae<Y;ae++)this[ae]=N}},v.prototype.inspect=function(){for(var N=[],G=this.length,Y=0;Y<G;Y++)if(N[Y]=V(this[Y]),Y===i.INSPECT_MAX_BYTES){N[Y+1]="...";break}return"<Buffer "+N.join(" ")+">"},v.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(v._useTypedArrays)return new v(this).buffer;for(var N=new Uint8Array(this.length),G=0,Y=N.length;G<Y;G+=1)N[G]=this[G];return N.buffer};var $=v.prototype;function Z(N,G,Y){return typeof N!="number"?Y:G<=(N=~~N)?G:0<=N||0<=(N+=G)?N:0}function k(N){return(N=~~Math.ceil(+N))<0?0:N}function W(N){return(Array.isArray||function(G){return Object.prototype.toString.call(G)==="[object Array]"})(N)}function V(N){return N<16?"0"+N.toString(16):N.toString(16)}function ce(N){for(var G=[],Y=0;Y<N.length;Y++){var ae=N.charCodeAt(Y);if(ae<=127)G.push(N.charCodeAt(Y));else for(var te=Y,le=(55296<=ae&&ae<=57343&&Y++,encodeURIComponent(N.slice(te,Y+1)).substr(1).split("%")),Re=0;Re<le.length;Re++)G.push(parseInt(le[Re],16))}return G}function oe(N){return y.toByteArray(N)}function re(N,G,Y,ae){for(var te=0;te<ae&&!(te+Y>=G.length||te>=N.length);te++)G[te+Y]=N[te];return te}function q(N){try{return decodeURIComponent(N)}catch{return String.fromCharCode(65533)}}function we(N,G){pe(typeof N=="number","cannot write a non-number as a number"),pe(0<=N,"specified a negative value for writing an unsigned value"),pe(N<=G,"value is larger than maximum value for type"),pe(Math.floor(N)===N,"value has a fractional component")}function xe(N,G,Y){pe(typeof N=="number","cannot write a non-number as a number"),pe(N<=G,"value larger than maximum allowed value"),pe(Y<=N,"value smaller than minimum allowed value"),pe(Math.floor(N)===N,"value has a fractional component")}function se(N,G,Y){pe(typeof N=="number","cannot write a non-number as a number"),pe(N<=G,"value larger than maximum allowed value"),pe(Y<=N,"value smaller than minimum allowed value")}function pe(N,G){if(!N)throw new Error(G||"Failed assertion")}v._augment=function(N){return N._isBuffer=!0,N._get=N.get,N._set=N.set,N.get=$.get,N.set=$.set,N.write=$.write,N.toString=$.toString,N.toLocaleString=$.toString,N.toJSON=$.toJSON,N.copy=$.copy,N.slice=$.slice,N.readUInt8=$.readUInt8,N.readUInt16LE=$.readUInt16LE,N.readUInt16BE=$.readUInt16BE,N.readUInt32LE=$.readUInt32LE,N.readUInt32BE=$.readUInt32BE,N.readInt8=$.readInt8,N.readInt16LE=$.readInt16LE,N.readInt16BE=$.readInt16BE,N.readInt32LE=$.readInt32LE,N.readInt32BE=$.readInt32BE,N.readFloatLE=$.readFloatLE,N.readFloatBE=$.readFloatBE,N.readDoubleLE=$.readDoubleLE,N.readDoubleBE=$.readDoubleBE,N.writeUInt8=$.writeUInt8,N.writeUInt16LE=$.writeUInt16LE,N.writeUInt16BE=$.writeUInt16BE,N.writeUInt32LE=$.writeUInt32LE,N.writeUInt32BE=$.writeUInt32BE,N.writeInt8=$.writeInt8,N.writeInt16LE=$.writeInt16LE,N.writeInt16BE=$.writeInt16BE,N.writeInt32LE=$.writeInt32LE,N.writeInt32BE=$.writeInt32BE,N.writeFloatLE=$.writeFloatLE,N.writeFloatBE=$.writeFloatBE,N.writeDoubleLE=$.writeDoubleLE,N.writeDoubleBE=$.writeDoubleBE,N.fill=$.fill,N.inspect=$.inspect,N.toArrayBuffer=$.toArrayBuffer,N}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(t,r,i){(function(s,o,y,l,u,c,d,p,g){var y=t("buffer").Buffer,x=4,v=new y(x);v.fill(0),r.exports={hash:function(m,S,_,M){for(var P=S(function(A,B){A.length%x!=0&&(D=A.length+(x-A.length%x),A=y.concat([A,v],D));for(var D,U=[],H=B?A.readInt32BE:A.readInt32LE,j=0;j<A.length;j+=x)U.push(H.call(A,j));return U}(m=y.isBuffer(m)?m:new y(m),M),8*m.length),S=M,C=new y(_),R=S?C.writeInt32BE:C.writeInt32LE,T=0;T<P.length;T++)R.call(C,P[T],4*T,!0);return C}}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(t,r,i){(function(s,o,y,l,u,c,d,p,g){var y=t("buffer").Buffer,x=t("./sha"),v=t("./sha256"),m=t("./rng"),S={sha1:x,sha256:v,md5:t("./md5")},_=64,M=new y(_);function P(A,B){var D=S[A=A||"sha1"],U=[];return D||C("algorithm:",A,"is not yet supported"),{update:function(H){return y.isBuffer(H)||(H=new y(H)),U.push(H),H.length,this},digest:function(H){var j=y.concat(U),j=B?function($,Z,k){y.isBuffer(Z)||(Z=new y(Z)),y.isBuffer(k)||(k=new y(k)),Z.length>_?Z=$(Z):Z.length<_&&(Z=y.concat([Z,M],_));for(var W=new y(_),V=new y(_),ce=0;ce<_;ce++)W[ce]=54^Z[ce],V[ce]=92^Z[ce];return k=$(y.concat([W,k])),$(y.concat([V,k]))}(D,B,j):D(j);return U=null,H?j.toString(H):j}}}function C(){var A=[].slice.call(arguments).join(" ");throw new Error([A,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}M.fill(0),i.createHash=function(A){return P(A)},i.createHmac=P,i.randomBytes=function(A,B){if(!B||!B.call)return new y(m(A));try{B.call(this,void 0,new y(m(A)))}catch(D){B(D)}};var R,T=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],E=function(A){i[A]=function(){C("sorry,",A,"is not implemented yet")}};for(R in T)E(T[R])}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(t,r,i){(function(s,o,a,l,u,c,d,p,g){var y=t("./helpers");function x(C,R){C[R>>5]|=128<<R%32,C[14+(R+64>>>9<<4)]=R;for(var T=1732584193,E=-271733879,A=-1732584194,B=271733878,D=0;D<C.length;D+=16){var U=T,H=E,j=A,$=B,T=m(T,E,A,B,C[D+0],7,-680876936),B=m(B,T,E,A,C[D+1],12,-389564586),A=m(A,B,T,E,C[D+2],17,606105819),E=m(E,A,B,T,C[D+3],22,-1044525330);T=m(T,E,A,B,C[D+4],7,-176418897),B=m(B,T,E,A,C[D+5],12,1200080426),A=m(A,B,T,E,C[D+6],17,-1473231341),E=m(E,A,B,T,C[D+7],22,-45705983),T=m(T,E,A,B,C[D+8],7,1770035416),B=m(B,T,E,A,C[D+9],12,-1958414417),A=m(A,B,T,E,C[D+10],17,-42063),E=m(E,A,B,T,C[D+11],22,-1990404162),T=m(T,E,A,B,C[D+12],7,1804603682),B=m(B,T,E,A,C[D+13],12,-40341101),A=m(A,B,T,E,C[D+14],17,-1502002290),T=S(T,E=m(E,A,B,T,C[D+15],22,1236535329),A,B,C[D+1],5,-165796510),B=S(B,T,E,A,C[D+6],9,-1069501632),A=S(A,B,T,E,C[D+11],14,643717713),E=S(E,A,B,T,C[D+0],20,-373897302),T=S(T,E,A,B,C[D+5],5,-701558691),B=S(B,T,E,A,C[D+10],9,38016083),A=S(A,B,T,E,C[D+15],14,-660478335),E=S(E,A,B,T,C[D+4],20,-405537848),T=S(T,E,A,B,C[D+9],5,568446438),B=S(B,T,E,A,C[D+14],9,-1019803690),A=S(A,B,T,E,C[D+3],14,-187363961),E=S(E,A,B,T,C[D+8],20,1163531501),T=S(T,E,A,B,C[D+13],5,-1444681467),B=S(B,T,E,A,C[D+2],9,-51403784),A=S(A,B,T,E,C[D+7],14,1735328473),T=_(T,E=S(E,A,B,T,C[D+12],20,-1926607734),A,B,C[D+5],4,-378558),B=_(B,T,E,A,C[D+8],11,-2022574463),A=_(A,B,T,E,C[D+11],16,1839030562),E=_(E,A,B,T,C[D+14],23,-35309556),T=_(T,E,A,B,C[D+1],4,-1530992060),B=_(B,T,E,A,C[D+4],11,1272893353),A=_(A,B,T,E,C[D+7],16,-155497632),E=_(E,A,B,T,C[D+10],23,-1094730640),T=_(T,E,A,B,C[D+13],4,681279174),B=_(B,T,E,A,C[D+0],11,-358537222),A=_(A,B,T,E,C[D+3],16,-722521979),E=_(E,A,B,T,C[D+6],23,76029189),T=_(T,E,A,B,C[D+9],4,-640364487),B=_(B,T,E,A,C[D+12],11,-421815835),A=_(A,B,T,E,C[D+15],16,530742520),T=M(T,E=_(E,A,B,T,C[D+2],23,-995338651),A,B,C[D+0],6,-198630844),B=M(B,T,E,A,C[D+7],10,1126891415),A=M(A,B,T,E,C[D+14],15,-1416354905),E=M(E,A,B,T,C[D+5],21,-57434055),T=M(T,E,A,B,C[D+12],6,1700485571),B=M(B,T,E,A,C[D+3],10,-1894986606),A=M(A,B,T,E,C[D+10],15,-1051523),E=M(E,A,B,T,C[D+1],21,-2054922799),T=M(T,E,A,B,C[D+8],6,1873313359),B=M(B,T,E,A,C[D+15],10,-30611744),A=M(A,B,T,E,C[D+6],15,-1560198380),E=M(E,A,B,T,C[D+13],21,1309151649),T=M(T,E,A,B,C[D+4],6,-145523070),B=M(B,T,E,A,C[D+11],10,-1120210379),A=M(A,B,T,E,C[D+2],15,718787259),E=M(E,A,B,T,C[D+9],21,-343485551),T=P(T,U),E=P(E,H),A=P(A,j),B=P(B,$)}return Array(T,E,A,B)}function v(C,R,T,E,A,B){return P((R=P(P(R,C),P(E,B)))<<A|R>>>32-A,T)}function m(C,R,T,E,A,B,D){return v(R&T|~R&E,C,R,A,B,D)}function S(C,R,T,E,A,B,D){return v(R&E|T&~E,C,R,A,B,D)}function _(C,R,T,E,A,B,D){return v(R^T^E,C,R,A,B,D)}function M(C,R,T,E,A,B,D){return v(T^(R|~E),C,R,A,B,D)}function P(C,R){var T=(65535&C)+(65535&R);return(C>>16)+(R>>16)+(T>>16)<<16|65535&T}r.exports=function(C){return y.hash(C,x,16)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(t,r,i){(function(s,o,a,l,u,c,d,p,g){r.exports=function(y){for(var x,v=new Array(y),m=0;m<y;m++)!(3&m)&&(x=4294967296*Math.random()),v[m]=x>>>((3&m)<<3)&255;return v}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(t,r,i){(function(s,o,a,l,u,c,d,p,g){var y=t("./helpers");function x(S,_){S[_>>5]|=128<<24-_%32,S[15+(_+64>>9<<4)]=_;for(var M,P,C,R=Array(80),T=1732584193,E=-271733879,A=-1732584194,B=271733878,D=-1009589776,U=0;U<S.length;U+=16){for(var H=T,j=E,$=A,Z=B,k=D,W=0;W<80;W++){R[W]=W<16?S[U+W]:m(R[W-3]^R[W-8]^R[W-14]^R[W-16],1);var V=v(v(m(T,5),(V=E,P=A,C=B,(M=W)<20?V&P|~V&C:!(M<40)&&M<60?V&P|V&C|P&C:V^P^C)),v(v(D,R[W]),(M=W)<20?1518500249:M<40?1859775393:M<60?-1894007588:-899497514)),D=B,B=A,A=m(E,30),E=T,T=V}T=v(T,H),E=v(E,j),A=v(A,$),B=v(B,Z),D=v(D,k)}return Array(T,E,A,B,D)}function v(S,_){var M=(65535&S)+(65535&_);return(S>>16)+(_>>16)+(M>>16)<<16|65535&M}function m(S,_){return S<<_|S>>>32-_}r.exports=function(S){return y.hash(S,x,20,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(t,r,i){(function(s,o,a,l,u,c,d,p,g){function y(_,M){var P=(65535&_)+(65535&M);return(_>>16)+(M>>16)+(P>>16)<<16|65535&P}function x(_,M){var P,C=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),R=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),T=new Array(64);_[M>>5]|=128<<24-M%32,_[15+(M+64>>9<<4)]=M;for(var E,A,B=0;B<_.length;B+=16){for(var D=R[0],U=R[1],H=R[2],j=R[3],$=R[4],Z=R[5],k=R[6],W=R[7],V=0;V<64;V++)T[V]=V<16?_[V+B]:y(y(y((A=T[V-2],m(A,17)^m(A,19)^S(A,10)),T[V-7]),(A=T[V-15],m(A,7)^m(A,18)^S(A,3))),T[V-16]),P=y(y(y(y(W,m(A=$,6)^m(A,11)^m(A,25)),$&Z^~$&k),C[V]),T[V]),E=y(m(E=D,2)^m(E,13)^m(E,22),D&U^D&H^U&H),W=k,k=Z,Z=$,$=y(j,P),j=H,H=U,U=D,D=y(P,E);R[0]=y(D,R[0]),R[1]=y(U,R[1]),R[2]=y(H,R[2]),R[3]=y(j,R[3]),R[4]=y($,R[4]),R[5]=y(Z,R[5]),R[6]=y(k,R[6]),R[7]=y(W,R[7])}return R}var v=t("./helpers"),m=function(_,M){return _>>>M|_<<32-M},S=function(_,M){return _>>>M};r.exports=function(_){return v.hash(_,x,32,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(t,r,i){(function(s,o,a,l,u,c,d,p,g){i.read=function(y,x,v,m,B){var _,M,P=8*B-m-1,C=(1<<P)-1,R=C>>1,T=-7,E=v?B-1:0,A=v?-1:1,B=y[x+E];for(E+=A,_=B&(1<<-T)-1,B>>=-T,T+=P;0<T;_=256*_+y[x+E],E+=A,T-=8);for(M=_&(1<<-T)-1,_>>=-T,T+=m;0<T;M=256*M+y[x+E],E+=A,T-=8);if(_===0)_=1-R;else{if(_===C)return M?NaN:1/0*(B?-1:1);M+=Math.pow(2,m),_-=R}return(B?-1:1)*M*Math.pow(2,_-m)},i.write=function(y,x,v,m,S,D){var M,P,C=8*D-S-1,R=(1<<C)-1,T=R>>1,E=S===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=m?0:D-1,B=m?1:-1,D=x<0||x===0&&1/x<0?1:0;for(x=Math.abs(x),isNaN(x)||x===1/0?(P=isNaN(x)?1:0,M=R):(M=Math.floor(Math.log(x)/Math.LN2),x*(m=Math.pow(2,-M))<1&&(M--,m*=2),2<=(x+=1<=M+T?E/m:E*Math.pow(2,1-T))*m&&(M++,m/=2),R<=M+T?(P=0,M=R):1<=M+T?(P=(x*m-1)*Math.pow(2,S),M+=T):(P=x*Math.pow(2,T-1)*Math.pow(2,S),M=0));8<=S;y[v+A]=255&P,A+=B,P/=256,S-=8);for(M=M<<S|P,C+=S;0<C;y[v+A]=255&M,A+=B,M/=256,C-=8);y[v+A-B]|=128*D}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(t,r,i){(function(s,o,a,l,u,c,d,p,g){var y,x,v;function m(){}(s=r.exports={}).nextTick=(x=typeof window<"u"&&window.setImmediate,v=typeof window<"u"&&window.postMessage&&window.addEventListener,x?function(S){return window.setImmediate(S)}:v?(y=[],window.addEventListener("message",function(S){var _=S.source;_!==window&&_!==null||S.data!=="process-tick"||(S.stopPropagation(),0<y.length&&y.shift()())},!0),function(S){y.push(S),window.postMessage("process-tick","*")}):function(S){setTimeout(S,0)}),s.title="browser",s.browser=!0,s.env={},s.argv=[],s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.binding=function(S){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(S){throw new Error("process.chdir is not supported")}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(iF);var nY=iF.exports;const rY=Rs(nY);var cn={position:"csm_Position",positionRaw:"csm_PositionRaw",pointSize:"csm_PointSize",fragColor:"csm_FragColor",diffuseColor:"csm_DiffuseColor",normal:"csm_Normal",roughness:"csm_Roughness",metalness:"csm_Metalness",emissive:"csm_Emissive"};const iY={[`${cn.normal}`]:{"#include <beginnormal_vertex>":`
    vec3 objectNormal = ${cn.normal};
    #ifdef USE_TANGENT
	    vec3 objectTangent = vec3( tangent.xyz );
    #endif
    `},[`${cn.position}`]:{"#include <begin_vertex>":`
    vec3 transformed = ${cn.position};
  `},[`${cn.positionRaw}`]:{"#include <begin_vertex>":`
    vec4 csm_positionUnprojected = ${cn.positionRaw};
    mat4x4 csm_unprojectMatrix = projectionMatrix * modelViewMatrix;
    #ifdef USE_INSTANCING
      csm_unprojectMatrix = csm_unprojectMatrix * instanceMatrix;
    #endif
    csm_positionUnprojected = inverse(csm_unprojectMatrix) * csm_positionUnprojected;
    vec3 transformed = csm_positionUnprojected.xyz;
  `},[`${cn.pointSize}`]:{"gl_PointSize = size;":`
    gl_PointSize = ${cn.pointSize};
    `},[`${cn.diffuseColor}`]:{"#include <color_fragment>":`
    #include <color_fragment>
    diffuseColor = ${cn.diffuseColor};
  `},[`${cn.fragColor}`]:{"#include <dithering_fragment>":`
    #include <dithering_fragment>
    gl_FragColor  = ${cn.fragColor};
  `},[`${cn.emissive}`]:{"vec3 totalEmissiveRadiance = emissive;":`
    vec3 totalEmissiveRadiance = ${cn.emissive};
    `},[`${cn.roughness}`]:{"#include <roughnessmap_fragment>":`
    #include <roughnessmap_fragment>
    roughnessFactor = ${cn.roughness};
    `},[`${cn.metalness}`]:{"#include <metalnessmap_fragment>":`
    #include <metalnessmap_fragment>
    metalnessFactor = ${cn.metalness};
    `}},sY={[`${cn.position}`]:{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = projectionMatrix * modelViewMatrix * vec4( ${cn.position}, 1.0 );
  `},[`${cn.positionRaw}`]:{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = ${cn.position};
  `},[`${cn.diffuseColor}`]:{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = ${cn.diffuseColor};
  `},[`${cn.fragColor}`]:{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = ${cn.fragColor};
  `}},oY=`

#ifdef IS_VERTEX
    vec3 csm_Position = position;
    vec4 csm_PositionRaw = projectionMatrix * modelViewMatrix * vec4(position, 1.);
    vec3 csm_Normal = normal;
#else
    #if defined IS_SHADERMATERIAL || defined IS_MESHDEPTHMATERIAL || defined IS_MESHNORMALMATERIAL
        vec4 csm_DiffuseColor = vec4(1., 0., 1., 1.);
        vec4 csm_FragColor = vec4(1., 0., 1., 1.);
    #else
        #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL
            vec3 csm_Emissive = emissive;
            float csm_Roughness = roughness;
            float csm_Metalness = metalness;
        #endif
        
        #ifdef USE_MAP
            vec4 _csm_sampledDiffuseColor = texture2D(map, vUv);

            #ifdef DECODE_VIDEO_TEXTURE
            // inline sRGB decode (TODO: Remove this code when https://crbug.com/1256340 is solved)
            _csm_sampledDiffuseColor = vec4(mix(pow(_csm_sampledDiffuseColor.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), _csm_sampledDiffuseColor.rgb * 0.0773993808, vec3(lessThanEqual(_csm_sampledDiffuseColor.rgb, vec3(0.04045)))), _csm_sampledDiffuseColor.w);
            #endif

            vec4 csm_DiffuseColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;
            vec4 csm_FragColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;
        #else
            vec4 csm_DiffuseColor = vec4(diffuse, opacity);
            vec4 csm_FragColor = vec4(diffuse, opacity);
        #endif
    #endif
#endif
`,aY=(n,e,t)=>n.split(e).join(t),lY=function(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},uY=(n,e)=>new RegExp(`\\b${lY(e)}\\b`).test(n);function cY(n){try{new n}catch(e){if(e.message.indexOf("is not a constructor")>=0)return!1}return!0}class fY extends Un{constructor({baseMaterial:e,fragmentShader:t,vertexShader:r,uniforms:i,patchMap:s,cacheKey:o,...a}){let l;if(cY(e)?l=new e(a):(l=e,Object.assign(l,a)),l.type==="RawShaderMaterial")throw new Error("CustomShaderMaterial does not support RawShaderMaterial");super(),this.uniforms=i||{},this._customPatchMap=s||{},this._fs=t||"",this._vs=r||"",this._cacheKey=o,this._base=e,this._type=l.type,this._instanceID=Ho.generateUUID();for(const u in l){let c=u;u.startsWith("_")&&(c=u.split("_")[1]),this[c]===void 0&&(this[c]=0),this[c]=l[c]}this.update({fragmentShader:t,vertexShader:r,uniforms:i,cacheKey:o})}update(e){const t=(e==null?void 0:e.uniforms)||{},r=(e==null?void 0:e.fragmentShader)||this._fs,i=(e==null?void 0:e.vertexShader)||this._vs,s=Object.values(t).reduce((o,{value:a})=>o+JSON.stringify(a),"");this.uuid=(e==null||e.cacheKey==null?void 0:e.cacheKey())||rY([r,i,s,this._instanceID]),this.generateMaterial({fragmentShader:r,vertexShader:i,uniforms:t})}clone(){const e=new this.constructor({baseMaterial:this._base,fragmentShader:this._fs,vertexShader:this._vs,patchMap:this._customPatchMap,uniforms:this.uniforms,cacheKey:this._cacheKey});for(const t in this)t!=="uuid"&&(e[t]=this[t]);return e}generateMaterial({fragmentShader:e,vertexShader:t,uniforms:r}){const i=this.parseShader(e),s=this.parseShader(t);this.uniforms=r||{},this.customProgramCacheKey=()=>this.uuid,this.onBeforeCompile=o=>{if(i){const a=this.patchShader(i,o.fragmentShader);o.fragmentShader=this.getMaterialDefine()+a}if(s){const a=this.patchShader(s,o.vertexShader);o.vertexShader=`#define IS_VERTEX;
`+a,o.vertexShader=this.getMaterialDefine()+o.vertexShader}o.uniforms={...o.uniforms,...this.uniforms},this.uniforms=o.uniforms},this.needsUpdate=!0}getMaterialDefine(){return`#define IS_${this._type.toUpperCase()};
`}getPatchMapForMaterial(){switch(this._type){case"ShaderMaterial":return sY;default:return iY}}patchShader(e,t){let r=t;const i={...this.getPatchMapForMaterial(),...this._customPatchMap};return Object.keys(i).forEach(s=>{Object.keys(i[s]).forEach(o=>{uY(e.main,s)&&(r=aY(r,o,i[s][o]))})}),r=r.replace("void main() {",`
          ${e.header}
          void main() {
            ${oY}
            ${e.main}
          `),r=e.defines+r,r}parseShader(e){if(!e)return;const t=e.replace(/\/\*\*(.*?)\*\/|\/\/(.*?)\n/gm,""),r=aw(t),i=lw(r),s=i.map(l=>l.name).indexOf("main"),o=sh(r.slice(0,s>=0?i[s].outer[0]:void 0)),a=s>=0?this.getShaderFromIndex(r,i[s].body):"";return{defines:"",header:o,main:a}}getShaderFromIndex(e,t){return sh(e.slice(t[0],t[1]))}}function dY(...n){return e=>n.forEach(t=>function(r,i){typeof r=="function"?r(i):r!=null&&(r.current=i)}(t,e))}const sF=w.forwardRef((n,e)=>{const{children:t,...r}=n;return w.Children.toArray(t).some(KT)?w.createElement(w.Fragment,null,w.Children.map(t,i=>KT(i)?w.createElement(uw,$e({},r,{ref:e}),i.props.children):i)):w.createElement(uw,$e({},r,{ref:e}),t)});sF.displayName="Slot";const uw=w.forwardRef((n,e)=>{const{children:t,...r}=n;return w.isValidElement(t)?w.cloneElement(t,{...pY(r,t.props),ref:dY(e,t.ref)}):w.Children.count(t)>1?w.Children.only(null):null});uw.displayName="SlotClone";const hY=({children:n})=>w.createElement(w.Fragment,null,n);function KT(n){return w.isValidElement(n)&&n.type===hY}function pY(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?t[r]=(...o)=>{s==null||s(...o),i==null||i(...o)}:r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}const mY=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce((n,e)=>({...n,[e]:w.forwardRef((t,r)=>{const{asChild:i,...s}=t,o=i?sF:e;return w.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),w.createElement(o,$e({},s,{ref:r}))})}),{}),gY=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},vY=w.forwardRef((n,e)=>{var t,r;const{containerRef:i,style:s,...o}=n,a=(t=i==null?void 0:i.current)!==null&&t!==void 0?t:globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,[,l]=w.useState({});return gY(()=>{l({})},[]),a?QB.createPortal(w.createElement(mY.div,$e({"data-radix-portal":""},o,{ref:e,style:a===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...s}:void 0})),a):null}),yY=vY;var XT=Object.prototype.hasOwnProperty;function Jv(n,e){var t,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Jv(n[r],e[r]););return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(XT.call(n,t)&&++r&&!XT.call(e,t)||!(t in e)||!Jv(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}var Q0=function(e,t,r,i){this.name=e,this.fn=t,this.args=r,this.modifiers=i};Q0.prototype._test=function(e){var t=this.fn;try{Gc(this.modifiers.slice(),t,this)(e)}catch{t=function(){return!1}}try{return Gc(this.modifiers.slice(),t,this)(e)}catch{return!1}};Q0.prototype._check=function(e){try{Gc(this.modifiers.slice(),this.fn,this)(e)}catch{if(Gc(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!Gc(this.modifiers.slice(),this.fn,this)(e))throw null};Q0.prototype._testAsync=function(e){var t=this;return new Promise(function(r,i){aF(t.modifiers.slice(),t.fn,t)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function oF(n,e){return e===void 0&&(e="simple"),typeof n=="object"?n[e]:n}function Gc(n,e,t){if(n.length){var r=n.shift(),i=Gc(n,e,t);return r.perform(i,t)}else return oF(e)}function aF(n,e,t){if(n.length){var r=n.shift(),i=aF(n,e,t);return r.performAsync(i,t)}else return function(s){return Promise.resolve(oF(e,"async")(s))}}var xY=function(e,t,r){this.name=e,this.perform=t,this.performAsync=r},VM=function(n){function e(t,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];n.call(this,o),n.captureStackTrace&&n.captureStackTrace(this,e),this.rule=t,this.value=r,this.cause=i,this.target=s}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e}(Error),co=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.chain=e,this.nextRuleModifiers=t};co.prototype._applyRule=function(e,t){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new Q0(t,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};co.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new xY(t,e.simple,e.async)),this};co.prototype._clone=function(){return new co(this.chain.slice(),this.nextRuleModifiers.slice())};co.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})};co.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){t.push(new VM(r,e,i))}}),t};co.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(r){throw new VM(t,e,r)}})};co.prototype.testAsync=function(e){var t=this;return new Promise(function(r,i){lF(e,t.chain.slice(),r,i)})};function lF(n,e,t,r){if(e.length){var i=e.shift();i._testAsync(n).then(function(){lF(n,e,t,r)},function(s){r(new VM(i,n,s))})}else t(n)}var YT=function(n,e){return e&&typeof n=="string"&&n.trim().length===0?!0:n==null};function _Y(n,e){return e===void 0&&(e=!1),{simple:function(t){return YT(t,e)||n.check(t)===void 0},async:function(t){return YT(t,e)||n.testAsync(t)}}}function ui(){return typeof Proxy<"u"?uF(new co):cw(new co)}var Gh={};ui.extend=function(n){Object.assign(Gh,n)};ui.clearCustomRules=function(){Gh={}};function uF(n){return new Proxy(n,{get:function(t,r){if(r in t)return t[r];var i=uF(n._clone());if(r in Kv)return i._applyModifier(Kv[r],r);if(r in Gh)return i._applyRule(Gh[r],r);if(r in fw)return i._applyRule(fw[r],r)}})}function cw(n){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var u=cw(s._clone()),c=u._applyRule(i[o],o).apply(void 0,a);return c}}),s},t=e(fw,n),r=e(Gh,t);return Object.keys(Kv).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=cw(r._clone());return s._applyModifier(Kv[i],i)}})}),r}var Kv={not:{simple:function(n){return function(e){return!n(e)}},async:function(n){return function(e){return Promise.resolve(n(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(n){return function(e){return Tg(e).some(function(t){try{return n(t)}catch{return!1}})}},async:function(n){return function(e){return Promise.all(Tg(e).map(function(t){try{return n(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(n){return function(e){return e!==!1&&Tg(e).every(n)}},async:function(n){return function(e){return Promise.all(Tg(e).map(n)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(n,e){return function(t){return QT(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n(t):n(t)}},async:function(n,e){return function(t){return Promise.resolve(n(t)).then(function(r){return QT(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&r:r}).catch(function(){return!1})}}}};function QT(n){return n&&n.name==="schema"&&n.args.length>0&&typeof n.args[0]=="object"}function Tg(n){return typeof n=="string"?n.split(""):n}var fw={equal:function(n){return function(e){return e==n}},exact:function(n){return function(e){return e===n}},number:function(n){return n===void 0&&(n=!0),function(e){return typeof e=="number"&&(n||isFinite(e))}},integer:function(){return function(n){var e=Number.isInteger||SY;return e(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return ic("string")},boolean:function(){return ic("boolean")},undefined:function(){return ic("undefined")},null:function(){return ic("null")},array:function(){return ic("array")},object:function(){return ic("object")},instanceOf:function(n){return function(e){return e instanceof n}},pattern:function(n){return function(e){return n.test(e)}},lowercase:function(){return function(n){return typeof n=="boolean"||n===n.toLowerCase()&&n.trim()!==""}},uppercase:function(){return function(n){return n===n.toUpperCase()&&n.trim()!==""}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(n){return function(e){return e[0]==n}},last:function(n){return function(e){return e[e.length-1]==n}},empty:function(){return function(n){return n.length===0}},length:function(n,e){return function(t){return t.length>=n&&t.length<=(e||n)}},minLength:function(n){return function(e){return e.length>=n}},maxLength:function(n){return function(e){return e.length<=n}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return n>=0}},between:function(n,e){return function(t){return t>=n&&t<=e}},range:function(n,e){return function(t){return t>=n&&t<=e}},lessThan:function(n){return function(e){return e<n}},lessThanOrEqual:function(n){return function(e){return e<=n}},greaterThan:function(n){return function(e){return e>n}},greaterThanOrEqual:function(n){return function(e){return e>=n}},even:function(){return function(n){return n%2===0}},odd:function(){return function(n){return n%2!==0}},includes:function(n){return function(e){return~e.indexOf(n)}},schema:function(n){return wY(n)},passesAnyOf:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return function(t){return n.some(function(r){return r.test(t)})}},optional:_Y};function ic(n){return function(e){return Array.isArray(e)&&n==="array"||e===null&&n==="null"||typeof e===n}}function SY(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function wY(n){return{simple:function(e){var t=[];if(Object.keys(n).forEach(function(r){var i=n[r];try{i.check((e||{})[r])}catch(s){s.target=r,t.push(s)}}),t.length>0)throw t;return!0},async:function(e){var t=[],r=Object.keys(n).map(function(i){var s=n[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,t.push(o)})});return Promise.all(r).then(function(){if(t.length>0)throw t;return!0})}}}var on="colors",Gr="sizes",nt="space",bY={gap:nt,gridGap:nt,columnGap:nt,gridColumnGap:nt,rowGap:nt,gridRowGap:nt,inset:nt,insetBlock:nt,insetBlockEnd:nt,insetBlockStart:nt,insetInline:nt,insetInlineEnd:nt,insetInlineStart:nt,margin:nt,marginTop:nt,marginRight:nt,marginBottom:nt,marginLeft:nt,marginBlock:nt,marginBlockEnd:nt,marginBlockStart:nt,marginInline:nt,marginInlineEnd:nt,marginInlineStart:nt,padding:nt,paddingTop:nt,paddingRight:nt,paddingBottom:nt,paddingLeft:nt,paddingBlock:nt,paddingBlockEnd:nt,paddingBlockStart:nt,paddingInline:nt,paddingInlineEnd:nt,paddingInlineStart:nt,top:nt,right:nt,bottom:nt,left:nt,scrollMargin:nt,scrollMarginTop:nt,scrollMarginRight:nt,scrollMarginBottom:nt,scrollMarginLeft:nt,scrollMarginX:nt,scrollMarginY:nt,scrollMarginBlock:nt,scrollMarginBlockEnd:nt,scrollMarginBlockStart:nt,scrollMarginInline:nt,scrollMarginInlineEnd:nt,scrollMarginInlineStart:nt,scrollPadding:nt,scrollPaddingTop:nt,scrollPaddingRight:nt,scrollPaddingBottom:nt,scrollPaddingLeft:nt,scrollPaddingX:nt,scrollPaddingY:nt,scrollPaddingBlock:nt,scrollPaddingBlockEnd:nt,scrollPaddingBlockStart:nt,scrollPaddingInline:nt,scrollPaddingInlineEnd:nt,scrollPaddingInlineStart:nt,fontSize:"fontSizes",background:on,backgroundColor:on,backgroundImage:on,borderImage:on,border:on,borderBlock:on,borderBlockEnd:on,borderBlockStart:on,borderBottom:on,borderBottomColor:on,borderColor:on,borderInline:on,borderInlineEnd:on,borderInlineStart:on,borderLeft:on,borderLeftColor:on,borderRight:on,borderRightColor:on,borderTop:on,borderTopColor:on,caretColor:on,color:on,columnRuleColor:on,fill:on,outline:on,outlineColor:on,stroke:on,textDecorationColor:on,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Gr,minBlockSize:Gr,maxBlockSize:Gr,inlineSize:Gr,minInlineSize:Gr,maxInlineSize:Gr,width:Gr,minWidth:Gr,maxWidth:Gr,height:Gr,minHeight:Gr,maxHeight:Gr,flexBasis:Gr,gridTemplateColumns:Gr,gridTemplateRows:Gr,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},MY=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,Pf=()=>{const n=Object.create(null);return(e,t,...r)=>{const i=(s=>JSON.stringify(s,MY))(e);return i in n?n[i]:n[i]=t(e,...r)}},Yl=Symbol.for("sxs.internal"),jM=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),ZT=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:EY}=Object.prototype,dw=n=>n.includes("-")?n:n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),AY=/\s+(?![^()]*\))/,sc=n=>e=>n(...typeof e=="string"?String(e).split(AY):[e]),qT={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:sc((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n})),marginInline:sc((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n})),maxSize:sc((n,e)=>({maxBlockSize:n,maxInlineSize:e||n})),minSize:sc((n,e)=>({minBlockSize:n,minInlineSize:e||n})),paddingBlock:sc((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n})),paddingInline:sc((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n}))},Kx=/([\d.]+)([^]*)/,CY=(n,e)=>n.length?n.reduce((t,r)=>(t.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),t),[]):e,TY=(n,e)=>n in LY&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${dw(n)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${dw(n)}:${r}fit-content`)+s):String(e),LY={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},qo=n=>n?n+"-":"",cF=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?qo(e)+(a.includes("$")?"":qo(t))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),PY=/\s*,\s*(?![^()]*\))/,RY=Object.prototype.toString,Lc=(n,e,t,r,i)=>{let s,o,a;const l=(u,c,d)=>{let p,g;const y=x=>{for(p in x){const S=p.charCodeAt(0)===64,_=S&&Array.isArray(x[p])?x[p]:[x[p]];for(g of _){const M=/[A-Z]/.test(m=p)?m:m.replace(/-[^]/g,C=>C[1].toUpperCase()),P=typeof g=="object"&&g&&g.toString===RY&&(!r.utils[M]||!c.length);if(M in r.utils&&!P){const C=r.utils[M];if(C!==o){o=C,y(C(g)),o=null;continue}}else if(M in qT){const C=qT[M];if(C!==a){a=C,y(C(g)),a=null;continue}}if(S&&(v=p.slice(1)in r.media?"@media "+r.media[p.slice(1)]:p,p=v.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(C,R,T,E,A,B)=>{const D=Kx.test(R),U=.0625*(D?-1:1),[H,j]=D?[E,R]:[R,E];return"("+(T[0]==="="?"":T[0]===">"===D?"max-":"min-")+H+":"+(T[0]!=="="&&T.length===1?j.replace(Kx,($,Z,k)=>Number(Z)+U*(T===">"?1:-1)+k):j)+(A?") and ("+(A[0]===">"?"min-":"max-")+H+":"+(A.length===1?B.replace(Kx,($,Z,k)=>Number(Z)+U*(A===">"?-1:1)+k):B):"")+")"})),P){const C=S?d.concat(p):[...d],R=S?[...c]:CY(c,p.split(PY));s!==void 0&&i(eL(...s)),s=void 0,l(g,R,C)}else s===void 0&&(s=[[],c,d]),p=S||p.charCodeAt(0)!==36?p:`--${qo(r.prefix)}${p.slice(1).replace(/\$/g,"-")}`,g=P?g:typeof g=="number"?g&&M in IY?String(g)+"px":String(g):cF(TY(M,g??""),r.prefix,r.themeMap[M]),s[0].push(`${S?`${p} `:`${dw(p)}:`}${g}`)}}var v,m};y(u),s!==void 0&&i(eL(...s)),s=void 0};l(n,e,t)},eL=(n,e,t)=>`${t.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,IY={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},tL=n=>String.fromCharCode(n+(n>25?39:97)),Ql=n=>(e=>{let t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=tL(t%52)+r;return tL(t%52)+r})(((e,t)=>{let r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return e})(5381,JSON.stringify(n))>>>0),jd=["themed","global","styled","onevar","resonevar","allvar","inline"],BY=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},DY=n=>{let e;const t=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const u in e.rules)if(e.rules[u].group===s)return`--sxs{--sxs:${[...e.rules[u].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const u in a)delete a[u]}const i=Object(n).styleSheets||[];for(const a of i)if(BY(a)){for(let l=0,u=a.cssRules;u[l];++l){const c=Object(u[l]);if(c.type!==1)continue;const d=Object(u[l+1]);if(d.type!==4)continue;++l;const{cssText:p}=c;if(!p.startsWith("--sxs"))continue;const g=p.slice(14,-3).trim().split(/\s+/),y=jd[g[0]];y&&(e||(e={sheet:a,reset:r,rules:{},toString:t}),e.rules[y]={group:d,index:l,cache:new Set(g)})}if(e)break}if(!e){const a=(l,u)=>({type:u,cssRules:[],insertRule(c,d){this.cssRules.splice(d,0,a(c,{import:3,undefined:1}[(c.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,c=>c.cssText).join("")}}`:l}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:t}}const{sheet:s,rules:o}=e;for(let a=jd.length-1;a>=0;--a){const l=jd[a];if(!o[l]){const u=jd[a+1],c=o[u]?o[u].index:s.cssRules.length;s.insertRule("@media{}",c),s.insertRule(`--sxs{--sxs:${a}}`,c),o[l]={group:s.cssRules[c+1],index:c,cache:new Set([a])}}OY(o[l])}};return r(),e},OY=n=>{const e=n.group;let t=e.cssRules.length;n.apply=r=>{try{e.insertRule(r,t),++t}catch{}}},Rd=Symbol(),kY=Pf(),nL=(n,e)=>kY(n,()=>(...t)=>{let r={type:null,composers:new Set};for(const i of t)if(i!=null)if(i[Yl]){r.type==null&&(r.type=i[Yl].type);for(const s of i[Yl].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(FY(i,n));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),NY(n,r,e)}),FY=({variants:n,compoundVariants:e,defaultVariants:t,...r},i)=>{const s=`${qo(i.prefix)}c-${Ql(r)}`,o=[],a=[],l=Object.create(null),u=[];for(const p in t)l[p]=String(t[p]);if(typeof n=="object"&&n)for(const p in n){c=l,d=p,EY.call(c,d)||(l[p]="undefined");const g=n[p];for(const y in g){const x={[p]:String(y)};String(y)==="undefined"&&u.push(p);const v=g[y],m=[x,v,!ZT(v)];o.push(m)}}var c,d;if(typeof e=="object"&&e)for(const p of e){let{css:g,...y}=p;g=typeof g=="object"&&g||{};for(const v in y)y[v]=String(y[v]);const x=[y,g,!ZT(g)];a.push(x)}return[s,r,o,a,l,u]},NY=(n,e,t)=>{const[r,i,s,o]=UY(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(d=>{function p(){for(let g=0;g<p[Rd].length;g++){const[y,x]=p[Rd][g];d.rules[y].apply(x)}return p[Rd]=[],null}return p[Rd]=[],p.rules={},jd.forEach(g=>p.rules[g]={apply:y=>p[Rd].push([g,y])}),p})(t):null,l=(a||t).rules,u=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,c=d=>{d=typeof d=="object"&&d||zY;const{css:p,...g}=d,y={};for(const m in s)if(delete g[m],m in d){let S=d[m];typeof S=="object"&&S?y[m]={"@initial":s[m],...S}:(S=String(S),y[m]=S!=="undefined"||o.has(m)?S:s[m])}else y[m]=s[m];const x=new Set([...i]);for(const[m,S,_,M]of e.composers){t.rules.styled.cache.has(m)||(t.rules.styled.cache.add(m),Lc(S,[`.${m}`],[],n,R=>{l.styled.apply(R)}));const P=rL(_,y,n.media),C=rL(M,y,n.media,!0);for(const R of P)if(R!==void 0)for(const[T,E,A]of R){const B=`${m}-${Ql(E)}-${T}`;x.add(B);const D=(A?t.rules.resonevar:t.rules.onevar).cache,U=A?l.resonevar:l.onevar;D.has(B)||(D.add(B),Lc(E,[`.${B}`],[],n,H=>{U.apply(H)}))}for(const R of C)if(R!==void 0)for(const[T,E]of R){const A=`${m}-${Ql(E)}-${T}`;x.add(A),t.rules.allvar.cache.has(A)||(t.rules.allvar.cache.add(A),Lc(E,[`.${A}`],[],n,B=>{l.allvar.apply(B)}))}}if(typeof p=="object"&&p){const m=`${r}-i${Ql(p)}-css`;x.add(m),t.rules.inline.cache.has(m)||(t.rules.inline.cache.add(m),Lc(p,[`.${m}`],[],n,S=>{l.inline.apply(S)}))}for(const m of String(d.className||"").trim().split(/\s+/))m&&x.add(m);const v=g.className=[...x].join(" ");return{type:e.type,className:v,selector:u,props:g,toString:()=>v,deferredInjector:a}};return jM(c,{className:r,selector:u,[Yl]:e,toString:()=>(t.rules.styled.cache.has(r)||c(),r)})},UY=n=>{let e="";const t=[],r={},i=[];for(const[s,,,,o,a]of n){e===""&&(e=s),t.push(s),i.push(...a);for(const l in o){const u=o[l];(r[l]===void 0||u!=="undefined"||a.includes(u))&&(r[l]=u)}}return[e,t,r,new Set(i)]},rL=(n,e,t,r)=>{const i=[];e:for(let[s,o,a]of n){if(a)continue;let l,u=0,c=!1;for(l in s){const d=s[l];let p=e[l];if(p!==d){if(typeof p!="object"||!p)continue e;{let g,y,x=0;for(const v in p){if(d===String(p[v])){if(v!=="@initial"){const m=v.slice(1);(y=y||[]).push(m in t?t[m]:v.replace(/^@media ?/,"")),c=!0}u+=x,g=!0}++x}if(y&&y.length&&(o={["@media "+y.join(", ")]:o}),!g)continue e}}}(i[u]=i[u]||[]).push([r?"cv":`${l}-${s[l]}`,o,c])}return i},zY={},HY=Pf(),GY=(n,e)=>HY(n,()=>(...t)=>{const r=()=>{for(let i of t){i=typeof i=="object"&&i||{};let s=Ql(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}Lc(i,[],[],n,o=>{e.rules.global.apply(o)})}}return""};return jM(r,{toString:r})}),VY=Pf(),jY=(n,e)=>VY(n,()=>t=>{const r=`${qo(n.prefix)}k-${Ql(t)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];Lc(t,[],[],n,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return jM(i,{get name(){return i()},toString:i})}),WY=class{constructor(n,e,t,r){this.token=n==null?"":String(n),this.value=e==null?"":String(e),this.scale=t==null?"":String(t),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+qo(this.prefix)+qo(this.scale)+this.token}toString(){return this.computedValue}},$Y=Pf(),JY=(n,e)=>$Y(n,()=>(t,r)=>{r=typeof t=="object"&&t||Object(r);const i=`.${t=(t=typeof t=="string"?t:"")||`${qo(n.prefix)}t-${Ql(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const u in r[l]){const c=`--${qo(n.prefix)}${l}-${u}`,d=cF(String(r[l][u]),n.prefix,l);s[l][u]=new WY(u,d,l,n.prefix),o.push(`${c}:${d}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${r===n.theme?":root,":""}.${t}{${o.join(";")}}`;e.rules.themed.apply(l)}return t};return{...s,get className(){return a()},selector:i,toString:a}}),KY=Pf(),XY=Pf(),YY=n=>{const e=(t=>{let r=!1;const i=KY(t,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,u=typeof s.theme=="object"&&s.theme||{},c={prefix:o,media:a,theme:u,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...bY},utils:typeof s.utils=="object"&&s.utils||{}},d=DY(l),p={css:nL(c,d),globalCss:GY(c,d),keyframes:jY(c,d),createTheme:JY(c,d),reset(){d.reset(),p.theme.toString()},theme:{},sheet:d,config:c,prefix:o,getCssText:d.toString,toString:d.toString};return String(p.theme=p.createTheme(u)),p});return r||i.reset(),i})(n);return e.styled=(({config:t,sheet:r})=>XY(t,()=>{const i=nL(t,r);return(...s)=>{const o=i(...s),a=o[Yl].type,l=ne.forwardRef((u,c)=>{const d=u&&u.as||a,{props:p,deferredInjector:g}=o(u);return delete p.as,p.ref=c,g?ne.createElement(ne.Fragment,null,ne.createElement(d,p),ne.createElement(g,null)):ne.createElement(d,p)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[Yl]=o[Yl],l}}))(e),e};const QY=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},ZY=jc["useId".toString()]||(()=>{});let qY=0;function eQ(n){const[e,t]=w.useState(ZY());return QY(()=>{n||t(r=>r??String(qY++))},[n]),n||(e?`radix-${e}`:"")}function fF(...n){return e=>n.forEach(t=>function(r,i){typeof r=="function"?r(i):r!=null&&(r.current=i)}(t,e))}function WM(...n){return w.useCallback(fF(...n),n)}const dF=w.forwardRef((n,e)=>{const{children:t,...r}=n;return w.Children.toArray(t).some(iL)?w.createElement(w.Fragment,null,w.Children.map(t,i=>iL(i)?w.createElement(hw,$e({},r,{ref:e}),i.props.children):i)):w.createElement(hw,$e({},r,{ref:e}),t)});dF.displayName="Slot";const hw=w.forwardRef((n,e)=>{const{children:t,...r}=n;return w.isValidElement(t)?w.cloneElement(t,{...tQ(r,t.props),ref:fF(e,t.ref)}):w.Children.count(t)>1?w.Children.only(null):null});hw.displayName="SlotClone";const hF=({children:n})=>w.createElement(w.Fragment,null,n);function iL(n){return w.isValidElement(n)&&n.type===hF}function tQ(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?t[r]=(...o)=>{s==null||s(...o),i==null||i(...o)}:r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}const Rf=["a","button","div","h2","h3","img","li","nav","p","span","svg","ul"].reduce((n,e)=>({...n,[e]:w.forwardRef((t,r)=>{const{asChild:i,...s}=t,o=i?dF:e;return w.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),t.as&&console.error(nQ),w.createElement(o,$e({},s,{ref:r}))})}),{}),nQ="Warning: The `as` prop has been removed in favour of `asChild`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element",rQ=w.forwardRef((n,e)=>w.createElement(Rf.span,$e({},n,{ref:e,style:{...n.style,position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}}))),iQ=rQ,sQ=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},oQ=w.forwardRef((n,e)=>{var t,r;const{containerRef:i,style:s,...o}=n,a=(t=i==null?void 0:i.current)!==null&&t!==void 0?t:globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,[,l]=w.useState({});return sQ(()=>{l({})},[]),a?QB.createPortal(w.createElement(Rf.div,$e({"data-radix-portal":""},o,{ref:e,style:a===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...s}:void 0})),a):null}),aQ=w.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return w.createElement(Rf.svg,$e({},s,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),n.asChild?t:w.createElement("polygon",{points:"0,0 30,0 15,10"}))}),lQ=aQ;function sL(n){const[e,t]=w.useState(void 0);return w.useEffect(()=>{if(n){const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else{const l=n.getBoundingClientRect();o=l.width,a=l.height}t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>{t(void 0),r.unobserve(n)}}},[n]),e}function uQ(n,e){const t=Ll.get(n);return t===void 0?(Ll.set(n,{rect:{},callbacks:[e]}),Ll.size===1&&(pw=requestAnimationFrame(pF))):(t.callbacks.push(e),e(n.getBoundingClientRect())),()=>{const r=Ll.get(n);if(r===void 0)return;const i=r.callbacks.indexOf(e);i>-1&&r.callbacks.splice(i,1),r.callbacks.length===0&&(Ll.delete(n),Ll.size===0&&cancelAnimationFrame(pw))}}let pw;const Ll=new Map;function pF(){const n=[];Ll.forEach((e,t)=>{const r=t.getBoundingClientRect();var i,s;i=e.rect,s=r,(i.width!==s.width||i.height!==s.height||i.top!==s.top||i.right!==s.right||i.bottom!==s.bottom||i.left!==s.left)&&(e.rect=r,n.push(e))}),n.forEach(e=>{e.callbacks.forEach(t=>t(e.rect))}),pw=requestAnimationFrame(pF)}function mF(n){const[e,t]=w.useState();return w.useEffect(()=>{if(n){const r=uQ(n,t);return()=>{t(void 0),r()}}},[n]),e}function gF(n,e=[]){let t=[];const r=()=>{const i=t.map(s=>w.createContext(s));return function(s){const o=(s==null?void 0:s[n])||i;return w.useMemo(()=>({[`__scope${n}`]:{...s,[n]:o}}),[s,o])}};return r.scopeName=n,[function(i,s){const o=w.createContext(s),a=t.length;function l(u){const{scope:c,children:d,...p}=u,g=(c==null?void 0:c[n][a])||o,y=w.useMemo(()=>p,Object.values(p));return w.createElement(g.Provider,{value:y},d)}return t=[...t,s],l.displayName=i+"Provider",[l,function(u,c){const d=(c==null?void 0:c[n][a])||o,p=w.useContext(d);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${u}\` must be used within \`${i}\``)}]},cQ(r,...e)]}function cQ(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(i){const s=r.reduce((o,{useScope:a,scopeName:l})=>({...o,...a(i)[`__scope${l}`]}),{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return t.scopeName=e.scopeName,t}function fQ({anchorRect:n,popperSize:e,arrowSize:t,arrowOffset:r=0,side:i,sideOffset:s=0,align:o,alignOffset:a=0,shouldAvoidCollisions:l=!0,collisionBoundariesRect:u,collisionTolerance:c=0}){if(!n||!e||!u)return{popperStyles:dQ,arrowStyles:Xx};const d=function(R,T,E=0,A=0,B){const D=B?B.height:0,U=oL(T,R,"x"),H=oL(T,R,"y"),j=H.before-E-D,$=H.after+E+D,Z=U.before-E-D,k=U.after+E+D;return{top:{start:{x:U.start+A,y:j},center:{x:U.center,y:j},end:{x:U.end-A,y:j}},right:{start:{x:k,y:H.start+A},center:{x:k,y:H.center},end:{x:k,y:H.end-A}},bottom:{start:{x:U.start+A,y:$},center:{x:U.center,y:$},end:{x:U.end-A,y:$}},left:{start:{x:Z,y:H.start+A},center:{x:Z,y:H.center},end:{x:Z,y:H.end-A}}}}(e,n,s,a,t),p=d[i][o];if(l===!1){const R=aL(p);let T=Xx;return t&&(T=uL({popperSize:e,arrowSize:t,arrowOffset:r,side:i,align:o})),{popperStyles:{...R,"--radix-popper-transform-origin":lL(e,i,o,r,t)},arrowStyles:T,placedSide:i,placedAlign:o}}const g=DOMRect.fromRect({...e,...p}),y=(x=u,v=c,DOMRect.fromRect({width:x.width-2*v,height:x.height-2*v,x:x.left+v,y:x.top+v}));var x,v;const m=fL(g,y),S=d[cL(i)][o],_=function(R,T,E){const A=cL(R);return T[R]&&!E[A]?A:R}(i,m,fL(DOMRect.fromRect({...e,...S}),y)),M=function(R,T,E,A,B){const D=E==="top"||E==="bottom",U=D?"left":"top",H=D?"right":"bottom",j=D?"width":"height",$=T[j]>R[j];return(A==="start"||A==="center")&&(B[U]&&$||B[H]&&!$)?"end":(A==="end"||A==="center")&&(B[H]&&$||B[U]&&!$)?"start":A}(e,n,i,o,m),P=aL(d[_][M]);let C=Xx;return t&&(C=uL({popperSize:e,arrowSize:t,arrowOffset:r,side:_,align:M})),{popperStyles:{...P,"--radix-popper-transform-origin":lL(e,_,M,r,t)},arrowStyles:C,placedSide:_,placedAlign:M}}function oL(n,e,t){const r=n[t==="x"?"left":"top"],i=t==="x"?"width":"height",s=n[i],o=e[i];return{before:r-o,start:r,center:r+(s-o)/2,end:r+s-o,after:r+s}}function aL(n){return{position:"absolute",top:0,left:0,minWidth:"max-content",willChange:"transform",transform:`translate3d(${Math.round(n.x+window.scrollX)}px, ${Math.round(n.y+window.scrollY)}px, 0)`}}function lL(n,e,t,r,i){const s=e==="top"||e==="bottom",o=i?i.width:0,a=i?i.height:0,l=o/2+r;let u="",c="";return s?(u={start:`${l}px`,center:"center",end:n.width-l+"px"}[t],c=e==="top"?`${n.height+a}px`:-a+"px"):(u=e==="left"?`${n.width+a}px`:-a+"px",c={start:`${l}px`,center:"center",end:n.height-l+"px"}[t]),`${u} ${c}`}const dQ={position:"fixed",top:0,left:0,opacity:0,transform:"translate3d(0, -200%, 0)"},Xx={position:"absolute",opacity:0};function uL({popperSize:n,arrowSize:e,arrowOffset:t,side:r,align:i}){const s=(n.width-e.width)/2,o=(n.height-e.width)/2,a={top:0,right:90,bottom:180,left:-90}[r],l=Math.max(e.width,e.height),u={width:`${l}px`,height:`${l}px`,transform:`rotate(${a}deg)`,willChange:"transform",position:"absolute",[r]:"100%",direction:hQ(r,i)};return r!=="top"&&r!=="bottom"||(i==="start"&&(u.left=`${t}px`),i==="center"&&(u.left=`${s}px`),i==="end"&&(u.right=`${t}px`)),r!=="left"&&r!=="right"||(i==="start"&&(u.top=`${t}px`),i==="center"&&(u.top=`${o}px`),i==="end"&&(u.bottom=`${t}px`)),u}function hQ(n,e){return(n!=="top"&&n!=="right"||e!=="end")&&(n!=="bottom"&&n!=="left"||e==="end")?"ltr":"rtl"}function cL(n){return{top:"bottom",right:"left",bottom:"top",left:"right"}[n]}function fL(n,e){return{top:n.top<e.top,right:n.right>e.right,bottom:n.bottom>e.bottom,left:n.left<e.left}}const[vF,yF]=gF("Popper"),[pQ,xF]=vF("Popper"),mQ=n=>{const{__scopePopper:e,children:t}=n,[r,i]=w.useState(null);return w.createElement(pQ,{scope:e,anchor:r,onAnchorChange:i},t)},gQ=w.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=xF("PopperAnchor",t),o=w.useRef(null),a=WM(e,o);return w.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:w.createElement(Rf.div,$e({},i,{ref:a}))}),[vQ,yQ]=vF("PopperContent"),xQ=w.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:i,align:s="center",alignOffset:o,collisionTolerance:a,avoidCollisions:l=!0,...u}=n,c=xF("PopperContent",t),[d,p]=w.useState(),g=mF(c.anchor),[y,x]=w.useState(null),v=sL(y),[m,S]=w.useState(null),_=sL(m),M=WM(e,D=>x(D)),P=function(){const[D,U]=w.useState(void 0);return w.useEffect(()=>{let H;function j(){U({width:window.innerWidth,height:window.innerHeight})}function $(){window.clearTimeout(H),H=window.setTimeout(j,100)}return j(),window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[]),D}(),C=P?DOMRect.fromRect({...P,x:0,y:0}):void 0,{popperStyles:R,arrowStyles:T,placedSide:E,placedAlign:A}=fQ({anchorRect:g,popperSize:v,arrowSize:_,arrowOffset:d,side:r,sideOffset:i,align:s,alignOffset:o,shouldAvoidCollisions:l,collisionBoundariesRect:C,collisionTolerance:a}),B=E!==void 0;return w.createElement("div",{style:R,"data-radix-popper-content-wrapper":""},w.createElement(vQ,{scope:t,arrowStyles:T,onArrowChange:S,onArrowOffsetChange:p},w.createElement(Rf.div,$e({"data-side":E,"data-align":A},u,{style:{...u.style,animation:B?void 0:"none"},ref:M}))))}),_Q=w.forwardRef(function(n,e){const{__scopePopper:t,offset:r,...i}=n,s=yQ("PopperArrow",t),{onArrowOffsetChange:o}=s;return w.useEffect(()=>o(r),[o,r]),w.createElement("span",{style:{...s.arrowStyles,pointerEvents:"none"}},w.createElement("span",{ref:s.onArrowChange,style:{display:"inline-block",verticalAlign:"top",pointerEvents:"auto"}},w.createElement(lQ,$e({},i,{ref:e,style:{...i.style,display:"block"}}))))}),SQ=mQ,wQ=gQ,bQ=xQ,MQ=_Q,dL=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{};function EQ(...n){return e=>n.forEach(t=>function(r,i){typeof r=="function"?r(i):r!=null&&(r.current=i)}(t,e))}function AQ(...n){return w.useCallback(EQ(...n),n)}const _F=n=>{const{present:e,children:t}=n,r=function(o){const[a,l]=w.useState(),u=w.useRef({}),c=w.useRef(o),d=w.useRef("none"),p=o?"mounted":"unmounted",[g,y]=function(x,v){return w.useReducer((m,S)=>{const _=v[m][S];return _??m},x)}(p,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const x=Lg(u.current);d.current=g==="mounted"?x:"none"},[g]),dL(()=>{const x=u.current,v=c.current;if(v!==o){const m=d.current,S=Lg(x);o?y("MOUNT"):S==="none"||(x==null?void 0:x.display)==="none"?y("UNMOUNT"):y(v&&m!==S?"ANIMATION_OUT":"UNMOUNT"),c.current=o}},[o,y]),dL(()=>{if(a){const x=m=>{const S=Lg(u.current).includes(m.animationName);m.target===a&&S&&y("ANIMATION_END")},v=m=>{m.target===a&&(d.current=Lg(u.current))};return a.addEventListener("animationstart",v),a.addEventListener("animationcancel",x),a.addEventListener("animationend",x),()=>{a.removeEventListener("animationstart",v),a.removeEventListener("animationcancel",x),a.removeEventListener("animationend",x)}}},[a,y]),{isPresent:["mounted","unmountSuspended"].includes(g),ref:w.useCallback(x=>{x&&(u.current=getComputedStyle(x)),l(x)},[])}}(e),i=typeof t=="function"?t({present:r.isPresent}):w.Children.only(t),s=AQ(r.ref,i.ref);return typeof t=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};function Lg(n){return(n==null?void 0:n.animationName)||"none"}_F.displayName="Presence";function hL(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e.current}function CQ(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n}),w.useMemo(()=>(...t)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...t)},[])}function TQ(n){const e=CQ(n);w.useEffect(()=>{const t=r=>{r.key==="Escape"&&e(r)};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[e])}function pL(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n}),w.useMemo(()=>(...t)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...t)},[])}function LQ({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=function({defaultProp:l,onChange:u}){const c=w.useState(l),[d]=c,p=w.useRef(d),g=pL(u);return w.useEffect(()=>{p.current!==d&&(g(d),p.current=d)},[d,p,g]),c}({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,a=pL(t);return[o,w.useCallback(l=>{if(s){const u=l,c=typeof l=="function"?u(n):l;c!==n&&a(c)}else i(l)},[s,n,i,a])]}function oc(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}const[SF,cue]=gF("Tooltip",[yF]),Z0=yF(),PQ=700,[fue,RQ]=SF("TooltipProvider",{isOpenDelayed:!0,delayDuration:PQ,onOpen:()=>{},onClose:()=>{}}),[IQ,q0]=SF("Tooltip"),BQ=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i=!1,onOpenChange:s,delayDuration:o}=n,a=RQ("Tooltip",e),l=Z0(e),[u,c]=w.useState(null),d=eQ(),p=w.useRef(0),g=o??a.delayDuration,y=w.useRef(!1),{onOpen:x,onClose:v}=a,[m=!1,S]=LQ({prop:r,defaultProp:i,onChange:C=>{C&&(document.dispatchEvent(new CustomEvent("tooltip.open")),x()),s==null||s(C)}}),_=w.useMemo(()=>m?y.current?"delayed-open":"instant-open":"closed",[m]),M=w.useCallback(()=>{window.clearTimeout(p.current),y.current=!1,S(!0)},[S]),P=w.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,S(!0)},g)},[g,S]);return w.useEffect(()=>()=>window.clearTimeout(p.current),[]),w.createElement(SQ,l,w.createElement(IQ,{scope:e,contentId:d,open:m,stateAttribute:_,trigger:u,onTriggerChange:c,onTriggerEnter:w.useCallback(()=>{a.isOpenDelayed?P():M()},[a.isOpenDelayed,P,M]),onOpen:w.useCallback(M,[M]),onClose:w.useCallback(()=>{window.clearTimeout(p.current),S(!1),v()},[S,v])},t))},DQ=w.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=q0("TooltipTrigger",t),s=Z0(t),o=WM(e,i.onTriggerChange),a=w.useRef(!1),l=w.useCallback(()=>a.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("mouseup",l),[l]),w.createElement(wQ,$e({asChild:!0},s),w.createElement(Rf.button,$e({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:o,onMouseEnter:oc(n.onMouseEnter,i.onTriggerEnter),onMouseLeave:oc(n.onMouseLeave,i.onClose),onMouseDown:oc(n.onMouseDown,()=>{i.onClose(),a.current=!0,document.addEventListener("mouseup",l,{once:!0})}),onFocus:oc(n.onFocus,()=>{a.current||i.onOpen()}),onBlur:oc(n.onBlur,i.onClose),onClick:oc(n.onClick,i.onClose)})))}),OQ=w.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=q0("TooltipContent",n.__scopeTooltip);return w.createElement(_F,{present:t||i.open},w.createElement(kQ,$e({ref:e},r)))}),kQ=w.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,portalled:s=!0,...o}=n,a=q0("TooltipContent",t),l=Z0(t),u=s?oQ:w.Fragment,{onClose:c}=a;return TQ(()=>c()),w.useEffect(()=>(document.addEventListener("tooltip.open",c),()=>document.removeEventListener("tooltip.open",c)),[c]),w.createElement(u,null,w.createElement(NQ,{__scopeTooltip:t}),w.createElement(bQ,$e({"data-state":a.stateAttribute},l,o,{ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"}}),w.createElement(hF,null,r),w.createElement(iQ,{id:a.contentId,role:"tooltip"},i||r)))}),FQ=w.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=Z0(t);return w.createElement(MQ,$e({},i,r,{ref:e}))});function NQ(n){const{__scopeTooltip:e}=n,t=q0("CheckTriggerMoved",e),r=mF(t.trigger),i=r==null?void 0:r.left,s=hL(i),o=r==null?void 0:r.top,a=hL(o),l=t.onClose;return w.useEffect(()=>{(s!==void 0&&s!==i||a!==void 0&&a!==o)&&l()},[l,s,a,i,o]),null}const UQ=BQ,zQ=DQ,HQ=OQ,GQ=FQ;function VQ(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function dn(n,e){if(n==null)return{};var t=VQ(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}let bn;(function(n){n[n.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",n[n.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",n[n.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",n[n.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",n[n.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",n[n.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",n[n.THEME_ERROR=6]="THEME_ERROR",n[n.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",n[n.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",n[n.EMPTY_KEY=9]="EMPTY_KEY"})(bn||(bn={}));const jQ={[bn.UNSUPPORTED_INPUT]:(n,e)=>[`An input with type \`${n}\` input was found at path \`${e}\` but it's not supported yet.`],[bn.NO_COMPONENT_FOR_TYPE]:(n,e)=>[`Type \`${n}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[bn.UNKNOWN_INPUT]:(n,e)=>[`input at path \`${n}\` is not recognized.`,e],[bn.DUPLICATE_KEYS]:(n,e,t)=>[`Key \`${n}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[bn.ALREADY_REGISTERED_TYPE]:n=>[`Type ${n} has already been registered. You can't register a component with the same type.`],[bn.CLIPBOARD_ERROR]:n=>["Error copying the value",n],[bn.THEME_ERROR]:(n,e)=>[`Error accessing the theme \`${n}.${e}\` value.`],[bn.PATH_DOESNT_EXIST]:n=>[`Error getting the value at path \`${n}\`. There is probably an error in your \`render\` function.`],[bn.PATH_DOESNT_EXIST]:n=>[`Error accessing the value at path \`${n}\``],[bn.INPUT_TYPE_OVERRIDE]:(n,e,t)=>[`Input at path \`${n}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[bn.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function wF(n,e,...t){const[r,...i]=jQ[e](...t);console[n]("LEVA: "+r,...i)}const Do=wF.bind(null,"warn"),WQ=wF.bind(null,"log"),$Q=["value"],JQ=["schema"],KQ=["value"],bF=[],lu={};function mL(n){let{value:e}=n,t=dn(n,$Q);for(let r of bF){const i=r(e,t);if(i)return i}}function oa(n,e){let{schema:t}=e,r=dn(e,JQ);if(n in lu){Do(bn.ALREADY_REGISTERED_TYPE,n);return}bF.push((i,s)=>t(i,s)&&n),lu[n]=r}function Yx(n,e,t,r){const{normalize:i}=lu[n];if(i)return i(e,t,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=dn(e,KQ);return{value:s,settings:o}}function XQ(n,e,t,r,i,s){const{sanitize:o}=lu[n];return o?o(e,t,r,i,s):e}function gL(n,e,t){const{format:r}=lu[n];return r?r(e,t):e}function YQ(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function yt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vL(Object(t),!0).forEach(function(r){YQ(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const qa=(n,e,t)=>n>t?t:n<e?e:n,QQ=n=>{if(n===""||typeof n=="number")return n;try{const e=Ea(n);if(!isNaN(e))return e}catch{}return parseFloat(n)},ZQ=Math.log(10);function yL(n){let e=Math.abs(+String(n).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const t=Math.floor(Math.log(e)/ZQ)+1,r=Math.floor(Math.log10(Math.abs(n))),i=Math.pow(10,r-t);return Math.max(i,.001)}const Xv=(n,e,t)=>t===e?0:(qa(n,e,t)-e)/(t-e),Yv=(n,e,t)=>n*(t-e)+e,qQ=()=>"_"+Math.random().toString(36).substr(2,9),xL=/\(([0-9+\-*/^ .]+)\)/,_L=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,SL=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,wL=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,bL=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,ML=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function Ea(n){if(isNaN(Number(n)))if(xL.test(n)){const e=n.replace(xL,(t,r)=>String(Ea(r)));return Ea(e)}else if(_L.test(n)){const e=n.replace(_L,(t,r,i)=>String(Math.pow(Number(r),Number(i))));return Ea(e)}else if(SL.test(n)){const e=n.replace(SL,(t,r,i)=>String(Number(r)*Number(i)));return Ea(e)}else if(wL.test(n)){const e=n.replace(wL,(t,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return Ea(e)}else if(bL.test(n)){const e=n.replace(bL,(t,r,i)=>String(Number(r)+Number(i)));return Ea(e)}else if(ML.test(n)){const e=n.replace(ML,(t,r,i)=>String(Number(r)-Number(i)));return Ea(e)}else return Number(n);return Number(n)}function eZ(n,e){const t=yt({},n);return e.forEach(r=>r in n&&delete t[r]),t}function tZ(n,e){return n.reduce((t,r,i)=>Object.assign(t,{[e[i]]:r}),{})}function MF(n){return Object.prototype.toString.call(n)==="[object Object]"}const nZ=n=>MF(n)&&Object.keys(n).length===0;let oo;(function(n){n.BUTTON="BUTTON",n.BUTTON_GROUP="BUTTON_GROUP",n.MONITOR="MONITOR",n.FOLDER="FOLDER"})(oo||(oo={}));let Ps;(function(n){n.SELECT="SELECT",n.IMAGE="IMAGE",n.NUMBER="NUMBER",n.COLOR="COLOR",n.STRING="STRING",n.BOOLEAN="BOOLEAN",n.INTERVAL="INTERVAL",n.VECTOR3D="VECTOR3D",n.VECTOR2D="VECTOR2D"})(Ps||(Ps={}));const rZ=["type","__customInput"],iZ=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],sZ=["type"];function EF(n,e,t={},r){var i,s;if(typeof n!="object"||Array.isArray(n))return{type:r,input:n,options:yt({key:e,label:e,optional:!1,disabled:!1,order:0},t)};if("__customInput"in n){const{type:P,__customInput:C}=n,R=dn(n,rZ);return EF(C,e,R,P)}const{render:o,label:a,optional:l,order:u=0,disabled:c,hint:d,onChange:p,onEditStart:g,onEditEnd:y,transient:x}=n,v=dn(n,iZ),m=yt({render:o,key:e,label:a??e,hint:d,transient:x??!!p,onEditStart:g,onEditEnd:y,disabled:c,optional:l,order:u},t);let{type:S}=v,_=dn(v,sZ);if(S=r??S,S in oo)return{type:S,input:_,options:m};let M;return r&&MF(_)&&"value"in _?M=_.value:M=nZ(_)?void 0:_,{type:S,input:M,options:yt(yt({},m),{},{onChange:p,optional:(i=m.optional)!==null&&i!==void 0?i:!1,disabled:(s=m.disabled)!==null&&s!==void 0?s:!1})}}function oZ(n,e,t,r){const i=EF(n,e),{type:s,input:o,options:a}=i;if(s)return s in oo?i:{type:s,input:Yx(s,o,t,r),options:a};let l=mL(o);return l?{type:l,input:Yx(l,o,t,r),options:a}:(l=mL({value:o}),l?{type:l,input:Yx(l,{value:o},t,r),options:a}:!1)}function EL(n,e,t,r,i){const{value:s,type:o,settings:a}=n;n.value=AF({type:o,value:s,settings:a},e,t,r),n.fromPanel=i}const aZ=function(e,t,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=r};function AF({type:n,value:e,settings:t},r,i,s){const o=n!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=XQ(n,o,t,e,i,s)}catch(l){throw new aZ(`The value \`${r}\` did not result in a correct value.`,e,l)}return Jv(a,e)?e:a}const CF=(n,e,t=!1)=>{let r=0;return function(){const i=arguments,s=t&&!r,o=()=>n.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},TF=n=>n.shiftKey?5:n.altKey?1/5:1,lZ=["value"],uZ=["min","max"],cZ=n=>{if(typeof n=="number")return!0;if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?!1:n.substring((""+e).length).trim().length<4}return!1},LF=(n,{min:e=-1/0,max:t=1/0,suffix:r})=>{const i=parseFloat(n);if(n===""||isNaN(i))throw Error("Invalid number");const s=qa(i,e,t);return r?s+r:s},fZ=(n,{pad:e=0,suffix:t})=>{const r=parseFloat(n).toFixed(e);return t?r+t:r},PF=n=>{let{value:e}=n,t=dn(n,lZ);const{min:r=-1/0,max:i=1/0}=t,s=dn(t,uZ);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=qa(o,r,i);let l=t.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const u=l?yL(l)*10:yL(o);l=l||u/10;const c=Math.round(qa(Math.log10(1/u),0,2));return{value:a?o+a:o,settings:yt({initialValue:o,step:l,pad:c,min:r,max:i,suffix:a},s)}},RF=(n,{step:e,initialValue:t})=>{const r=Math.round((n-t)/e);return t+r*e};var IF=Object.freeze({__proto__:null,schema:cZ,sanitize:LF,format:fZ,normalize:PF,sanitizeStep:RF});function Xn(){return Xn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Xn.apply(this,arguments)}const BF=w.createContext({});function Nr(){return w.useContext(BF)}const DF=w.createContext(null),OF=w.createContext(null),kF=w.createContext(null);function _p(){return w.useContext(OF)}function dZ(){return w.useContext(kF)}const hZ=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function Pg(n,e){const[t,r]=n.split(" "),i={};return t!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),r&&(i.backgroundColor=r),i}const Id={$inputStyle:()=>n=>Pg(n,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>n=>Pg(n,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>n=>Pg(n,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>n=>Pg(n,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:ct,css:due,createTheme:hue,globalCss:pZ,keyframes:pue}=YY({prefix:"leva",theme:hZ(),utils:yt(yt({},Id),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:n=>({"&:focus":Id.$focusStyle()(n)}),$focusWithin:n=>({"&:focus-within":Id.$focusStyle()(n)}),$hover:n=>({"&:hover":Id.$hoverStyle()(n)}),$active:n=>({"&:active":Id.$activeStyle()(n)})})}),mZ=pZ({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function Go(n,e){const{theme:t}=w.useContext(DF);if(!(n in t)||!(e in t[n]))return Do(bn.THEME_ERROR,n,e),"";let r=e;for(;;){let i=t[n][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const FF=ct("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),NF=ct("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${FF}`]:{paddingLeft:0}}),gZ=ct(NF,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),vZ=ct("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),yZ=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],xZ=["onUpdate"];function $M(n){let{innerLabel:e,value:t,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:l="text",rows:u=0}=n,c=dn(n,yZ);const{id:d,emitOnEditStart:p,emitOnEditEnd:g,disabled:y}=Nr(),x=a||d,v=w.useRef(null),m=u>0,S=m?"textarea":"input",_=w.useCallback(C=>R=>{const T=R.currentTarget.value;C(T)},[]);ne.useEffect(()=>{const C=v.current,R=_(T=>{r(T),g()});return C==null||C.addEventListener("blur",R),()=>C==null?void 0:C.removeEventListener("blur",R)},[_,r,g]);const M=w.useCallback(C=>{C.key==="Enter"&&_(r)(C)},[_,r]),P=Object.assign({as:S},m?{rows:u}:{},c);return ne.createElement(vZ,{textArea:m},e&&typeof e=="string"?ne.createElement(NF,null,e):e,ne.createElement(FF,Xn({levaType:o,ref:v,id:x,type:l,autoComplete:"off",spellCheck:"false",value:t,onChange:_(i),onFocus:()=>p(),onKeyPress:M,onKeyDown:s,disabled:y},P)))}function _Z(n){let{onUpdate:e}=n,t=dn(n,xZ);const r=w.useCallback(s=>e(QQ(s)),[e]),i=w.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return ne.createElement($M,Xn({},t,{onUpdate:r,onKeyDown:i,type:"number"}))}const Qv=ct("div",{}),mw=ct("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),SZ=ct("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${mw}::after`]:{opacity:.6},[`${Qv}:hover > & + ${mw}::after`]:{opacity:.6},[`${Qv}:hover > & > svg`]:{opacity:1}}),UF=ct("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${Qv}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),zF=ct("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${UF} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),HF=ct(zF,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),wZ=ct("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),bZ=ct("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),gw=ct("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),MZ=ct("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${gw}`]:{pointerEvents:"auto"}}}}}),GF=ct("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),EZ=ct("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),AZ=ct(GQ,{fill:"$toolTipBackground"});function JM({children:n}){const{className:e}=w.useContext(DF);return ne.createElement(yY,{className:e},n)}const CZ=["align"];function TZ(){const{id:n,disable:e,disabled:t}=Nr();return ne.createElement(ne.Fragment,null,ne.createElement(bZ,{id:n+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),ne.createElement("label",{htmlFor:n+"__disable"}))}function LZ(n){const{id:e,optional:t,hint:r}=Nr(),i=n.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof n.children=="string"?{title:n.children}:null;return ne.createElement(ne.Fragment,null,t&&ne.createElement(TZ,null),r!==void 0?ne.createElement(UQ,null,ne.createElement(zQ,{asChild:!0},ne.createElement(gw,Xn({},i,n))),ne.createElement(HQ,{side:"top",sideOffset:2},ne.createElement(EZ,null,r,ne.createElement(AZ,null)))):ne.createElement(gw,Xn({},i,s,n)))}function Fs(n){let{align:e}=n,t=dn(n,CZ);const{value:r,label:i,key:s,disabled:o}=Nr(),{hideCopyButton:a}=dZ(),l=!a&&s!==void 0,[u,c]=w.useState(!1),d=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),c(!0)}catch{Do(bn.CLIPBOARD_ERROR,{[s]:r})}};return ne.createElement(wZ,{align:e,onPointerLeave:()=>c(!1)},ne.createElement(LZ,t),l&&!o&&ne.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},u?ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},ne.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),ne.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):ne.createElement("svg",{onClick:d,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},ne.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),ne.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const PZ=["toggled"],RZ=ct("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function KM(n){let{toggled:e}=n,t=dn(n,PZ);return ne.createElement(RZ,Xn({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),ne.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const IZ=["input"];function os(n){let{input:e}=n,t=dn(n,IZ);return e?ne.createElement(HF,t):ne.createElement(zF,t)}function VF({value:n,type:e,settings:t,setValue:r}){const[i,s]=w.useState(gL(e,n,t)),o=w.useRef(n),a=w.useRef(t);a.current=t;const l=w.useCallback(c=>s(gL(e,c,a.current)),[e]),u=w.useCallback(c=>{try{r(c)}catch(d){const{type:p,previousValue:g}=d;if(p!=="LEVA_ERROR")throw d;l(g)}},[l,r]);return w.useEffect(()=>{Jv(n,o.current)||l(n),o.current=n},[n,l]),{displayValue:i,onChange:s,onUpdate:u}}function Sp(n,e){const{emitOnEditStart:t,emitOnEditEnd:r}=Nr();return dK(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),t==null||t());const s=n(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function BZ(n){const e=w.useRef(null),t=w.useRef(null),r=w.useRef(!1);return w.useEffect(()=>{const i=CF(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,n(e.current,t.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[n]),w.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function jF(){const n=w.useRef(null),e=w.useRef({x:0,y:0}),t=w.useCallback(r=>{Object.assign(e.current,r),n.current&&(n.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[n,t]}const DZ=["__refCount"],Qx=(n,e)=>{if(!n[e])return null;const t=n[e];return dn(t,DZ)};function OZ(n){const e=_p(),[t,r]=w.useState(Qx(e.getData(),n)),i=w.useCallback(u=>e.setValueAtPath(n,u,!0),[n,e]),s=w.useCallback(u=>e.setSettingsAtPath(n,u),[n,e]),o=w.useCallback(u=>e.disableInputAtPath(n,u),[n,e]),a=w.useCallback(()=>e.emitOnEditStart(n),[n,e]),l=w.useCallback(()=>e.emitOnEditEnd(n),[n,e]);return w.useEffect(()=>{r(Qx(e.getData(),n));const u=e.useStore.subscribe(c=>Qx(c.data,n),r,{equalityFn:$k});return()=>u()},[e,n]),[t,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const kZ=ct("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),WF=ct("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),vw=ct("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),$F=ct("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),JF=ct("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function FZ({value:n,min:e,max:t,onDrag:r,step:i,initialValue:s}){const o=w.useRef(null),a=w.useRef(null),l=w.useRef(0),u=Go("sizes","scrubberWidth"),c=Sp(({event:p,first:g,xy:[y],movement:[x],memo:v})=>{if(g){const{width:S,left:_}=o.current.getBoundingClientRect();l.current=S-parseFloat(u),v=(p==null?void 0:p.target)===a.current?n:Yv((y-_)/S,e,t)}const m=v+Yv(x/l.current,0,t-e);return r(RF(m,{step:i,initialValue:s})),v}),d=Xv(n,e,t);return ne.createElement($F,Xn({ref:o},c()),ne.createElement(WF,null,ne.createElement(JF,{style:{left:0,right:`${(1-d)*100}%`}})),ne.createElement(vw,{ref:a,style:{left:`calc(${d} * (100% - ${u}))`}}))}const NZ=ne.memo(({label:n,onUpdate:e,step:t,innerLabelTrim:r})=>{const[i,s]=w.useState(!1),o=Sp(({active:a,delta:[l],event:u,memo:c=0})=>(s(a),c+=l/2,Math.abs(c)>=1&&(e(d=>parseFloat(d)+Math.floor(c)*t*TF(u)),c=0),c));return ne.createElement(gZ,Xn({dragging:i,title:n.length>1?n:""},o()),n.slice(0,r))});function KF({label:n,id:e,displayValue:t,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&ne.createElement(NZ,{label:n,step:s.step,onUpdate:r,innerLabelTrim:o});return ne.createElement(_Z,{id:e,value:String(t),onUpdate:r,onChange:i,innerLabel:a})}function UZ(){const n=Nr(),{label:e,value:t,onUpdate:r,settings:i,id:s}=n,{min:o,max:a}=i,l=a!==1/0&&o!==-1/0;return ne.createElement(os,{input:!0},ne.createElement(Fs,null,e),ne.createElement(kZ,{hasRange:l},l&&ne.createElement(FZ,Xn({value:parseFloat(t),onDrag:r},i)),ne.createElement(KF,Xn({},n,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:zZ}=IF,HZ=dn(IF,["sanitizeStep"]);var GZ=yt({component:UZ},HZ);const VZ=(n,e)=>ui().schema({options:ui().passesAnyOf(ui().object(),ui().array())}).test(e),jZ=(n,{values:e})=>{if(e.indexOf(n)<0)throw Error("Selected value doesn't match Select options");return n},WZ=(n,{values:e})=>e.indexOf(n),$Z=n=>{let{value:e,options:t}=n,r,i;return Array.isArray(t)?(i=t,r=t.map(s=>String(s))):(i=Object.values(t),r=Object.keys(t)),"value"in n?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var JZ=Object.freeze({__proto__:null,schema:VZ,sanitize:jZ,format:WZ,normalize:$Z});const KZ=ct("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),yw=ct("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),XZ=ct("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${yw}:focus + &`]:{$focusStyle:""},[`${yw}:hover + &`]:{$hoverStyle:""}});function YZ({displayValue:n,value:e,onUpdate:t,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,l=w.useRef();return e===a[n]&&(l.current=o[n]),ne.createElement(KZ,null,ne.createElement(yw,{id:r,value:n,onChange:u=>t(a[Number(u.currentTarget.value)]),disabled:s},o.map((u,c)=>ne.createElement("option",{key:u,value:c},u))),ne.createElement(XZ,null,l.current),ne.createElement(KM,{toggled:!0}))}function QZ(){const{label:n,value:e,displayValue:t,onUpdate:r,id:i,disabled:s,settings:o}=Nr();return ne.createElement(os,{input:!0},ne.createElement(Fs,null,n),ne.createElement(YZ,{id:i,value:e,displayValue:t,onUpdate:r,settings:o,disabled:s}))}var ZZ=yt({component:QZ},JZ);const qZ=n=>ui().string().test(n),eq=n=>{if(typeof n!="string")throw Error("Invalid string");return n},tq=({value:n,editable:e=!0,rows:t=!1})=>({value:n,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}});var nq=Object.freeze({__proto__:null,schema:qZ,sanitize:eq,normalize:tq});const rq=["displayValue","onUpdate","onChange","editable"],iq=ct("div",{whiteSpace:"pre-wrap"});function sq(n){let{displayValue:e,onUpdate:t,onChange:r,editable:i=!0}=n,s=dn(n,rq);return i?ne.createElement($M,Xn({value:e,onUpdate:t,onChange:r},s)):ne.createElement(iq,null,e)}function oq(){const{label:n,settings:e,displayValue:t,onUpdate:r,onChange:i}=Nr();return ne.createElement(os,{input:!0},ne.createElement(Fs,null,n),ne.createElement(sq,Xn({displayValue:t,onUpdate:r,onChange:i},e)))}var aq=yt({component:oq},nq);const lq=n=>ui().boolean().test(n),uq=n=>{if(typeof n!="boolean")throw Error("Invalid boolean");return n};var cq=Object.freeze({__proto__:null,schema:lq,sanitize:uq});const fq=ct("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function dq({value:n,onUpdate:e,id:t,disabled:r}){return ne.createElement(fq,null,ne.createElement("input",{id:t,type:"checkbox",checked:n,onChange:i=>e(i.currentTarget.checked),disabled:r}),ne.createElement("label",{htmlFor:t},ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ne.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function hq(){const{label:n,value:e,onUpdate:t,disabled:r,id:i}=Nr();return ne.createElement(os,{input:!0},ne.createElement(Fs,null,n),ne.createElement(dq,{value:e,onUpdate:t,id:i,disabled:r}))}var pq=yt({component:hq},cq);const mq=["locked"];function gq({value:n,id:e,valueKey:t,settings:r,onUpdate:i,innerLabelTrim:s}){const o=w.useRef(n[t]);o.current=n[t];const a=w.useCallback(u=>i({[t]:AF({type:"NUMBER",value:o.current,settings:r},u)}),[i,r,t]),l=VF({type:"NUMBER",value:n[t],settings:r,setValue:a});return ne.createElement(KF,{id:e,label:t,value:n[t],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:s})}const vq=ct("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function yq(n){let{locked:e}=n,t=dn(n,mq);return ne.createElement("svg",Xn({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e?ne.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):ne.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function XM({value:n,onUpdate:e,settings:t,innerLabelTrim:r}){const{id:i,setSettings:s}=Nr(),{lock:o,locked:a}=t;return ne.createElement(vq,{withLock:o},o&&ne.createElement(yq,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(n).map((l,u)=>ne.createElement(gq,{id:u===0?i:`${i}.${l}`,key:l,valueKey:l,value:n,settings:t[l],onUpdate:e,innerLabelTrim:r})))}const XF=(n,e)=>{const t={};let r=0,i=1/0;Object.entries(n).forEach(([s,o])=>{t[s]=PF(yt({value:o},e[s])).settings,r=Math.max(r,t[s].step),i=Math.min(i,t[s].pad)});for(let s in t){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(t[s].step=r,t[s].pad=i)}return t},xq=["lock"],_q=["value"];function Sq(n){const e=ui().array().length(n).every.number(),t=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===n&&i.every(s=>isFinite(s))};return r=>e.test(r)||t(r)}function wq(n){return Array.isArray(n)?"array":"object"}function oh(n,e,t){return wq(n)===e?n:e==="array"?Object.values(n):tZ(n,t)}const bq=(n,e,t)=>{const r=oh(n,"object",e.keys);for(let o in r)r[o]=LF(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=oh(t,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],l=r[a],u=o[a],c=u!==0?l/u:1;for(let d in o)d===a?s[a]=l:s[d]=o[d]*c}else s=yt(yt({},o),r)}return oh(s,e.format,e.keys)},Mq=(n,e)=>oh(n,"object",e.keys),Eq=n=>!!n&&("step"in n||"min"in n||"max"in n);function Aq(n,e,t=[]){const{lock:r=!1}=e,i=dn(e,xq),s=Array.isArray(n)?"array":"object",o=s==="object"?Object.keys(n):t,a=oh(n,"object",o),l=Eq(i)?o.reduce((c,d)=>Object.assign(c,{[d]:i}),{}):i,u=XF(a,l);return{value:s==="array"?n:a,settings:yt(yt({},u),{},{format:s,keys:o,lock:r,locked:!1})}}function YF(n){return{schema:Sq(n.length),normalize:e=>{let{value:t}=e,r=dn(e,_q);return Aq(t,r,n)},format:(e,t)=>Mq(e,t),sanitize:(e,t,r)=>bq(e,t,r)}}var Cq={grad:.9,turn:360,rad:360/(2*Math.PI)},To=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},fr=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},qi=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},QF=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},AL=function(n){return{r:qi(n.r,0,255),g:qi(n.g,0,255),b:qi(n.b,0,255),a:qi(n.a)}},Zx=function(n){return{r:fr(n.r),g:fr(n.g),b:fr(n.b),a:fr(n.a,3)}},Tq=/^#([0-9a-f]{3,8})$/i,Rg=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},ZF=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},qF=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),u=s%6;return{r:255*[r,a,o,o,l,r][u],g:255*[l,r,r,a,o,o][u],b:255*[o,o,l,r,r,a][u],a:i}},CL=function(n){return{h:QF(n.h),s:qi(n.s,0,100),l:qi(n.l,0,100),a:qi(n.a)}},TL=function(n){return{h:fr(n.h),s:fr(n.s),l:fr(n.l),a:fr(n.a,3)}},LL=function(n){return qF((t=(e=n).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},ah=function(n){return{h:(e=ZF(n)).h,s:(i=(200-(t=e.s))*(r=e.v)/100)>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,r,i},Lq=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Pq=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Rq=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Iq=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,xw={string:[[function(n){var e=Tq.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?fr(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?fr(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=Rq.exec(n)||Iq.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:AL({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=Lq.exec(n)||Pq.exec(n);if(!e)return null;var t,r,i=CL({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(Cq[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return LL(i)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=i===void 0?1:i;return To(e)&&To(t)&&To(r)?AL({r:Number(e),g:Number(t),b:Number(r),a:Number(s)}):null},"rgb"],[function(n){var e=n.h,t=n.s,r=n.l,i=n.a,s=i===void 0?1:i;if(!To(e)||!To(t)||!To(r))return null;var o=CL({h:Number(e),s:Number(t),l:Number(r),a:Number(s)});return LL(o)},"hsl"],[function(n){var e=n.h,t=n.s,r=n.v,i=n.a,s=i===void 0?1:i;if(!To(e)||!To(t)||!To(r))return null;var o=function(a){return{h:QF(a.h),s:qi(a.s,0,100),v:qi(a.v,0,100),a:qi(a.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(s)});return qF(o)},"hsv"]]},PL=function(n,e){for(var t=0;t<e.length;t++){var r=e[t][0](n);if(r)return[r,e[t][1]]}return[null,void 0]},e4=function(n){return typeof n=="string"?PL(n.trim(),xw.string):typeof n=="object"&&n!==null?PL(n,xw.object):[null,void 0]},Bq=function(n){return e4(n)[1]},qx=function(n,e){var t=ah(n);return{h:t.h,s:qi(t.s+100*e,0,100),l:t.l,a:t.a}},e_=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},RL=function(n,e){var t=ah(n);return{h:t.h,s:t.s,l:qi(t.l+100*e,0,100),a:t.a}},_w=function(){function n(e){this.parsed=e4(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return fr(e_(this.rgba),2)},n.prototype.isDark=function(){return e_(this.rgba)<.5},n.prototype.isLight=function(){return e_(this.rgba)>=.5},n.prototype.toHex=function(){return e=Zx(this.rgba),t=e.r,r=e.g,i=e.b,o=(s=e.a)<1?Rg(fr(255*s)):"","#"+Rg(t)+Rg(r)+Rg(i)+o;var e,t,r,i,s,o},n.prototype.toRgb=function(){return Zx(this.rgba)},n.prototype.toRgbString=function(){return e=Zx(this.rgba),t=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+t+", "+r+", "+i+", "+s+")":"rgb("+t+", "+r+", "+i+")";var e,t,r,i,s},n.prototype.toHsl=function(){return TL(ah(this.rgba))},n.prototype.toHslString=function(){return e=TL(ah(this.rgba)),t=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+t+", "+r+"%, "+i+"%, "+s+")":"hsl("+t+", "+r+"%, "+i+"%)";var e,t,r,i,s},n.prototype.toHsv=function(){return e=ZF(this.rgba),{h:fr(e.h),s:fr(e.s),v:fr(e.v),a:fr(e.a,3)};var e},n.prototype.invert=function(){return Wr({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),Wr(qx(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),Wr(qx(this.rgba,-e))},n.prototype.grayscale=function(){return Wr(qx(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),Wr(RL(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),Wr(RL(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?Wr({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):fr(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=ah(this.rgba);return typeof e=="number"?Wr({h:e,s:t.s,l:t.l,a:t.a}):fr(t.h)},n.prototype.isEqual=function(e){return this.toHex()===Wr(e).toHex()},n}(),Wr=function(n){return n instanceof _w?n:new _w(n)},IL=[],Dq=function(n){n.forEach(function(e){IL.indexOf(e)<0&&(e(_w,xw),IL.push(e))})};function Oq(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in t)r[t[i]]=i;var s={};n.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,u=r[this.toHex()];if(u)return u;if(o!=null&&o.closest){var c=this.toRgb(),d=1/0,p="black";if(!s.length)for(var g in t)s[g]=new n(t[g]).toRgb();for(var y in t){var x=(a=c,l=s[y],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));x<d&&(d=x,p=y)}return p}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":t[a];return l?new n(l).toRgb():null},"name"])}function If(){return(If=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function YM(n,e){if(n==null)return{};var t,r,i={},s=Object.keys(n);for(r=0;r<s.length;r++)e.indexOf(t=s[r])>=0||(i[t]=n[t]);return i}function Sw(n){var e=w.useRef(n),t=w.useRef(function(r){e.current&&e.current(r)});return e.current=n,t.current}var ff=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},lh=function(n){return"touches"in n},ww=function(n){return n&&n.ownerDocument.defaultView||self},BL=function(n,e,t){var r=n.getBoundingClientRect(),i=lh(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,t):e;return{left:ff((i.pageX-(r.left+ww(n).pageXOffset))/r.width),top:ff((i.pageY-(r.top+ww(n).pageYOffset))/r.height)}},DL=function(n){!lh(n)&&n.preventDefault()},QM=ne.memo(function(n){var e=n.onMove,t=n.onKey,r=YM(n,["onMove","onKey"]),i=w.useRef(null),s=Sw(e),o=Sw(t),a=w.useRef(null),l=w.useRef(!1),u=w.useMemo(function(){var g=function(v){DL(v),(lh(v)?v.touches.length>0:v.buttons>0)&&i.current?s(BL(i.current,v,a.current)):x(!1)},y=function(){return x(!1)};function x(v){var m=l.current,S=ww(i.current),_=v?S.addEventListener:S.removeEventListener;_(m?"touchmove":"mousemove",g),_(m?"touchend":"mouseup",y)}return[function(v){var m=v.nativeEvent,S=i.current;if(S&&(DL(m),!function(M,P){return P&&!lh(M)}(m,l.current)&&S)){if(lh(m)){l.current=!0;var _=m.changedTouches||[];_.length&&(a.current=_[0].identifier)}S.focus(),s(BL(S,m,a.current)),x(!0)}},function(v){var m=v.which||v.keyCode;m<37||m>40||(v.preventDefault(),o({left:m===39?.05:m===37?-.05:0,top:m===40?.05:m===38?-.05:0}))},x]},[o,s]),c=u[0],d=u[1],p=u[2];return w.useEffect(function(){return p},[p]),ne.createElement("div",If({},r,{onTouchStart:c,onMouseDown:c,className:"react-colorful__interactive",ref:i,onKeyDown:d,tabIndex:0,role:"slider"}))}),wp=function(n){return n.filter(Boolean).join(" ")},ZM=function(n){var e=n.color,t=n.left,r=n.top,i=r===void 0?.5:r,s=wp(["react-colorful__pointer",n.className]);return ne.createElement("div",{className:s,style:{top:100*i+"%",left:100*t+"%"}},ne.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},$r=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},t4=function(n){var e=n.s,t=n.v,r=n.a,i=(200-e)*t/100;return{h:$r(n.h),s:$r(i>0&&i<200?e*t/100/(i<=100?i:200-i)*100:0),l:$r(i/2),a:$r(r,2)}},bw=function(n){var e=t4(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},t_=function(n){var e=t4(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},n4=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),u=s%6;return{r:$r(255*[r,a,o,o,l,r][u]),g:$r(255*[l,r,r,a,o,o][u]),b:$r(255*[o,o,l,r,r,a][u]),a:$r(i,2)}},r4=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:$r(60*(a<0?a+6:a)),s:$r(s?o/s*100:0),v:$r(s/255*100),a:i}},i4=ne.memo(function(n){var e=n.hue,t=n.onChange,r=wp(["react-colorful__hue",n.className]);return ne.createElement("div",{className:r},ne.createElement(QM,{onMove:function(i){t({h:360*i.left})},onKey:function(i){t({h:ff(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":$r(e),"aria-valuemax":"360","aria-valuemin":"0"},ne.createElement(ZM,{className:"react-colorful__hue-pointer",left:e/360,color:bw({h:e,s:100,v:100,a:1})})))}),s4=ne.memo(function(n){var e=n.hsva,t=n.onChange,r={backgroundColor:bw({h:e.h,s:100,v:100,a:1})};return ne.createElement("div",{className:"react-colorful__saturation",style:r},ne.createElement(QM,{onMove:function(i){t({s:100*i.left,v:100-100*i.top})},onKey:function(i){t({s:ff(e.s+100*i.left,0,100),v:ff(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+$r(e.s)+"%, Brightness "+$r(e.v)+"%"},ne.createElement(ZM,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:bw(e)})))}),qM=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0};function o4(n,e,t){var r=Sw(t),i=w.useState(function(){return n.toHsva(e)}),s=i[0],o=i[1],a=w.useRef({color:e,hsva:s});w.useEffect(function(){if(!n.equal(e,a.current.color)){var u=n.toHsva(e);a.current={hsva:u,color:e},o(u)}},[e,n]),w.useEffect(function(){var u;qM(s,a.current.hsva)||n.equal(u=n.fromHsva(s),a.current.color)||(a.current={hsva:s,color:u},r(u))},[s,n,r]);var l=w.useCallback(function(u){o(function(c){return Object.assign({},c,u)})},[]);return[s,l]}var kq=typeof window<"u"?w.useLayoutEffect:w.useEffect,Fq=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},OL=new Map,a4=function(n){kq(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!OL.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,OL.set(e,t);var r=Fq();r&&t.setAttribute("nonce",r),e.head.appendChild(t)}},[])},Nq=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=YM(n,["className","colorModel","color","onChange"]),a=w.useRef(null);a4(a);var l=o4(t,i,s),u=l[0],c=l[1],d=wp(["react-colorful",e]);return ne.createElement("div",If({},o,{ref:a,className:d}),ne.createElement(s4,{hsva:u,onChange:c}),ne.createElement(i4,{hue:u.h,onChange:c,className:"react-colorful__last-control"}))},Uq=function(n){var e=n.className,t=n.hsva,r=n.onChange,i={backgroundImage:"linear-gradient(90deg, "+t_(Object.assign({},t,{a:0}))+", "+t_(Object.assign({},t,{a:1}))+")"},s=wp(["react-colorful__alpha",e]),o=$r(100*t.a);return ne.createElement("div",{className:s},ne.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),ne.createElement(QM,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:ff(t.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},ne.createElement(ZM,{className:"react-colorful__alpha-pointer",left:t.a,color:t_(t)})))},zq=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=YM(n,["className","colorModel","color","onChange"]),a=w.useRef(null);a4(a);var l=o4(t,i,s),u=l[0],c=l[1],d=wp(["react-colorful",e]);return ne.createElement("div",If({},o,{ref:a,className:d}),ne.createElement(s4,{hsva:u,onChange:c}),ne.createElement(i4,{hue:u.h,onChange:c}),ne.createElement(Uq,{hsva:u,onChange:c,className:"react-colorful__last-control"}))},Hq={defaultColor:{r:0,g:0,b:0,a:1},toHsva:r4,fromHsva:n4,equal:qM},Gq=function(n){return ne.createElement(zq,If({},n,{colorModel:Hq}))},Vq={defaultColor:{r:0,g:0,b:0},toHsva:function(n){return r4({r:n.r,g:n.g,b:n.b,a:1})},fromHsva:function(n){return{r:(e=n4(n)).r,g:e.g,b:e.b};var e},equal:qM},jq=function(n){return ne.createElement(Nq,If({},n,{colorModel:Vq}))};function Bf(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}function Df(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Wq(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function $q(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Wq(arguments[e]));return n}var Jq=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function bp(n,e){var t=Kq(n);if(typeof t.path!="string"){var r=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Kq(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var r=e.split(".").pop().toLowerCase(),i=Jq.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}var Xq=[".DS_Store","Thumbs.db"];function Yq(n){return Bf(this,void 0,void 0,function(){return Df(this,function(e){return Zv(n)&&Qq(n)?[2,tee(n.dataTransfer,n.type)]:Zq(n)?[2,qq(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,eee(n)]:[2,[]]})})}function Qq(n){return Zv(n.dataTransfer)}function Zq(n){return Zv(n)&&Zv(n.target)}function Zv(n){return typeof n=="object"&&n!==null}function qq(n){return Mw(n.target.files).map(function(e){return bp(e)})}function eee(n){return Bf(this,void 0,void 0,function(){var e;return Df(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(r){return r.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(r){return bp(r)})]}})})}function tee(n,e){return Bf(this,void 0,void 0,function(){var t,r;return Df(this,function(i){switch(i.label){case 0:return n===null?[2,[]]:n.items?(t=Mw(n.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(nee))]):[3,2];case 1:return r=i.sent(),[2,kL(l4(r))];case 2:return[2,kL(Mw(n.files).map(function(s){return bp(s)}))]}})})}function kL(n){return n.filter(function(e){return Xq.indexOf(e.name)===-1})}function Mw(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var r=n[t];e.push(r)}return e}function nee(n){if(typeof n.webkitGetAsEntry!="function")return FL(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?u4(e):FL(n)}function l4(n){return n.reduce(function(e,t){return $q(e,Array.isArray(t)?l4(t):[t])},[])}function FL(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=bp(e);return Promise.resolve(t)}function ree(n){return Bf(this,void 0,void 0,function(){return Df(this,function(e){return[2,n.isDirectory?u4(n):iee(n)]})})}function u4(n){var e=n.createReader();return new Promise(function(t,r){var i=[];function s(){var o=this;e.readEntries(function(a){return Bf(o,void 0,void 0,function(){var l,u,c;return Df(this,function(d){switch(d.label){case 0:if(a.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=d.sent(),t(l),[3,4];case 3:return u=d.sent(),r(u),[3,4];case 4:return[3,6];case 5:c=Promise.all(a.map(ree)),i.push(c),s(),d.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function iee(n){return Bf(this,void 0,void 0,function(){return Df(this,function(e){return[2,new Promise(function(t,r){n.file(function(i){var s=bp(i,n.fullPath);t(s)},function(i){r(i)})})]})})}var see=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(","),r=n.name||"",i=(n.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return t.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function NL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function UL(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(t),!0).forEach(function(r){c4(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):NL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function c4(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zL(n,e){return uee(n)||lee(n,e)||aee(n,e)||oee()}function oee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aee(n,e){if(n){if(typeof n=="string")return HL(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return HL(n,e)}}function HL(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function lee(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function uee(n){if(Array.isArray(n))return n}var cee="file-invalid-type",fee="file-too-large",dee="file-too-small",hee="too-many-files",pee=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:cee,message:"File type must be ".concat(t)}},GL=function(e){return{code:fee,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},VL=function(e){return{code:dee,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},mee={code:hee,message:"Too many files"};function f4(n,e){var t=n.type==="application/x-moz-file"||see(n,e);return[t,t?null:pee(e)]}function d4(n,e,t){if(Bd(n.size))if(Bd(e)&&Bd(t)){if(n.size>t)return[!1,GL(t)];if(n.size<e)return[!1,VL(e)]}else{if(Bd(e)&&n.size<e)return[!1,VL(e)];if(Bd(t)&&n.size>t)return[!1,GL(t)]}return[!0,null]}function Bd(n){return n!=null}function gee(n){var e=n.files,t=n.accept,r=n.minSize,i=n.maxSize,s=n.multiple,o=n.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=f4(a,t),u=zL(l,1),c=u[0],d=d4(a,r,i),p=zL(d,1),g=p[0];return c&&g})}function qv(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function Ig(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function jL(n){n.preventDefault()}function vee(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function yee(n){return n.indexOf("Edge/")!==-1}function xee(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return vee(n)||yee(n)}function Xs(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!qv(r)&&a&&a.apply(void 0,[r].concat(s)),qv(r)})}}function _ee(){return"showOpenFilePicker"in window}function See(n){return n=typeof n=="string"?n.split(","):n,[{description:"everything",accept:Array.isArray(n)?n.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return UL(UL({},e),{},c4({},t,[]))},{}):{}}]}function wee(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function bee(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}var Mee=["children"],Eee=["open"],Aee=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Cee=["refKey","onChange","onClick"];function Tee(n){return Ree(n)||Pee(n)||h4(n)||Lee()}function Lee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pee(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Ree(n){if(Array.isArray(n))return Ew(n)}function n_(n,e){return Dee(n)||Bee(n,e)||h4(n,e)||Iee()}function Iee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h4(n,e){if(n){if(typeof n=="string")return Ew(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ew(n,e)}}function Ew(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Bee(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function Dee(n){if(Array.isArray(n))return n}function WL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function wn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?WL(Object(t),!0).forEach(function(r){Aw(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):WL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Aw(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function e0(n,e){if(n==null)return{};var t=Oee(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Oee(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var eE=w.forwardRef(function(n,e){var t=n.children,r=e0(n,Mee),i=m4(r),s=i.open,o=e0(i,Eee);return w.useImperativeHandle(e,function(){return{open:s}},[s]),ne.createElement(w.Fragment,null,t(wn(wn({},o),{},{open:s})))});eE.displayName="Dropzone";var p4={disabled:!1,getFilesFromEvent:Yq,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};eE.defaultProps=p4;eE.propTypes={children:un.func,accept:un.oneOfType([un.string,un.arrayOf(un.string)]),multiple:un.bool,preventDropOnDocument:un.bool,noClick:un.bool,noKeyboard:un.bool,noDrag:un.bool,noDragEventsBubbling:un.bool,minSize:un.number,maxSize:un.number,maxFiles:un.number,disabled:un.bool,getFilesFromEvent:un.func,onFileDialogCancel:un.func,onFileDialogOpen:un.func,useFsAccessApi:un.bool,onDragEnter:un.func,onDragLeave:un.func,onDragOver:un.func,onDrop:un.func,onDropAccepted:un.func,onDropRejected:un.func,validator:un.func};var Cw={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function m4(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=wn(wn({},p4),n),t=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,u=e.onDragEnter,c=e.onDragLeave,d=e.onDragOver,p=e.onDrop,g=e.onDropAccepted,y=e.onDropRejected,x=e.onFileDialogCancel,v=e.onFileDialogOpen,m=e.useFsAccessApi,S=e.preventDropOnDocument,_=e.noClick,M=e.noKeyboard,P=e.noDrag,C=e.noDragEventsBubbling,R=e.validator,T=w.useMemo(function(){return typeof v=="function"?v:$L},[v]),E=w.useMemo(function(){return typeof x=="function"?x:$L},[x]),A=w.useRef(null),B=w.useRef(null),D=w.useReducer(kee,Cw),U=n_(D,2),H=U[0],j=U[1],$=H.isFocused,Z=H.isFileDialogActive,k=H.draggedFiles,W=w.useRef(typeof window<"u"&&window.isSecureContext&&m&&_ee()),V=function(){!W.current&&Z&&setTimeout(function(){if(B.current){var fe=B.current.files;fe.length||(j({type:"closeDialog"}),E())}},300)};w.useEffect(function(){return window.addEventListener("focus",V,!1),function(){window.removeEventListener("focus",V,!1)}},[B,Z,E,W]);var ce=w.useRef([]),oe=function(fe){A.current&&A.current.contains(fe.target)||(fe.preventDefault(),ce.current=[])};w.useEffect(function(){return S&&(document.addEventListener("dragover",jL,!1),document.addEventListener("drop",oe,!1)),function(){S&&(document.removeEventListener("dragover",jL),document.removeEventListener("drop",oe))}},[A,S]);var re=w.useCallback(function(z){z.preventDefault(),z.persist(),Ie(z),ce.current=[].concat(Tee(ce.current),[z.target]),Ig(z)&&Promise.resolve(i(z)).then(function(fe){qv(z)&&!C||(j({draggedFiles:fe,isDragActive:!0,type:"setDraggedFiles"}),u&&u(z))})},[i,u,C]),q=w.useCallback(function(z){z.preventDefault(),z.persist(),Ie(z);var fe=Ig(z);if(fe&&z.dataTransfer)try{z.dataTransfer.dropEffect="copy"}catch{}return fe&&d&&d(z),!1},[d,C]),we=w.useCallback(function(z){z.preventDefault(),z.persist(),Ie(z);var fe=ce.current.filter(function(Be){return A.current&&A.current.contains(Be)}),Ce=fe.indexOf(z.target);Ce!==-1&&fe.splice(Ce,1),ce.current=fe,!(fe.length>0)&&(j({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),Ig(z)&&c&&c(z))},[A,c,C]),xe=w.useCallback(function(z,fe){var Ce=[],Be=[];z.forEach(function(ke){var rt=f4(ke,t),ue=n_(rt,2),ee=ue[0],me=ue[1],Ee=d4(ke,o,s),Le=n_(Ee,2),Ae=Le[0],De=Le[1],Ue=R?R(ke):null;if(ee&&Ae&&!Ue)Ce.push(ke);else{var ze=[me,De];Ue&&(ze=ze.concat(Ue)),Be.push({file:ke,errors:ze.filter(function(ot){return ot})})}}),(!a&&Ce.length>1||a&&l>=1&&Ce.length>l)&&(Ce.forEach(function(ke){Be.push({file:ke,errors:[mee]})}),Ce.splice(0)),j({acceptedFiles:Ce,fileRejections:Be,type:"setFiles"}),p&&p(Ce,Be,fe),Be.length>0&&y&&y(Be,fe),Ce.length>0&&g&&g(Ce,fe)},[j,a,t,o,s,l,p,g,y,R]),se=w.useCallback(function(z){z.preventDefault(),z.persist(),Ie(z),ce.current=[],Ig(z)&&Promise.resolve(i(z)).then(function(fe){qv(z)&&!C||xe(fe,z)}),j({type:"reset"})},[i,xe,C]),pe=w.useCallback(function(){if(W.current){j({type:"openDialog"}),T();var z={multiple:a,types:See(t)};window.showOpenFilePicker(z).then(function(fe){return i(fe)}).then(function(fe){xe(fe,null),j({type:"closeDialog"})}).catch(function(fe){wee(fe)?(E(fe),j({type:"closeDialog"})):bee(fe)&&(W.current=!1,B.current&&(B.current.value=null,B.current.click()))});return}B.current&&(j({type:"openDialog"}),T(),B.current.value=null,B.current.click())},[j,T,E,m,xe,t,a]),N=w.useCallback(function(z){!A.current||!A.current.isEqualNode(z.target)||(z.key===" "||z.key==="Enter"||z.keyCode===32||z.keyCode===13)&&(z.preventDefault(),pe())},[A,pe]),G=w.useCallback(function(){j({type:"focus"})},[]),Y=w.useCallback(function(){j({type:"blur"})},[]),ae=w.useCallback(function(){_||(xee()?setTimeout(pe,0):pe())},[_,pe]),te=function(fe){return r?null:fe},le=function(fe){return M?null:te(fe)},Re=function(fe){return P?null:te(fe)},Ie=function(fe){C&&fe.stopPropagation()},Ve=w.useMemo(function(){return function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=z.refKey,Ce=fe===void 0?"ref":fe,Be=z.role,ke=z.onKeyDown,rt=z.onFocus,ue=z.onBlur,ee=z.onClick,me=z.onDragEnter,Ee=z.onDragOver,Le=z.onDragLeave,Ae=z.onDrop,De=e0(z,Aee);return wn(wn(Aw({onKeyDown:le(Xs(ke,N)),onFocus:le(Xs(rt,G)),onBlur:le(Xs(ue,Y)),onClick:te(Xs(ee,ae)),onDragEnter:Re(Xs(me,re)),onDragOver:Re(Xs(Ee,q)),onDragLeave:Re(Xs(Le,we)),onDrop:Re(Xs(Ae,se)),role:typeof Be=="string"&&Be!==""?Be:"button"},Ce,A),!r&&!M?{tabIndex:0}:{}),De)}},[A,N,G,Y,ae,re,q,we,se,M,P,r]),Ke=w.useCallback(function(z){z.stopPropagation()},[]),We=w.useMemo(function(){return function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=z.refKey,Ce=fe===void 0?"ref":fe,Be=z.onChange,ke=z.onClick,rt=e0(z,Cee),ue=Aw({accept:t,multiple:a,type:"file",style:{display:"none"},onChange:te(Xs(Be,se)),onClick:te(Xs(ke,Ke)),tabIndex:-1},Ce,B);return wn(wn({},ue),rt)}},[B,t,a,se,r]),Ze=k.length,et=Ze>0&&gee({files:k,accept:t,minSize:o,maxSize:s,multiple:a,maxFiles:l}),J=Ze>0&&!et;return wn(wn({},H),{},{isDragAccept:et,isDragReject:J,isFocused:$&&!r,getRootProps:Ve,getInputProps:We,rootRef:A,inputRef:B,open:te(pe)})}function kee(n,e){switch(e.type){case"focus":return wn(wn({},n),{},{isFocused:!0});case"blur":return wn(wn({},n),{},{isFocused:!1});case"openDialog":return wn(wn({},Cw),{},{isFileDialogActive:!0});case"closeDialog":return wn(wn({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,r=e.draggedFiles;return wn(wn({},n),{},{draggedFiles:r,isDragActive:t});case"setFiles":return wn(wn({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return wn({},Cw);default:return n}}function $L(){}/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Fee=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Nee=Fee;function JL(n){return Nee(n)===!0&&Object.prototype.toString.call(n)==="[object Object]"}var g4=function(e){var t,r;return!(JL(e)===!1||(t=e.constructor,typeof t!="function")||(r=t.prototype,JL(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Uee=g4,tE=function(e){return Uee(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var zee=function(e,t,r){for(var i in e)if(t.call(r,e[i],i,e)===!1)break},Hee=tE,Gee=zee;function v4(n,e){for(var t=arguments.length,r=0;++r<t;){var i=arguments[r];Tw(i)&&Gee(i,Vee,n)}return n}function Vee(n,e){if(jee(e)){var t=this[e];Tw(n)&&Tw(t)?v4(t,n):this[e]=n}}function Tw(n){return Hee(n)&&!Array.isArray(n)}function jee(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var Wee=v4;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var $ee=function(n,e,t,r,i){if(!Jee(n)||!e)return n;if(e=Bg(e),t&&(e+="."+Bg(t)),r&&(e+="."+Bg(r)),i&&(e+="."+Bg(i)),e in n)return n[e];for(var s=e.split("."),o=s.length,a=-1;n&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];n=n[l]}return n};function Jee(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function Bg(n){return n?Array.isArray(n)?n.join("."):n:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Kee=function(n,e){if(n===null||typeof n>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return n;for(var t=Object.prototype.propertyIsEnumerable,r=Object(n),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var u=a[l];t.call(o,u)&&(r[u]=o[u])}return r},Xee=tE,Yee=Kee,Qee=Object.assign||function(n){if(n===null||typeof n>"u")throw new TypeError("Cannot convert undefined or null to object");KL(n)||(n={});for(var e=1;e<arguments.length;e++){var t=arguments[e];qee(t)&&(t=ete(t)),KL(t)&&(Zee(n,t),Yee(n,t))}return n};function Zee(n,e){for(var t in e)tte(e,t)&&(n[t]=e[t])}function qee(n){return n&&typeof n=="string"}function ete(n){var e={};for(var t in n)e[t]=n[t];return e}function KL(n){return n&&typeof n=="object"||Xee(n)}function tte(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var nte=Qee,rte=function(n,e,t){if(typeof n!="string")throw new TypeError("expected a string");typeof e=="function"&&(t=e,e=null),typeof e=="string"&&(e={sep:e});var r=nte({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],l=[""],u=r.sep,c=n.length,d=-1,p;function g(){if(s&&a.length)return s[a[a.length-1]]}for(;++d<c;){var y=n[d],x=n[d+1],v={val:y,idx:d,arr:l,str:n};if(o.push(v),y==="\\"){v.val=ste(r,n,d)===!0?y+x:x,v.escaped=!0,typeof t=="function"&&t(v),l[l.length-1]+=v.val,d++;continue}if(s&&s[y]){a.push(y);var m=g(),S=d+1;if(n.indexOf(m,S+1)!==-1)for(;a.length&&S<c;){var _=n[++S];if(_==="\\"){_++;continue}if(i.indexOf(_)!==-1){S=Lw(n,_,S+1);continue}if(m=g(),a.length&&n.indexOf(m,S+1)===-1)break;if(s[_]){a.push(_);continue}m===_&&a.pop()}if(p=S,p===-1){l[l.length-1]+=y;continue}y=n.slice(d,p+1),v.val=y,v.idx=d=p}if(i.indexOf(y)!==-1){if(p=Lw(n,y,d+1),p===-1){l[l.length-1]+=y;continue}ite(y,r)===!0?y=n.slice(d,p+1):y=n.slice(d+1,p),v.val=y,v.idx=d=p}if(typeof t=="function"&&(t(v,o),y=v.val,d=v.idx),v.val===u&&v.split!==!1){l.push("");continue}l[l.length-1]+=v.val}return l};function Lw(n,e,t,r){var i=n.indexOf(e,t);return n.charAt(i-1)==="\\"?Lw(n,e,i+1):i}function ite(n,e){return e.keepDoubleQuotes===!0&&n==='"'||e.keepSingleQuotes===!0&&n==="'"?!0:e.keepQuotes}function ste(n,e,t){return typeof n.keepEscaping=="function"?n.keepEscaping(e,t):n.keepEscaping===!0||e[t+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var ote=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},XL=ote,ate=function(e){XL(e)||(e={});for(var t=arguments.length,r=1;r<t;r++){var i=arguments[r];XL(i)&&lte(e,i)}return e};function lte(n,e){for(var t in e)ute(e,t)&&(n[t]=e[t])}function ute(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var cte=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var fte=rte,dte=ate,YL=g4,QL=cte,hte=function(n,e,t){if(!QL(n)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return n;for(var r=fte(e,{sep:".",brackets:!0}).filter(pte),i=r.length,s=-1,o=n;++s<i;){var a=r[s];if(s!==i-1){QL(o[a])||(o[a]={}),o=o[a];continue}YL(o[a])&&YL(t)?o[a]=dte({},o[a],t):o[a]=t}return n};function pte(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var r_=tE,ZL=Wee,mte=$ee,qL=hte,gte=function(e,t,r){if(!r_(e))throw new TypeError("expected an object");if(typeof t!="string"||r==null)return ZL.apply(null,arguments);if(typeof r=="string")return qL(e,t,r),e;var i=mte(e,t);return r_(r)&&r_(i)&&(r=ZL({},i,r)),qL(e,t,r),e};const vte=Rs(gte),nE=(...n)=>n.filter(Boolean).join(".");function yte(n){const e=n.split(".");return[e.pop(),e.join(".")||void 0]}function xte(n){const e=w.useRef(null),t=w.useRef(null),r=w.useRef(!0);return w.useLayoutEffect(()=>{n||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),w.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{n&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=t.current.getBoundingClientRect();return s.style.height=a+"px",n||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[n]),{wrapperRef:e,contentRef:t}}const _te=n=>{const[e,t]=w.useState(n.getVisiblePaths());return w.useEffect(()=>{t(n.getVisiblePaths());const r=n.useStore.subscribe(n.getVisiblePaths,t,{equalityFn:$k});return()=>r()},[n]),e};function y4(n=3){const e=w.useRef(null),t=w.useRef(null),[r,i]=w.useState(!1),s=w.useCallback(()=>i(!0),[]),o=w.useCallback(()=>i(!1),[]);return w.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:u}=e.current.getBoundingClientRect(),{height:c}=t.current.getBoundingClientRect(),d=a+c>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=u+"px",d==="down"?t.current.style.top=a+n+"px":t.current.style.bottom=window.innerHeight-l+n+"px"}},[n,r]),{popinRef:e,wrapperRef:t,shown:r,show:s,hide:o}}Dq([Oq]);const Ste={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};ui.extend({color:()=>n=>Wr(n).isValid()});const wte=n=>ui().color().test(n);function x4(n,{format:e,hasAlpha:t,isString:r}){const i=Ste[e]+(r&&e!=="hex"?"String":""),s=n[i]();return typeof s=="object"&&!t?eZ(s,["a"]):s}const _4=(n,e)=>{const t=Wr(n);if(!t.isValid())throw Error("Invalid color");return x4(t,e)},bte=(n,e)=>x4(Wr(n),yt(yt({},e),{},{isString:!0,format:"hex"})),Mte=({value:n})=>{const e=Bq(n),t=e==="name"?"hex":e,r=typeof n=="object"?"a"in n:e==="hex"&&n.length===8||/^(rgba)|(hsla)|(hsva)/.test(n),i={format:t,hasAlpha:r,isString:typeof n=="string"};return{value:_4(n,i),settings:i}};var Ete=Object.freeze({__proto__:null,schema:wte,sanitize:_4,format:bte,normalize:Mte});const Ate=ct("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),Cte=ct("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),Tte=ct("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function eP(n,e){return e!=="rgb"?Wr(n).toRgb():n}function Lte({value:n,displayValue:e,settings:t,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=Nr(),{format:o,hasAlpha:a}=t,{popinRef:l,wrapperRef:u,shown:c,show:d,hide:p}=y4(),g=w.useRef(0),[y,x]=w.useState(()=>eP(n,o)),v=a?Gq:jq,m=()=>{x(eP(n,o)),d(),i()},S=()=>{p(),s(),window.clearTimeout(g.current)},_=()=>{g.current=window.setTimeout(S,500)};return w.useEffect(()=>()=>window.clearTimeout(g.current),[]),ne.createElement(ne.Fragment,null,ne.createElement(Ate,{ref:l,active:c,onClick:()=>m(),style:{color:e}}),c&&ne.createElement(JM,null,ne.createElement(GF,{onPointerUp:S}),ne.createElement(Tte,{ref:u,onMouseEnter:()=>window.clearTimeout(g.current),onMouseLeave:M=>M.buttons===0&&_()},ne.createElement(v,{color:y,onChange:r}))))}function Pte(){const{value:n,displayValue:e,label:t,onChange:r,onUpdate:i,settings:s}=Nr();return ne.createElement(os,{input:!0},ne.createElement(Fs,null,t),ne.createElement(Cte,null,ne.createElement(Lte,{value:n,displayValue:e,onChange:r,onUpdate:i,settings:s}),ne.createElement($M,{value:e,onChange:r,onUpdate:i})))}var Rte=yt({component:Pte},Ete);function Ite(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Nr();return ne.createElement(os,{input:!0},ne.createElement(Fs,null,n),ne.createElement(XM,{value:e,settings:r,onUpdate:t}))}var Bte=yt({component:Ite},YF(["x","y","z"]));const Dte=ct("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),Ote=ct("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function kte({value:n,settings:e,onUpdate:t}){const r=w.useRef(),i=w.useRef(0),s=w.useRef(0),o=w.useRef(1),[a,l]=w.useState(!1),[u,c]=w.useState(!1),[d,p]=jF(),g=w.useRef(null),y=w.useRef(null);w.useLayoutEffect(()=>{if(a){const{top:D,left:U,width:H,height:j}=g.current.getBoundingClientRect();y.current.style.left=U+H/2+"px",y.current.style.top=D+j/2+"px"}},[a]);const{keys:[x,v],joystick:m}=e,S=m==="invertY"?1:-1,{[x]:{step:_},[v]:{step:M}}=e,P=Go("sizes","joystickWidth"),C=Go("sizes","joystickHeight"),R=parseFloat(P)*.8/2,T=parseFloat(C)*.8/2,E=w.useCallback(()=>{r.current||(c(!0),i.current&&p({x:i.current*R}),s.current&&p({y:s.current*-T}),r.current=window.setInterval(()=>{t(D=>{const U=_*i.current*o.current,H=S*M*s.current*o.current;return Array.isArray(D)?{[x]:D[0]+U,[v]:D[1]+H}:{[x]:D[x]+U,[v]:D[v]+H}})},16))},[R,T,t,p,_,M,x,v,S]),A=w.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,c(!1)},[]);w.useEffect(()=>{function D(U){o.current=TF(U)}return window.addEventListener("keydown",D),window.addEventListener("keyup",D),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",D),window.removeEventListener("keyup",D)}},[]);const B=Sp(({first:D,active:U,delta:[H,j],movement:[$,Z]})=>{D&&l(!0);const k=qa($,-R,R),W=qa(Z,-T,T);i.current=Math.abs($)>Math.abs(k)?Math.sign($-k):0,s.current=Math.abs(Z)>Math.abs(W)?Math.sign(W-Z):0;let V=n[x],ce=n[v];U?(i.current||(V+=H*_*o.current,p({x:k})),s.current||(ce-=S*j*M*o.current,p({y:W})),i.current||s.current?E():A(),t({[x]:V,[v]:ce})):(l(!1),i.current=0,s.current=0,p({x:0,y:0}),A())});return ne.createElement(Dte,Xn({ref:g},B()),a&&ne.createElement(JM,null,ne.createElement(Ote,{ref:y,isOutOfBounds:u},ne.createElement("div",null),ne.createElement("span",{ref:d}))))}const Fte=ct("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Nte(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Nr();return ne.createElement(os,{input:!0},ne.createElement(Fs,null,n),ne.createElement(Fte,{withJoystick:!!r.joystick},r.joystick&&ne.createElement(kte,{value:e,settings:r,onUpdate:t}),ne.createElement(XM,{value:e,settings:r,onUpdate:t})))}const Ute=["joystick"],S4=YF(["x","y"]),zte=n=>{let{joystick:e=!0}=n,t=dn(n,Ute);const{value:r,settings:i}=S4.normalize(t);return{value:r,settings:yt(yt({},i),{},{joystick:e})}};var Hte=yt(yt({component:Nte},S4),{},{normalize:zte});const Gte=n=>{if(n!==void 0){if(n instanceof File)try{return URL.createObjectURL(n)}catch{return}if(typeof n=="string"&&n.indexOf("blob:")===0)return n;throw Error("Invalid image format [undefined | blob | File].")}},Vte=(n,e)=>typeof e=="object"&&"image"in e,jte=({image:n})=>({value:n});var Wte=Object.freeze({__proto__:null,sanitize:Gte,schema:Vte,normalize:jte});const $te=ct("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),Jte=ct("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),Kte=ct("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),Xte=ct("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),Yte=ct("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Qte=ct("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function Zte(){const{label:n,value:e,onUpdate:t,disabled:r}=Nr(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:l}=y4(),u=w.useCallback(y=>{y.length&&t(y[0])},[t]),c=w.useCallback(y=>{y.stopPropagation(),t(void 0)},[t]),{getRootProps:d,getInputProps:p,isDragAccept:g}=m4({maxFiles:1,accept:"image/*",onDrop:u,disabled:r});return ne.createElement(os,{input:!0},ne.createElement(Fs,null,n),ne.createElement($te,null,ne.createElement(Kte,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&ne.createElement(JM,null,ne.createElement(GF,{onPointerUp:l,style:{cursor:"pointer"}}),ne.createElement(Xte,{ref:s,style:{backgroundImage:`url(${e})`}})),ne.createElement(Jte,d({isDragAccept:g}),ne.createElement("input",p()),ne.createElement(Yte,null,g?"drop image":"click or drop")),ne.createElement(Qte,{onClick:c,disabled:!e})))}var qte=yt({component:Zte},Wte);const tP=ui().number(),ene=(n,e)=>ui().array().length(2).every.number().test(n)&&ui().schema({min:tP,max:tP}).test(e),t0=n=>({min:n[0],max:n[1]}),w4=(n,{bounds:[e,t]},r)=>{const i=Array.isArray(n)?t0(n):n,s={min:r[0],max:r[1]},{min:o,max:a}=yt(yt({},s),i);return[qa(Number(o),e,Math.max(e,a)),qa(Number(a),Math.min(t,o),t)]},tne=({value:n,min:e,max:t})=>{const r={min:e,max:t},i=XF(t0(n),{min:r,max:r}),s=[e,t],o=yt(yt({},i),{},{bounds:s});return{value:w4(t0(n),o,n),settings:o}};var nne=Object.freeze({__proto__:null,schema:ene,format:t0,sanitize:w4,normalize:tne});const rne=["value","bounds","onDrag"],ine=["bounds"],sne=ct("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function one(n){let{value:e,bounds:[t,r],onDrag:i}=n,s=dn(n,rne);const o=w.useRef(null),a=w.useRef(null),l=w.useRef(null),u=w.useRef(0),c=Go("sizes","scrubberWidth"),d=Sp(({event:y,first:x,xy:[v],movement:[m],memo:S={}})=>{if(x){const{width:M,left:P}=o.current.getBoundingClientRect();u.current=M-parseFloat(c);const C=(y==null?void 0:y.target)===a.current||(y==null?void 0:y.target)===l.current;S.pos=Yv((v-P)/M,t,r);const R=Math.abs(S.pos-e.min)-Math.abs(S.pos-e.max);S.key=R<0||R===0&&S.pos<=e.min?"min":"max",C&&(S.pos=e[S.key])}const _=S.pos+Yv(m/u.current,0,r-t);return i({[S.key]:zZ(_,s[S.key])}),S}),p=`calc(${Xv(e.min,t,r)} * (100% - ${c} - 8px) + 4px)`,g=`calc(${1-Xv(e.max,t,r)} * (100% - ${c} - 8px) + 4px)`;return ne.createElement($F,Xn({ref:o},d()),ne.createElement(WF,null,ne.createElement(JF,{style:{left:p,right:g}})),ne.createElement(vw,{position:"left",ref:a,style:{left:p}}),ne.createElement(vw,{position:"right",ref:l,style:{right:g}}))}function ane(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Nr(),i=dn(r,ine);return ne.createElement(ne.Fragment,null,ne.createElement(os,{input:!0},ne.createElement(Fs,null,n),ne.createElement(sne,null,ne.createElement(one,Xn({value:e},r,{onDrag:t})),ne.createElement(XM,{value:e,settings:i,onUpdate:t,innerLabelTrim:0}))))}var lne=yt({component:ane},nne);const une=()=>{const n=new Map;return{on:(e,t)=>{let r=n.get(e);r===void 0&&(r=new Set,n.set(e,r)),r.add(t)},off:(e,t)=>{const r=n.get(e);r!==void 0&&(r.delete(t),r.size===0&&n.delete(e))},emit:(e,...t)=>{const r=n.get(e);if(r!==void 0)for(const i of r)i(...t)}}},cne=["type","value"],fne=["onChange","transient","onEditStart","onEditEnd"],dne=function(){const e=IM(hK(()=>({data:{}}))),t=une();this.storeId=qQ(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(r).forEach(([c,d])=>{d.render&&a.some(p=>p.indexOf(c)===0)&&!d.render(this.get)&&l.push(c+".")});const u=[];return i.forEach(c=>{c in o&&o[c].__refCount>0&&l.every(d=>c.indexOf(d)===-1)&&(!o[c].render||o[c].render(this.get))&&u.push(c)}),u},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const l=a.data;return o.forEach(u=>{if(u in l){const c=l[u];c.__refCount--,c.__refCount===0&&c.type in oo&&delete l[u]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(l=>{const u=l.data;return Object.entries(o).forEach(([c,d])=>{let p=u[c];if(p){const{type:g,value:y}=d,x=dn(d,cne);g!==p.type?Do(bn.INPUT_TYPE_OVERRIDE,g):((p.__refCount===0||a)&&Object.assign(p,x),p.__refCount++)}else u[c]=yt(yt({},d),{},{__refCount:1})}),{data:u}})},this.setValueAtPath=(o,a,l)=>{e.setState(u=>{const c=u.data;return EL(c[o],a,o,this,l),{data:c}})},this.setSettingsAtPath=(o,a)=>{e.setState(l=>{const u=l.data;return u[o].settings=yt(yt({},u[o].settings),a),{data:u}})},this.disableInputAtPath=(o,a)=>{e.setState(l=>{const u=l.data;return u[o].disabled=a,{data:u}})},this.set=(o,a)=>{e.setState(l=>{const u=l.data;return Object.entries(o).forEach(([c,d])=>{try{EL(u[c],d,void 0,void 0,a)}catch{}}),{data:u}})},this.getInput=o=>{try{return this.getData()[o]}catch{Do(bn.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{t.emit(`onEditStart:${o}`,this.get(o),o,yt(yt({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{t.emit(`onEditEnd:${o}`,this.get(o),o,yt(yt({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return t.on(l,a),()=>t.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return t.on(l,a),()=>t.off(l,a)};const s=(o,a,l)=>{const u={};return Object.entries(o).forEach(([c,d])=>{if(c==="")return Do(bn.EMPTY_KEY);let p=nE(a,c);if(d.type===oo.FOLDER){const g=s(d.schema,p,l);Object.assign(u,g),p in r||(r[p]=d.settings)}else if(c in l)Do(bn.DUPLICATE_KEYS,c,p,l[c].path);else{const g=oZ(d,c,p,u);if(g){const{type:y,options:x,input:v}=g,{onChange:m,transient:S,onEditStart:_,onEditEnd:M}=x,P=dn(x,fne);u[p]=yt(yt(yt({type:y},P),v),{},{fromPanel:!0}),l[c]={path:p,onChange:m,transient:S,onEditStart:_,onEditEnd:M}}else Do(bn.UNKNOWN_INPUT,p,d)}}),u};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}};new dne;const nP=n=>"__levaInput"in n,hne=(n,e)=>{const t={},r=e?e.toLowerCase():null;return n.forEach(i=>{const[s,o]=yte(i);(!r||s.toLowerCase().indexOf(r)>-1)&&vte(t,o,{[s]:{__levaInput:!0,path:i}})}),t},pne=["type","label","path","valueKey","value","settings","setValue","disabled"];function mne(n){let{type:e,label:t,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:l}=n,u=dn(n,pne);const{displayValue:c,onChange:d,onUpdate:p}=VF({type:e,value:s,settings:o,setValue:a}),g=lu[e].component;return g?ne.createElement(BF.Provider,{value:yt({key:i,path:r,id:""+r,label:t,displayValue:c,value:s,onChange:d,onUpdate:p,settings:o,setValue:a,disabled:l},u)},ne.createElement(MZ,{disabled:l},ne.createElement(g,null))):(Do(bn.NO_COMPONENT_FOR_TYPE,e,r),null)}const gne=ct("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function vne({onClick:n,settings:e,label:t}){const r=_p();return ne.createElement(os,null,ne.createElement(gne,{disabled:e.disabled,onClick:()=>n(r.get)},t))}const yne=ct("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),xne=ct("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),_ne=({label:n,opts:e})=>{let t=typeof n=="string"&&n.trim()===""?null:n,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(t=e.label),r=e.opts),{label:t,opts:r}};function Sne(n){const{label:e,opts:t}=_ne(n),r=_p();return ne.createElement(os,{input:!!e},e&&ne.createElement(Fs,null,e),ne.createElement(yne,null,Object.entries(t).map(([i,s])=>ne.createElement(xne,{key:i,onClick:()=>s(r.get)},i))))}const wne=ct("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),b4=100;function bne(n,e){n.push(e),n.length>b4&&n.shift()}const Mne=w.forwardRef(function({initialValue:n},e){const t=Go("colors","highlight3"),r=Go("colors","elevation2"),i=Go("colors","highlight1"),[s,o]=w.useMemo(()=>[Wr(i).alpha(.4).toRgbString(),Wr(i).alpha(.1).toRgbString()],[i]),a=w.useRef([n]),l=w.useRef(n),u=w.useRef(n),c=w.useRef(),d=w.useCallback((y,x)=>{if(!y)return;const{width:v,height:m}=y,S=new Path2D,_=v/b4,M=m*.05;for(let R=0;R<a.current.length;R++){const T=Xv(a.current[R],l.current,u.current),E=_*R,A=m-T*(m-M*2)-M;S.lineTo(E,A)}x.clearRect(0,0,v,m);const P=new Path2D(S);P.lineTo(_*(a.current.length+1),m),P.lineTo(0,m),P.lineTo(0,0);const C=x.createLinearGradient(0,0,0,m);C.addColorStop(0,s),C.addColorStop(1,o),x.fillStyle=C,x.fill(P),x.strokeStyle=r,x.lineJoin="round",x.lineWidth=14,x.stroke(S),x.strokeStyle=t,x.lineWidth=2,x.stroke(S)},[t,r,s,o]),[p,g]=BZ(d);return w.useImperativeHandle(e,()=>({frame:y=>{(l.current===void 0||y<l.current)&&(l.current=y),(u.current===void 0||y>u.current)&&(u.current=y),bne(a.current,y),c.current=requestAnimationFrame(()=>d(p.current,g.current))}}),[p,g,d]),w.useEffect(()=>()=>cancelAnimationFrame(c.current),[]),ne.createElement(wne,{ref:p})}),rP=n=>Number.isFinite(n)?n.toPrecision(2):n.toString(),Ene=w.forwardRef(function({initialValue:n},e){const[t,r]=w.useState(rP(n));return w.useImperativeHandle(e,()=>({frame:i=>r(rP(i))}),[]),ne.createElement("div",null,t)});function iP(n){return typeof n=="function"?n():n.current}function Ane({label:n,objectOrFn:e,settings:t}){const r=w.useRef(),i=w.useRef(iP(e));return w.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(iP(e))},t.interval);return()=>window.clearInterval(s)},[e,t.interval]),ne.createElement(os,{input:!0},ne.createElement(Fs,{align:"top"},n),t.graph?ne.createElement(Mne,{ref:r,initialValue:i.current}):ne.createElement(Ene,{ref:r,initialValue:i.current}))}const Cne=["type","label","key"],Tne={[oo.BUTTON]:vne,[oo.BUTTON_GROUP]:Sne,[oo.MONITOR]:Ane},Lne=ne.memo(({path:n})=>{const[e,{set:t,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=OZ(n);if(!e)return null;const{type:l,label:u,key:c}=e,d=dn(e,Cne);if(l in oo){const p=Tne[l];return ne.createElement(p,Xn({label:u,path:n},d))}return l in lu?ne.createElement(mne,Xn({key:s+n,type:l,label:u,storeId:s,path:n,valueKey:c,setValue:t,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},d)):(WQ(bn.UNSUPPORTED_INPUT,l,n),null)});function Pne({toggle:n,toggled:e,name:t}){return ne.createElement(SZ,{onClick:()=>n()},ne.createElement(KM,{toggled:e}),ne.createElement("div",null,t))}const Rne=({name:n,path:e,tree:t})=>{const r=_p(),i=nE(e,n),{collapsed:s,color:o}=r.getFolderSettings(i),[a,l]=w.useState(!s),u=w.useRef(null),c=Go("colors","folderWidgetColor"),d=Go("colors","folderTextColor");return w.useLayoutEffect(()=>{u.current.style.setProperty("--leva-colors-folderWidgetColor",o||c),u.current.style.setProperty("--leva-colors-folderTextColor",o||d)},[o,c,d]),ne.createElement(Qv,{ref:u},ne.createElement(Pne,{name:n,toggled:a,toggle:()=>l(p=>!p)}),ne.createElement(M4,{parent:i,tree:t,toggled:a}))},M4=ne.memo(({isRoot:n=!1,fill:e=!1,flat:t=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=xte(s),l=_p(),u=([d,p])=>{var g;return(nP(p)?(g=l.getInput(p.path))===null||g===void 0?void 0:g.order:l.getFolderSettings(nE(r,d)).order)||0},c=Object.entries(i).sort((d,p)=>u(d)-u(p));return ne.createElement(mw,{ref:o,isRoot:n,fill:e,flat:t},ne.createElement(UF,{ref:a,isRoot:n,toggled:s},c.map(([d,p])=>nP(p)?ne.createElement(Lne,{key:p.path,valueKey:p.valueKey,path:p.path}):ne.createElement(Rne,{key:d,name:d,path:r,tree:p}))))}),Ine=ct("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${HF}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),E4=40,n0=ct("i",{$flexCenter:"",width:E4,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),Bne=ct("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),Dne=ct("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${n0}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),One=ct("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),kne=ct("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:E4}}}}),Fne=ne.forwardRef(({setFilter:n,toggle:e},t)=>{const[r,i]=w.useState(""),s=w.useMemo(()=>CF(n,250),[n]),o=()=>{n(""),i("")},a=l=>{const u=l.currentTarget.value;e(!0),i(u)};return w.useEffect(()=>{s(r)},[r,s]),ne.createElement(ne.Fragment,null,ne.createElement(One,{ref:t,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),ne.createElement(n0,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function Nne({setFilter:n,onDrag:e,onDragStart:t,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:l,from:u}){const[c,d]=w.useState(!1),p=w.useRef(null);w.useEffect(()=>{var y,x;c?(y=p.current)===null||y===void 0||y.focus():(x=p.current)===null||x===void 0||x.blur()},[c]);const g=Sp(({offset:[y,x],first:v,last:m})=>{e({x:y,y:x}),v&&t({x:y,y:x}),m&&r({x:y,y:x})},{filterTaps:!0,from:({offset:[y,x]})=>[(u==null?void 0:u.x)||y,(u==null?void 0:u.y)||x]});return w.useEffect(()=>{const y=x=>{x.key==="L"&&x.shiftKey&&x.metaKey&&d(v=>!v)};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[]),ne.createElement(ne.Fragment,null,ne.createElement(Bne,{mode:a?"drag":void 0},ne.createElement(n0,{active:!s,onClick:()=>i()},ne.createElement(KM,{toggled:s,width:12,height:8})),ne.createElement(kne,Xn({},a?g():{},{drag:a,filterEnabled:l}),o===void 0&&a?ne.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},ne.createElement("circle",{cx:"2",cy:"2",r:"2"}),ne.createElement("circle",{cx:"14",cy:"2",r:"2"}),ne.createElement("circle",{cx:"26",cy:"2",r:"2"}),ne.createElement("circle",{cx:"2",cy:"12",r:"2"}),ne.createElement("circle",{cx:"14",cy:"12",r:"2"}),ne.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),l&&ne.createElement(n0,{active:c,onClick:()=>d(y=>!y)},ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},ne.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),ne.createElement(Dne,{toggled:c},ne.createElement(Fne,{ref:p,setFilter:n,toggle:i})))}ne.memo(({store:n,rootClass:e,fill:t=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:u})=>{var c,d;const p=_te(n),[g,y]=w.useState(""),x=w.useMemo(()=>hne(p,g),[p,g]),[v,m]=jF(),S=i||p.length>0,_=typeof o=="object"&&o.title||void 0,M=typeof o=="object"&&(c=o.drag)!==null&&c!==void 0?c:!0,P=typeof o=="object"&&(d=o.filter)!==null&&d!==void 0?d:!0,C=typeof o=="object"&&o.position||void 0,R=typeof o=="object"&&o.onDrag||void 0,T=typeof o=="object"&&o.onDragStart||void 0,E=typeof o=="object"&&o.onDragEnd||void 0;return ne.useEffect(()=>{m({x:C==null?void 0:C.x,y:C==null?void 0:C.y})},[C,m]),mZ(),ne.createElement(kF.Provider,{value:{hideCopyButton:a}},ne.createElement(Ine,{ref:v,className:e,fill:t,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:S?"block":"none"}},o&&ne.createElement(Nne,{onDrag:A=>{m(A),R==null||R(A)},onDragStart:A=>T==null?void 0:T(A),onDragEnd:A=>E==null?void 0:E(A),setFilter:y,toggle:A=>u(B=>A??!B),toggled:l,title:_,drag:M,filterEnabled:P,from:C}),S&&ne.createElement(OF.Provider,{value:n},ne.createElement(M4,{isRoot:!0,fill:t,flat:r,tree:x,toggled:l}))))});oa(Ps.SELECT,ZZ);oa(Ps.IMAGE,qte);oa(Ps.NUMBER,GZ);oa(Ps.COLOR,Rte);oa(Ps.STRING,aq);oa(Ps.BOOLEAN,pq);oa(Ps.INTERVAL,lne);oa(Ps.VECTOR3D,Bte);oa(Ps.VECTOR2D,Hte);function sP(n){return typeof n=="string"?new Ge(n).convertLinearToSRGB():n}function Une(n){switch(n){case"alpha":return{min:0,max:1};case"scale":return{min:0};case"map":return{image:void 0};default:return{}}}function zne({color:n,alpha:e,lighting:t,name:r,...i}={}){return[{color:n,alpha:e,lighting:t,name:r},i]}function A4(n){return n instanceof X||n instanceof Oe||n instanceof qt||n instanceof Bt||n instanceof mt}function oP(n){return A4(n)?n.toArray():n instanceof Ge?"#"+n.clone().convertLinearToSRGB().getHexString():n instanceof yn?n.image.src:n}const Hne={normal:"normal",add:"add",subtract:"subtract",multiply:"multiply",lighten:"lighten",darken:"darken",divide:"divide",overlay:"overlay",screen:"screen",softlight:"softlight",negation:"negation",reflect:"reflect"},C4={perlin:"perlin",simplex:"simplex",cell:"cell",curl:"curl",white:"white"},rE={local:"local",world:"world",uv:"uv"},Gne={phong:mM,physical:fo,toon:gM,basic:li,lambert:J0,standard:hu};class aa{constructor(e,t,r){this.uuid=Ho.generateUUID().replace(/-/g,"_"),this.name="LayerMaterial",this.mode="normal",this.visible=!0;const s=Object.getOwnPropertyNames(e).filter(a=>a.startsWith("u_")).reduce((a,l)=>{var u;let c=(u=Object.getOwnPropertyDescriptor(e,l))==null?void 0:u.value;return(A4(c)||c instanceof Ge)&&(c=c.clone()),{...a,[l.slice(1)]:c}},{});for(const a in s){const l=a.split("_")[1];(t==null?void 0:t[l])!==void 0&&(s[a]=t[l])}t&&Object.keys(t).map(a=>{t[a]!==void 0&&(this[a]=t[a])}),this.uniforms={},this.schema=[];const o={};Object.keys(s).map(a=>{const l=a.split("_")[1];this.uniforms[`u_${this.uuid}_${l}`]={value:sP(s[a])},this.schema.push({value:s[a],label:l}),o[l]={set:u=>{this.uniforms[`u_${this.uuid}_${l}`].value=sP(u)},get:()=>this.uniforms[`u_${this.uuid}_${l}`].value}}),t!=null&&t.name&&(this.name=t.name),t!=null&&t.mode&&(this.mode=t.mode),t!=null&&t.visible&&(this.visible=t.visible),Object.defineProperties(this,o),this.vertexShader="",this.fragmentShader="",this.vertexVariables="",this.fragmentVariables="",this.onParse=r,this.buildShaders(e),this.schema.push({value:this.mode,label:"mode",options:Object.values(Hne)}),this.schema.push({value:this.visible,label:"visible"})}buildShaders(e){var t;const r=Object.getOwnPropertyNames(e).filter(c=>c==="fragmentShader"||c==="vertexShader").reduce((c,d)=>{var p;return{...c,[d]:(p=Object.getOwnPropertyDescriptor(e,d))==null?void 0:p.value}},{}),i={vert:aw(r.vertexShader||""),frag:aw(r.fragmentShader||"")},s={vert:JT(i.vert,this.renameTokens.bind(this)),frag:JT(i.frag,this.renameTokens.bind(this))},o={vert:lw(s.vert),frag:lw(s.frag)},a={vert:o.vert.map(c=>c.name).indexOf("main"),frag:o.frag.map(c=>c.name).indexOf("main")},l={vert:a.vert>=0?sh(s.vert.slice(0,o.vert[a.vert].outer[0])):"",frag:a.frag>=0?sh(s.frag.slice(0,o.frag[a.frag].outer[0])):""},u={vert:a.vert>=0?this.getShaderFromIndex(s.vert,o.vert[a.vert].body):"",frag:a.frag>=0?this.getShaderFromIndex(s.frag,o.frag[a.frag].body):""};this.vertexShader=this.processFinal(u.vert,!0),this.fragmentShader=this.processFinal(u.frag),this.vertexVariables=l.vert,this.fragmentVariables=l.frag,(t=this.onParse)==null||t.call(this,this),this.schema=this.schema.filter((c,d)=>{const p=c.label;return d===this.schema.findIndex(g=>g.label===p)})}renameTokens(e){if(e.startsWith("u_")){const t=e.slice(2);return`u_${this.uuid}_${t}`}else if(e.startsWith("v_")){const t=e.slice(2);return`v_${this.uuid}_${t}`}else if(e.startsWith("f_")){const t=e.slice(2);return`f_${this.uuid}_${t}`}else return e}processFinal(e,t){const r=e.replace(/\sf_/gm,` f_${this.uuid}_`).replace(/\(f_/gm,`(f_${this.uuid}_`),i=r.match(/^.*return.*$/gm);let s=r.replace(/^.*return.*$/gm,"");if(i!=null&&i[0]){const o=i[0].replace("return","").trim().replace(";",""),a=this.getBlendMode(o,"lamina_finalColor");s+=t?`lamina_finalPosition = ${o};`:`lamina_finalColor = ${a};`}return s}getShaderFromIndex(e,t){return sh(e.slice(t[0],t[1]))}getBlendMode(e,t){switch(this.mode){default:case"normal":return`lamina_blend_alpha(${t}, ${e}, ${e}.a)`;case"add":return`lamina_blend_add(${t}, ${e}, ${e}.a)`;case"subtract":return`lamina_blend_subtract(${t}, ${e}, ${e}.a)`;case"multiply":return`lamina_blend_multiply(${t}, ${e}, ${e}.a)`;case"lighten":return`lamina_blend_lighten(${t}, ${e}, ${e}.a)`;case"darken":return`lamina_blend_darken(${t}, ${e}, ${e}.a)`;case"divide":return`lamina_blend_divide(${t}, ${e}, ${e}.a)`;case"overlay":return`lamina_blend_overlay(${t}, ${e}, ${e}.a)`;case"screen":return`lamina_blend_screen(${t}, ${e}, ${e}.a)`;case"softlight":return`lamina_blend_softlight(${t}, ${e}, ${e}.a)`;case"reflect":return`lamina_blend_reflect(${t}, ${e}, ${e}.a)`;case"negation":return`lamina_blend_negation(${t}, ${e}, ${e}.a)`}}getSchema(){return this.schema.map(({label:t,options:r,...i})=>({label:t,options:r,...Une(t),...i,value:oP(this[t])}))}serialize(){const e=this.constructor.name.split("$")[0];let t=Object.keys(this);t=t.filter(s=>!["uuid","uniforms","schema","fragmentShader","vertexShader","fragmentVariables","vertexVariables","attribs","events","__r3f","onParse"].includes(s));const r={};t.forEach(s=>{r[s]=this[s]});const i={};for(const s in this.uniforms){const o=s.replace(`u_${this.uuid}_`,"");i[o]=oP(this.uniforms[s].value)}return{constructor:e,properties:{...i,...r}}}}class is extends aa{constructor(e){super(is,{name:"Depth",...e},t=>{t.schema.push({value:t.mapping,label:"mapping",options:["vector","world","camera"]});const r=is.getMapping(t.uuid,t.mapping);t.fragmentShader=t.fragmentShader.replace("lamina_mapping_template",r)}),this.mapping="vector"}static getMapping(e,t){switch(t){default:case"vector":return`length(v_${e}_worldPosition - u_${e}_origin)`;case"world":return`length(v_${e}_position - vec3(0.))`;case"camera":return`length(v_${e}_worldPosition - cameraPosition)`}}}is.u_near=2;is.u_far=10;is.u_origin=new X(0,0,0);is.u_colorA="white";is.u_colorB="black";is.u_alpha=1;is.vertexShader=`
  varying vec3 v_worldPosition;
  varying vec3 v_position;

  void main() {
    v_worldPosition = (vec4(position, 1.0) * modelMatrix).xyz;
    v_position = position;
  }
  `;is.fragmentShader=`   
    uniform float u_alpha;
    uniform float u_near;
    uniform float u_far;
    uniform float u_isVector;
    uniform vec3 u_origin;
    uniform vec3 u_colorA;
    uniform vec3 u_colorB;

    varying vec3 v_worldPosition;
    varying vec3 v_position;

    void main() {
      float f_dist = lamina_mapping_template;
      float f_depth = (f_dist - u_near) / (u_far - u_near);
			vec3 f_depthColor =  mix(u_colorB, u_colorA, 1.0 - clamp(f_depth, 0., 1.));
  
  
      return vec4(f_depthColor, u_alpha);
    }
  `;class Of extends aa{constructor(e){super(Of,{name:"Color",...e})}}Of.u_color="red";Of.u_alpha=1;Of.fragmentShader=`   
    uniform vec3 u_color;
    uniform float u_alpha;

    void main() {
      return vec4(u_color, u_alpha);
    }
  `;class hi extends aa{constructor(e){super(hi,{name:"noise",...e},t=>{t.schema.push({value:t.type,label:"type",options:Object.values(C4)}),t.schema.push({value:t.mapping,label:"mapping",options:Object.values(rE)});const r=hi.getNoiseFunction(t.type),i=hi.getMapping(t.mapping);t.vertexShader=t.vertexShader.replace("lamina_mapping_template",i),t.fragmentShader=t.fragmentShader.replace("lamina_noise_template",r)}),this.type="perlin",this.mapping="local"}static getNoiseFunction(e){switch(e){default:case"perlin":return"lamina_noise_perlin";case"simplex":return"lamina_noise_simplex";case"cell":return"lamina_noise_worley";case"white":return"lamina_noise_white";case"curl":return"lamina_noise_swirl"}}static getMapping(e){switch(e){default:case"local":return"position";case"world":return"(modelMatrix * vec4(position,1.0)).xyz";case"uv":return"vec3(uv, 0.)"}}}hi.u_colorA="#666666";hi.u_colorB="#666666";hi.u_colorC="#FFFFFF";hi.u_colorD="#FFFFFF";hi.u_alpha=1;hi.u_scale=1;hi.u_offset=new X(0,0,0);hi.vertexShader=`
    varying vec3 v_position;

    void main() {
        v_position = lamina_mapping_template;
    }
  `;hi.fragmentShader=`   
    uniform vec3 u_colorA;
    uniform vec3 u_colorB;
    uniform vec3 u_colorC;
    uniform vec3 u_colorD;
    uniform vec3 u_offset;

    uniform float u_alpha;
    uniform float u_scale;

    varying vec3 v_position;


    void main() {
        float f_n = lamina_noise_template((v_position + u_offset) * u_scale);

        float f_step1 = 0.;
        float f_step2 = 0.2;
        float f_step3 = 0.6;
        float f_step4 = 1.;

        vec3 f_color = mix(u_colorA, u_colorB, smoothstep(f_step1, f_step2, f_n));
        f_color = mix(f_color, u_colorC, smoothstep(f_step2, f_step3, f_n));
        f_color = mix(f_color, u_colorD, smoothstep(f_step3, f_step4, f_n));

        return vec4(f_color, u_alpha);
    }
  `;class Ns extends aa{constructor(e){super(Ns,{name:"Fresnel",...e})}}Ns.u_color="white";Ns.u_alpha=1;Ns.u_bias=0;Ns.u_intensity=1;Ns.u_power=2;Ns.u_factor=1;Ns.vertexShader=`
    varying vec3 v_worldPosition;
    varying vec3 v_worldNormal;

    void main() {
        v_worldPosition = vec3(-viewMatrix[0][2], -viewMatrix[1][2], -viewMatrix[2][2]);
        v_worldNormal = normalize( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * normal );
        
    }
  `;Ns.fragmentShader=`   
    uniform vec3 u_color;
    uniform float u_alpha;
    uniform float u_bias;
    uniform float u_intensity;
    uniform float u_power;
    uniform float u_factor;

    varying vec3 v_worldPosition;
    varying vec3 v_worldNormal;

    void main() {
        float f_a = (u_factor  + dot(v_worldPosition, v_worldNormal));
        float f_fresnel = u_bias + u_intensity * pow(abs(f_a), u_power);

        f_fresnel = clamp(f_fresnel, 0.0, 1.0);
        return vec4(f_fresnel * u_color, u_alpha);
    }
  `;class ss extends aa{constructor(e){super(ss,{name:"Gradient",...e},t=>{t.schema.push({value:t.axes,label:"axes",options:["x","y","z"]}),t.schema.push({value:t.mapping,label:"mapping",options:Object.values(rE)});const r=ss.getMapping(t.mapping);t.vertexShader=t.vertexShader.replace("lamina_mapping_template",r||"local"),t.fragmentShader=t.fragmentShader.replace("axes_template",t.axes||"x")}),this.axes="x",this.mapping="local"}static getMapping(e){switch(e){default:case"local":return"position";case"world":return"(modelMatrix * vec4(position,1.0)).xyz";case"uv":return"vec3(uv, 0.)"}}}ss.u_colorA="white";ss.u_colorB="black";ss.u_alpha=1;ss.u_start=1;ss.u_end=-1;ss.u_contrast=1;ss.vertexShader=`
		varying vec3 v_position;

		vod main() {
      v_position = lamina_mapping_template;
		}
  `;ss.fragmentShader=`   
    uniform vec3 u_colorA;
    uniform vec3 u_colorB;
    uniform vec3 u_axis;
    uniform float u_alpha;
    uniform float u_start;
    uniform float u_end;
    uniform float u_contrast;

		varying vec3 v_position;

    void main() {

      float f_step = smoothstep(u_start, u_end, v_position.axes_template * u_contrast);
      vec3 f_color = mix(u_colorA, u_colorB, f_step);

      return vec4(f_color, u_alpha);
    }
  `;class vu extends aa{constructor(e){super(vu,{name:"Matcap",...e})}}vu.u_alpha=1;vu.u_map=void 0;vu.vertexShader=`
    varying vec3 v_position;
    varying vec3 v_normal;
    
    void main() {
      v_position = normalize( vec3( modelViewMatrix * vec4( position, 1.0 ) ) );
      v_normal = normalize( normalMatrix * normal );
    }
    `;vu.fragmentShader=` 
		uniform sampler2D u_map;  
		uniform float u_alpha;  
		varying vec3 v_position;
		varying vec3 v_normal;

		
    void main() {
			vec3 f_r = reflect( v_position, v_normal );
			float f_m = 2. * sqrt( pow( f_r.x, 2. ) + pow( f_r.y, 2. ) + pow( f_r.z + 1., 2. ) );
			vec2 f_vN = f_r.xy / f_m + .5;

			vec3 f_base = texture2D(u_map, f_vN).rgb;

      return vec4(f_base, u_alpha);
    }
  `;class yu extends aa{constructor(e){super(yu,{name:"Texture",...e})}}yu.u_alpha=1;yu.u_map=void 0;yu.vertexShader=`
    varying vec2 v_uv;
    
    void main() {
        v_uv = uv;
    }
    `;yu.fragmentShader=` 
		uniform sampler2D u_map;  
		uniform float u_alpha;  
		varying vec2 v_uv;

    void main() {
			vec4 f_color = texture2D(u_map, v_uv);
      return vec4(f_color.rgb, f_color.a * u_alpha);
    }
  `;class Vo extends aa{constructor(e){super(Vo,{name:"Displace",...e},t=>{t.schema.push({value:t.type,label:"type",options:Object.values(C4)}),t.schema.push({value:t.mapping,label:"mapping",options:Object.values(rE)});const r=Vo.getNoiseFunction(t.type),i=Vo.getMapping(t.mapping);t.vertexVariables=t.vertexVariables.replace("lamina_mapping_template",i),t.vertexVariables=t.vertexVariables.replace("lamina_noise_template",r)}),this.type="perlin",this.mapping="local"}static getNoiseFunction(e){switch(e){default:case"perlin":return"lamina_noise_perlin";case"simplex":return"lamina_noise_simplex";case"cell":return"lamina_noise_worley";case"white":return"lamina_noise_white";case"curl":return"lamina_noise_swirl"}}static getMapping(e){switch(e){default:case"local":return"p";case"world":return"(modelMatrix * vec4(p,1.0)).xyz";case"uv":return"vec3(uv, 0.)"}}}Vo.u_strength=1;Vo.u_scale=1;Vo.u_offset=new X(0,0,0);Vo.vertexShader=`
       
      uniform float u_strength;
      uniform float u_scale;
      uniform vec3 u_offset;

      vec3 displace(vec3 p) {
				vec3 f_position = lamina_mapping_template;
        float f_n = lamina_noise_template((f_position + u_offset) * u_scale) * u_strength;
        vec3 f_newPosition = p + (f_n * normal);

				return f_newPosition;
      }

      
			vec3 orthogonal(vec3 v) {
  		  return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0)
  		  : vec3(0.0, -v.z, v.y));
  		}
  		vec3 recalcNormals(vec3 newPos) {
  		  float offset = 0.001;
  		  vec3 tangent = orthogonal(normal);
  		  vec3 bitangent = normalize(cross(normal, tangent));
  		  vec3 neighbour1 = position + tangent * offset;
  		  vec3 neighbour2 = position + bitangent * offset;
  		  vec3 displacedNeighbour1 = displace(neighbour1);
  		  vec3 displacedNeighbour2 = displace(neighbour2);
  		  vec3 displacedTangent = displacedNeighbour1 - newPos;
  		  vec3 displacedBitangent = displacedNeighbour2 - newPos;
  		  return normalize(cross(displacedTangent, displacedBitangent));
  		}
  
  
      void main() {
       
				vec3 f_newPosition = displace(position);
        lamina_finalNormal = recalcNormals(f_newPosition);

        return f_newPosition;
      }
    `;class xu extends aa{constructor(e){super(xu,{name:"Normal",...e})}}xu.u_alpha=1;xu.u_direction=new X(1,1,1);xu.vertexShader=`   
  varying vec3 v_normals; 

  void main() {
    v_normals = normal;
  }
`;xu.fragmentShader=`   
  	uniform float u_alpha;
  	uniform vec3 u_color;
  	uniform vec3 u_direction;

		varying vec3 v_normals;

    void main() {
			vec3 f_normalColor = vec3(1.);
      f_normalColor.x = v_normals.x * u_direction.x;
      f_normalColor.y = v_normals.y * u_direction.y;
      f_normalColor.z = v_normals.z * u_direction.z;

      return vec4(f_normalColor, u_alpha);
    }
  `;var Vne=`
vec4 lamina_blend_add(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(min(x.xyz + y.xyz, 1.0) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec3 lamina_blend_alpha(const in vec3 x, const in vec3 y, const in float opacity) {

	return y * opacity + x * (1.0 - opacity);

}

vec4 lamina_blend_alpha(const in vec4 x, const in vec4 y, const in float opacity) {

	float a = min(y.a, opacity);

	return vec4(lamina_blend_alpha(x.rgb, y.rgb, a), x.a);

}
vec4 lamina_blend_average(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4((x.xyz + y.xyz) * 0.5 * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_color_burn(const in float x, const in float y) {

	return (y == 0.0) ? y : max(1.0 - (1.0 - x) / y, 0.0);

}

vec4 lamina_blend_color_burn(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_color_burn(x.r, y.r),
		lamina_blend_color_burn(x.g, y.g),
		lamina_blend_color_burn(x.b, y.b),
		lamina_blend_color_burn(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_color_dodge(const in float x, const in float y) {

	return (y == 1.0) ? y : min(x / (1.0 - y), 1.0);

}

vec4 lamina_blend_color_dodge(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_color_dodge(x.r, y.r),
		lamina_blend_color_dodge(x.g, y.g),
		lamina_blend_color_dodge(x.b, y.b),
		lamina_blend_color_dodge(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_darken(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(min(x.xyz, y.xyz) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_difference(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(abs(x.xyz - y.xyz) * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_divide(const in float x, const in float y) {

	return (y > 0.0) ? min(x / y, 1.0) : 1.0;

}

vec4 lamina_blend_divide(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_divide(x.r, y.r),
		lamina_blend_divide(x.g, y.g),
		lamina_blend_divide(x.b, y.b),
		lamina_blend_divide(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_exclusion(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4((x.xyz + y.xyz - 2.0 * x.xyz * y.xyz) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_lighten(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(max(x.xyz, y.xyz) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_multiply(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4( x.xyz * y.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_negation(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4((1.0 - abs(1.0 - x.xyz - y.xyz)) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_normal(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(y.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_overlay(const in float x, const in float y) {

	return (x < 0.5) ? (2.0 * x * y) : (1.0 - 2.0 * (1.0 - x) * (1.0 - y));

}

vec4 lamina_blend_overlay(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_overlay(x.r, y.r),
		lamina_blend_overlay(x.g, y.g),
		lamina_blend_overlay(x.b, y.b),
		lamina_blend_overlay(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_reflect(const in float x, const in float y) {

	return (y == 1.0) ? y : min(x * x / (1.0 - y), 1.0);

}

vec4 lamina_blend_reflect(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_reflect(x.r, y.r),
		lamina_blend_reflect(x.g, y.g),
		lamina_blend_reflect(x.b, y.b),
		lamina_blend_reflect(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_screen(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4((1.0 - (1.0 - x.xyz) * (1.0 - y.xyz)) * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_softlight(const in float x, const in float y) {

	return (y < 0.5) ?
		(2.0 * x * y + x * x * (1.0 - 2.0 * y)) :
		(sqrt(x) * (2.0 * y - 1.0) + 2.0 * x * (1.0 - y));

}

vec4 lamina_blend_softlight(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_softlight(x.r, y.r),
		lamina_blend_softlight(x.g, y.g),
		lamina_blend_softlight(x.b, y.b),
		lamina_blend_softlight(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_subtract(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(max(x.xyz + y.xyz - 1.0, 0.0) * opacity + x.xyz * (1.0 - opacity), x.a);

}

`,aP=`

// From: https://gist.github.com/patriciogonzalezvivo/670c22f3966e662d2f83
// Huge thanks to the creators of these algorithms

float lamina_noise_mod289(float x){return x - floor(x * (1.0 / 289.0)) * 289.0;}
vec4 lamina_noise_mod289(vec4 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}
vec4 lamina_noise_perm(vec4 x){return lamina_noise_mod289(((x * 34.0) + 1.0) * x);}
vec4 lamina_noise_permute(vec4 x) { return mod(((x * 34.0) + 1.0) * x, 289.0); }
vec4 lamina_noise_taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }


float lamina_noise_white(vec2 p) {
  return fract(1e4 * sin(17.0 * p.x + p.y * 0.1) *
               (0.1 + abs(sin(p.y * 13.0 + p.x))));
}

float lamina_noise_white(vec3 p) {
  return lamina_noise_white(p.xy);
}


vec3 lamina_noise_fade(vec3 t) { return t * t * t * (t * (t * 6.0 - 15.0) + 10.0); }

float lamina_noise_perlin(vec3 P) {
  vec3 Pi0 = floor(P);        // Integer part for indexing
  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1
  Pi0 = mod(Pi0, 289.0);
  Pi1 = mod(Pi1, 289.0);
  vec3 Pf0 = fract(P);        // Fractional part for interpolation
  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
  vec4 iy = vec4(Pi0.yy, Pi1.yy);
  vec4 iz0 = Pi0.zzzz;
  vec4 iz1 = Pi1.zzzz;

  vec4 ixy = lamina_noise_permute(lamina_noise_permute(ix) + iy);
  vec4 ixy0 = lamina_noise_permute(ixy + iz0);
  vec4 ixy1 = lamina_noise_permute(ixy + iz1);

  vec4 gx0 = ixy0 / 7.0;
  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;
  gx0 = fract(gx0);
  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
  vec4 sz0 = step(gz0, vec4(0.0));
  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
  gy0 -= sz0 * (step(0.0, gy0) - 0.5);

  vec4 gx1 = ixy1 / 7.0;
  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;
  gx1 = fract(gx1);
  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
  vec4 sz1 = step(gz1, vec4(0.0));
  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
  gy1 -= sz1 * (step(0.0, gy1) - 0.5);

  vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
  vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
  vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
  vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
  vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
  vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
  vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
  vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);

  vec4 norm0 = lamina_noise_taylorInvSqrt(
      vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
  g000 *= norm0.x;
  g010 *= norm0.y;
  g100 *= norm0.z;
  g110 *= norm0.w;
  vec4 norm1 = lamina_noise_taylorInvSqrt(
      vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
  g001 *= norm1.x;
  g011 *= norm1.y;
  g101 *= norm1.z;
  g111 *= norm1.w;

  float n000 = dot(g000, Pf0);
  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
  float n111 = dot(g111, Pf1);

  vec3 fade_xyz = lamina_noise_fade(Pf0);
  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111),
                 fade_xyz.z);
  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
  return lamina_normalize(2.2 * n_xyz);
}

float lamina_noise_simplex(vec3 v) {
  const vec2 C = vec2(1.0 / 6.0, 1.0 / 3.0);
  const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);

  // First corner
  vec3 i = floor(v + dot(v, C.yyy));
  vec3 x0 = v - i + dot(i, C.xxx);

  // Other corners
  vec3 g = step(x0.yzx, x0.xyz);
  vec3 l = 1.0 - g;
  vec3 i1 = min(g.xyz, l.zxy);
  vec3 i2 = max(g.xyz, l.zxy);

  //  x0 = x0 - 0. + 0.0 * C
  vec3 x1 = x0 - i1 + 1.0 * C.xxx;
  vec3 x2 = x0 - i2 + 2.0 * C.xxx;
  vec3 x3 = x0 - 1. + 3.0 * C.xxx;

  // Permutations
  i = mod(i, 289.0);
  vec4 p = lamina_noise_permute(lamina_noise_permute(lamina_noise_permute(i.z + vec4(0.0, i1.z, i2.z, 1.0)) + i.y +
                             vec4(0.0, i1.y, i2.y, 1.0)) +
                    i.x + vec4(0.0, i1.x, i2.x, 1.0));

  // Gradients
  // ( N*N points uniformly over a square, mapped onto an octahedron.)
  float n_ = 1.0 / 7.0; // N=7
  vec3 ns = n_ * D.wyz - D.xzx;

  vec4 j = p - 49.0 * floor(p * ns.z * ns.z); //  mod(p,N*N)

  vec4 x_ = floor(j * ns.z);
  vec4 y_ = floor(j - 7.0 * x_); // mod(j,N)

  vec4 x = x_ * ns.x + ns.yyyy;
  vec4 y = y_ * ns.x + ns.yyyy;
  vec4 h = 1.0 - abs(x) - abs(y);

  vec4 b0 = vec4(x.xy, y.xy);
  vec4 b1 = vec4(x.zw, y.zw);

  vec4 s0 = floor(b0) * 2.0 + 1.0;
  vec4 s1 = floor(b1) * 2.0 + 1.0;
  vec4 sh = -step(h, vec4(0.0));

  vec4 a0 = b0.xzyw + s0.xzyw * sh.xxyy;
  vec4 a1 = b1.xzyw + s1.xzyw * sh.zzww;

  vec3 p0 = vec3(a0.xy, h.x);
  vec3 p1 = vec3(a0.zw, h.y);
  vec3 p2 = vec3(a1.xy, h.z);
  vec3 p3 = vec3(a1.zw, h.w);

  // Normalise gradients
  vec4 norm =
      lamina_noise_taylorInvSqrt(vec4(dot(p0, p0), dot(p1, p1), dot(p2, p2), dot(p3, p3)));
  p0 *= norm.x;
  p1 *= norm.y;
  p2 *= norm.z;
  p3 *= norm.w;

  // Mix final noise value
  vec4 m =
      max(0.6 - vec4(dot(x0, x0), dot(x1, x1), dot(x2, x2), dot(x3, x3)), 0.0);
  m = m * m;
  return lamina_normalize(42.0 *
         dot(m * m, vec4(dot(p0, x0), dot(p1, x1), dot(p2, x2), dot(p3, x3))));
}

vec3 lamina_noise_simplex3(vec3 x) {
  float s = lamina_noise_simplex(vec3(x));
  float s1 = lamina_noise_simplex(vec3(x.y - 19.1, x.z + 33.4, x.x + 47.2));
  float s2 = lamina_noise_simplex(vec3(x.z + 74.2, x.x - 124.5, x.y + 99.4));
  vec3 c = vec3(s, s1, s2);
  return c;
}

vec3 lamina_noise_curl(vec3 p) {
  const float e = .1;
  vec3 dx = vec3(e, 0.0, 0.0);
  vec3 dy = vec3(0.0, e, 0.0);
  vec3 dz = vec3(0.0, 0.0, e);

  vec3 p_x0 = lamina_noise_simplex3(p - dx);
  vec3 p_x1 = lamina_noise_simplex3(p + dx);
  vec3 p_y0 = lamina_noise_simplex3(p - dy);
  vec3 p_y1 = lamina_noise_simplex3(p + dy);
  vec3 p_z0 = lamina_noise_simplex3(p - dz);
  vec3 p_z1 = lamina_noise_simplex3(p + dz);

  float x = p_y1.z - p_y0.z - p_z1.y + p_z0.y;
  float y = p_z1.x - p_z0.x - p_x1.z + p_x0.z;
  float z = p_x1.y - p_x0.y - p_y1.x + p_y0.x;

  const float divisor = 1.0 / (2.0 * e);
  return normalize(vec3(x, y, z) * divisor);
}

vec3 lamina_permute(vec3 x) {
  return mod((34.0 * x + 1.0) * x, 289.0);
}

vec3 lamina_dist(vec3 x, vec3 y, vec3 z,  bool manhattanDistance) {
  return manhattanDistance ?  abs(x) + abs(y) + abs(z) :  (x * x + y * y + z * z);
}

// From: https://github.com/Erkaman/glsl-worley
float lamina_noise_worley(vec3 P) {
  float jitter = 1.;
  bool manhattanDistance = false; 

  float K = 0.142857142857; // 1/7
  float Ko = 0.428571428571; // 1/2-K/2
  float  K2 = 0.020408163265306; // 1/(7*7)
  float Kz = 0.166666666667; // 1/6
  float Kzo = 0.416666666667; // 1/2-1/6*2

	vec3 Pi = mod(floor(P), 289.0);
 	vec3 Pf = fract(P) - 0.5;

	vec3 Pfx = Pf.x + vec3(1.0, 0.0, -1.0);
	vec3 Pfy = Pf.y + vec3(1.0, 0.0, -1.0);
	vec3 Pfz = Pf.z + vec3(1.0, 0.0, -1.0);

	vec3 p = lamina_permute(Pi.x + vec3(-1.0, 0.0, 1.0));
	vec3 p1 = lamina_permute(p + Pi.y - 1.0);
	vec3 p2 = lamina_permute(p + Pi.y);
	vec3 p3 = lamina_permute(p + Pi.y + 1.0);

	vec3 p11 = lamina_permute(p1 + Pi.z - 1.0);
	vec3 p12 = lamina_permute(p1 + Pi.z);
	vec3 p13 = lamina_permute(p1 + Pi.z + 1.0);

	vec3 p21 = lamina_permute(p2 + Pi.z - 1.0);
	vec3 p22 = lamina_permute(p2 + Pi.z);
	vec3 p23 = lamina_permute(p2 + Pi.z + 1.0);

	vec3 p31 = lamina_permute(p3 + Pi.z - 1.0);
	vec3 p32 = lamina_permute(p3 + Pi.z);
	vec3 p33 = lamina_permute(p3 + Pi.z + 1.0);

	vec3 ox11 = fract(p11*K) - Ko;
	vec3 oy11 = mod(floor(p11*K), 7.0)*K - Ko;
	vec3 oz11 = floor(p11*K2)*Kz - Kzo; // p11 < 289 guaranteed

	vec3 ox12 = fract(p12*K) - Ko;
	vec3 oy12 = mod(floor(p12*K), 7.0)*K - Ko;
	vec3 oz12 = floor(p12*K2)*Kz - Kzo;

	vec3 ox13 = fract(p13*K) - Ko;
	vec3 oy13 = mod(floor(p13*K), 7.0)*K - Ko;
	vec3 oz13 = floor(p13*K2)*Kz - Kzo;

	vec3 ox21 = fract(p21*K) - Ko;
	vec3 oy21 = mod(floor(p21*K), 7.0)*K - Ko;
	vec3 oz21 = floor(p21*K2)*Kz - Kzo;

	vec3 ox22 = fract(p22*K) - Ko;
	vec3 oy22 = mod(floor(p22*K), 7.0)*K - Ko;
	vec3 oz22 = floor(p22*K2)*Kz - Kzo;

	vec3 ox23 = fract(p23*K) - Ko;
	vec3 oy23 = mod(floor(p23*K), 7.0)*K - Ko;
	vec3 oz23 = floor(p23*K2)*Kz - Kzo;

	vec3 ox31 = fract(p31*K) - Ko;
	vec3 oy31 = mod(floor(p31*K), 7.0)*K - Ko;
	vec3 oz31 = floor(p31*K2)*Kz - Kzo;

	vec3 ox32 = fract(p32*K) - Ko;
	vec3 oy32 = mod(floor(p32*K), 7.0)*K - Ko;
	vec3 oz32 = floor(p32*K2)*Kz - Kzo;

	vec3 ox33 = fract(p33*K) - Ko;
	vec3 oy33 = mod(floor(p33*K), 7.0)*K - Ko;
	vec3 oz33 = floor(p33*K2)*Kz - Kzo;

	vec3 dx11 = Pfx + jitter*ox11;
	vec3 dy11 = Pfy.x + jitter*oy11;
	vec3 dz11 = Pfz.x + jitter*oz11;

	vec3 dx12 = Pfx + jitter*ox12;
	vec3 dy12 = Pfy.x + jitter*oy12;
	vec3 dz12 = Pfz.y + jitter*oz12;

	vec3 dx13 = Pfx + jitter*ox13;
	vec3 dy13 = Pfy.x + jitter*oy13;
	vec3 dz13 = Pfz.z + jitter*oz13;

	vec3 dx21 = Pfx + jitter*ox21;
	vec3 dy21 = Pfy.y + jitter*oy21;
	vec3 dz21 = Pfz.x + jitter*oz21;

	vec3 dx22 = Pfx + jitter*ox22;
	vec3 dy22 = Pfy.y + jitter*oy22;
	vec3 dz22 = Pfz.y + jitter*oz22;

	vec3 dx23 = Pfx + jitter*ox23;
	vec3 dy23 = Pfy.y + jitter*oy23;
	vec3 dz23 = Pfz.z + jitter*oz23;

	vec3 dx31 = Pfx + jitter*ox31;
	vec3 dy31 = Pfy.z + jitter*oy31;
	vec3 dz31 = Pfz.x + jitter*oz31;

	vec3 dx32 = Pfx + jitter*ox32;
	vec3 dy32 = Pfy.z + jitter*oy32;
	vec3 dz32 = Pfz.y + jitter*oz32;

	vec3 dx33 = Pfx + jitter*ox33;
	vec3 dy33 = Pfy.z + jitter*oy33;
	vec3 dz33 = Pfz.z + jitter*oz33;

	vec3 d11 = lamina_dist(dx11, dy11, dz11, manhattanDistance);
	vec3 d12 = lamina_dist(dx12, dy12, dz12, manhattanDistance);
	vec3 d13 = lamina_dist(dx13, dy13, dz13, manhattanDistance);
	vec3 d21 = lamina_dist(dx21, dy21, dz21, manhattanDistance);
	vec3 d22 = lamina_dist(dx22, dy22, dz22, manhattanDistance);
	vec3 d23 = lamina_dist(dx23, dy23, dz23, manhattanDistance);
	vec3 d31 = lamina_dist(dx31, dy31, dz31, manhattanDistance);
	vec3 d32 = lamina_dist(dx32, dy32, dz32, manhattanDistance);
	vec3 d33 = lamina_dist(dx33, dy33, dz33, manhattanDistance);

	vec3 d1a = min(d11, d12);
	d12 = max(d11, d12);
	d11 = min(d1a, d13); // Smallest now not in d12 or d13
	d13 = max(d1a, d13);
	d12 = min(d12, d13); // 2nd smallest now not in d13
	vec3 d2a = min(d21, d22);
	d22 = max(d21, d22);
	d21 = min(d2a, d23); // Smallest now not in d22 or d23
	d23 = max(d2a, d23);
	d22 = min(d22, d23); // 2nd smallest now not in d23
	vec3 d3a = min(d31, d32);
	d32 = max(d31, d32);
	d31 = min(d3a, d33); // Smallest now not in d32 or d33
	d33 = max(d3a, d33);
	d32 = min(d32, d33); // 2nd smallest now not in d33
	vec3 da = min(d11, d21);
	d21 = max(d11, d21);
	d11 = min(da, d31); // Smallest now in d11
	d31 = max(da, d31); // 2nd smallest now not in d31
	d11.xy = (d11.x < d11.y) ? d11.xy : d11.yx;
	d11.xz = (d11.x < d11.z) ? d11.xz : d11.zx; // d11.x now smallest
	d12 = min(d12, d21); // 2nd smallest now not in d21
	d12 = min(d12, d22); // nor in d22
	d12 = min(d12, d31); // nor in d31
	d12 = min(d12, d32); // nor in d32
	d11.yz = min(d11.yz,d12.xy); // nor in d12.yz
	d11.y = min(d11.y,d12.z); // Only two more to go
	d11.y = min(d11.y,d11.z); // Done! (Phew!)

  vec2 F = sqrt(d11.xy);
	return F.x; // F1, F2

}

float lamina_noise_swirl(vec3 position) {
    float scale = 0.1;
    float freq = 4. * scale;
    float t = 1.;

    vec3 pos = (position * scale) + lamina_noise_curl(position * 7. * scale);

    float worley1 = 1. - lamina_noise_worley((pos * (freq * 2.)) +  (t * 2.));
    float worley2 = 1. - lamina_noise_worley((pos * (freq * 4.)) +  (t * 4.));
    float worley3 = 1. - lamina_noise_worley((pos * (freq * 8.)) +  (t * 8.));
    float worley4 = 1. - lamina_noise_worley((pos * (freq * 16.)) +  (t * 16.));
    
    float fbm1 = worley1 * .625 + worley2 * .25 + worley3 * .125;
    float fbm2 = worley2 * .625 + worley3 * .25 + worley4 * .125;
    float fbm3 = worley3 * .75 + worley4 * .25;

    vec3 curlWorleyFbm = vec3(fbm1, fbm2, fbm3);
    float curlWorley = curlWorleyFbm.r * .625 + curlWorleyFbm.g * .25 + 
        curlWorleyFbm.b * .125;

    return curlWorley;
}
  
  
`,lP=`

float lamina_map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

float lamina_normalize(float v) { return lamina_map(v, -1.0, 1.0, 0.0, 1.0); }
`;class T4 extends fY{constructor({color:e,alpha:t,lighting:r,layers:i,name:s,...o}={}){super({baseMaterial:Gne[r||"basic"],...o}),this.name="LayerMaterial",this.layers=[],this.lighting="basic";const a=e||"white",l=t??1;this.uniforms={u_lamina_color:{value:typeof a=="string"?new Ge(a).convertSRGBToLinear():a},u_lamina_alpha:{value:l}},this.layers=i||this.layers,this.lighting=r||this.lighting,this.name=s||this.name,this.refresh()}genShaders(){let e="",t="",r="",i="",s={};return this.layers.filter(o=>o.visible).forEach(o=>{e+=o.vertexVariables+`
`,t+=o.fragmentVariables+`
`,r+=o.vertexShader+`
`,i+=o.fragmentShader+`
`,s={...s,...o.uniforms}}),s={...s,...this.uniforms},{uniforms:s,vertexShader:`
        ${lP}
        ${aP}
        ${e}

        void main() {
          vec3 lamina_finalPosition = position;
          vec3 lamina_finalNormal = normal;

          ${r}

          csm_Position = lamina_finalPosition;
          csm_Normal = lamina_finalNormal;
        }
        `,fragmentShader:`
        ${lP}
        ${aP}
        ${Vne}
        ${t}

        uniform vec3 u_lamina_color;
        uniform float u_lamina_alpha;

        void main() {
          vec4 lamina_finalColor = vec4(u_lamina_color, u_lamina_alpha);

          ${i}

          csm_DiffuseColor = lamina_finalColor;
         
        }
        `}}refresh(){const{uniforms:e,fragmentShader:t,vertexShader:r}=this.genShaders();super.update({fragmentShader:t,vertexShader:r,uniforms:e})}serialize(){return{constructor:"LayerMaterial",properties:{color:this.color,alpha:this.alpha,name:this.name,lighting:this.lighting}}}set color(e){var t,r;(t=this.uniforms)!=null&&(r=t.u_lamina_color)!=null&&r.value&&(this.uniforms.u_lamina_color.value=typeof e=="string"?new Ge(e).convertSRGBToLinear():e)}get color(){var e,t;return(e=this.uniforms)==null||(t=e.u_lamina_color)==null?void 0:t.value}set alpha(e){this.uniforms.u_lamina_alpha.value=e}get alpha(){return this.uniforms.u_lamina_alpha.value}}Cf({LayerMaterial:T4});Cf({LayerMaterial:T4,Depth_:is,Color_:Of,Noise_:hi,Fresnel_:Ns,Gradient_:ss,Matcap_:vu,Texture_:yu,Displace_:Vo,Normal_:xu});const jne=ne.forwardRef(({children:n,...e},t)=>{const r=ne.useRef(null);w.useImperativeHandle(t,()=>r.current),ne.useLayoutEffect(()=>{r.current.layers=r.current.__r3f.objects,r.current.refresh()},[n]);const[i,s]=w.useMemo(()=>zne(e),[e]);return ne.createElement("layerMaterial",$e({args:[i],ref:r},s),n)});function L4(n){return[{mode:n==null?void 0:n.mode,visible:n==null?void 0:n.visible,type:n==null?void 0:n.type,mapping:n==null?void 0:n.mapping,map:n==null?void 0:n.map,axes:n==null?void 0:n.axes}]}const Wne=ne.forwardRef((n,e)=>ne.createElement("depth_",$e({args:L4(n),ref:e},n))),$ne=ne.forwardRef((n,e)=>ne.createElement("color_",$e({ref:e,args:L4(n)},n)));function iE(n){const[e,t]=w.useState(!1);return F.jsx(F.Fragment,{children:F.jsx("section",{children:F.jsx("div",{style:{aspectRatio:2.4},children:F.jsxs(xJ,{shadows:!0,camera:{position:[5,0,15],fov:30},children:[F.jsx("spotLight",{position:[0,15,0],angle:.3,penumbra:1,castShadow:!0,intensity:2,"shadow-bias":-1e-4}),F.jsx("ambientLight",{intensity:.5}),F.jsx(nX,{position:n.textLocation,font:"./font/tech_font.json",children:n.text}),F.jsx(Jne,{modelName:n.modelName,scale:n.modelScale,position:n.modelLocation,rotation:n.modelRotation}),F.jsx(pX,{position:[0,-1.16,0],frames:100,alphaTest:.9,scale:10,children:F.jsx(mX,{amount:8,radius:10,ambient:.5,position:[1,5,-1]})}),F.jsx(bX,{onDecline:()=>t(!0)}),F.jsx(cX,{frames:e?1:1/0,preset:"forest",resolution:256,background:!0,blur:1,children:F.jsx(Xne,{})}),F.jsx(Kne,{})]})})})})}function Jne(n){const{scene:e}=zM(`/3d/${n.modelName}.glb`);return F.jsx("primitive",{object:e,...n})}function Kne({v:n=new X}){return Tf(e=>{const t=e.clock.elapsedTime;e.camera.position.lerp(n.set(Math.sin(t/5),0,12+Math.cos(t/5)/2),.05),e.camera.lookAt(0,0,0)})}function Xne({positions:n=[2,0,2,0,2,0,2,0]}){const e=w.useRef();return Tf((t,r)=>(e.current.position.z+=r*10)>20&&(e.current.position.z=-60)),F.jsxs(F.Fragment,{children:[F.jsx(rc,{intensity:.75,"rotation-x":Math.PI/2,position:[0,5,-9],scale:[10,10,1]}),F.jsx("group",{rotation:[0,.5,0],children:F.jsx("group",{ref:e,children:n.map((t,r)=>F.jsx(rc,{form:"circle",intensity:2,rotation:[Math.PI/2,0,0],position:[t,4,r*4],scale:[3,1,1]},r))})}),F.jsx(rc,{intensity:4,"rotation-y":Math.PI/2,position:[-5,1,-1],scale:[20,.1,1]}),F.jsx(rc,{"rotation-y":Math.PI/2,position:[-5,-1,-1],scale:[20,.5,1]}),F.jsx(rc,{"rotation-y":-Math.PI/2,position:[10,1,0],scale:[20,1,1]}),F.jsx(iX,{speed:5,floatIntensity:2,rotationIntensity:2,children:F.jsx(rc,{form:"ring",color:"red",intensity:1,scale:10,position:[-15,4,-18],target:[0,0,0]})}),F.jsxs("mesh",{scale:100,children:[F.jsx("sphereGeometry",{args:[1,64,64]}),F.jsxs(jne,{side:Dr,children:[F.jsx($ne,{color:"#444",alpha:1,mode:"normal"}),F.jsx(Wne,{colorA:"blue",colorB:"black",alpha:.5,mode:"normal",near:0,far:300,origin:[100,100,100]})]})]})]})}let Yne=0;function uP(n,e){const t=`atom${++Yne}`,r={toString:()=>t};return typeof n=="function"?r.read=n:(r.init=n,r.read=i=>i(r),r.write=(i,s,o)=>s(r,typeof o=="function"?o(i(r)):o)),e&&(r.write=e),r}const i_=n=>"init"in n,s_=n=>!!n.write,r0=new WeakMap,Qne=(n,e)=>{r0.set(n,e),n.catch(()=>{}).finally(()=>r0.delete(n))},cP=(n,e)=>{const t=r0.get(n);t&&(r0.delete(n),t(e))},fP=(n,e)=>{n.status="fulfilled",n.value=e},dP=(n,e)=>{n.status="rejected",n.reason=e},Dg=(n,e)=>"v"in n&&"v"in e&&Object.is(n.v,e.v),hP=(n,e)=>"e"in n&&"e"in e&&Object.is(n.e,e.e),o_=n=>"v"in n&&n.v instanceof Promise,Og=n=>{if("e"in n)throw n.e;return n.v},Zne=()=>{const n=new WeakMap,e=new WeakMap,t=new Map;let r,i;({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&(r=new Set,i=new Set);const s=T=>n.get(T),o=(T,E)=>{({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&Object.freeze(E);const A=n.get(T);if(n.set(T,E),t.has(T)||t.set(T,A),A&&o_(A)){const B="v"in E?E.v instanceof Promise?E.v:Promise.resolve(E.v):Promise.reject(E.e);cP(A.v,B)}},a=(T,E,A)=>{const B=new Map;let D=!1;A.forEach((U,H)=>{!U&&H===T&&(U=E),U?(B.set(H,U),E.d.get(H)!==U&&(D=!0)):({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[Bug] atom state not found")}),(D||E.d.size!==B.size)&&(E.d=B)},l=(T,E,A)=>{const B=s(T),D={d:(B==null?void 0:B.d)||new Map,v:E};return A&&a(T,D,A),B&&Dg(B,D)&&B.d===D.d?B:(o(T,D),D)},u=(T,E,A,B)=>{if(E instanceof Promise){let D;const U=new Promise((H,j)=>{let $=!1;E.then(Z=>{if(!$){$=!0;const k=s(T),W=l(T,U,A);fP(U,Z),H(Z),(k==null?void 0:k.d)!==W.d&&P(T,W,k==null?void 0:k.d)}},Z=>{if(!$){$=!0;const k=s(T),W=l(T,U,A);dP(U,Z),j(Z),(k==null?void 0:k.d)!==W.d&&P(T,W,k==null?void 0:k.d)}}),D=Z=>{$||($=!0,Z.then(k=>fP(U,k),k=>dP(U,k)),H(Z))}});return U.status="pending",Qne(U,H=>{H&&D(H),B==null||B()}),l(T,U,A)}return l(T,E,A)},c=(T,E,A)=>{const B=s(T),D={d:(B==null?void 0:B.d)||new Map,e:E};return A&&a(T,D,A),B&&hP(B,D)&&B.d===D.d?B:(o(T,D),D)},d=T=>{const E=s(T);if(E&&(E.d.forEach(($,Z)=>{Z!==T&&!e.has(Z)&&d(Z)}),Array.from(E.d).every(([$,Z])=>$===T||s($)===Z)))return E;const A=new Map;let B=!0;const D=$=>{if($===T){const k=s($);if(k)return A.set($,k),Og(k);if(i_($))return A.set($,void 0),$.init;throw new Error("no atom init")}const Z=d($);return A.set($,Z),Og(Z)};let U,H;const j={get signal(){return U||(U=new AbortController),U.signal},get setSelf(){return({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&!s_(T)&&console.warn("setSelf function cannot be used with read-only atom"),!H&&s_(T)&&(H=(...$)=>{if(({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&B&&console.warn("setSelf function cannot be called in sync"),!B)return S(T,...$)}),H}};try{const $=T.read(D,j);return u(T,$,A,()=>U==null?void 0:U.abort())}catch($){return c(T,$,A)}finally{B=!1}},p=T=>Og(d(T)),g=T=>{let E=e.get(T);return E||(E=_(T)),E},y=(T,E)=>!E.l.size&&(!E.t.size||E.t.size===1&&E.t.has(T)),x=T=>{const E=e.get(T);E&&y(T,E)&&M(T)},v=T=>{const E=e.get(T);E==null||E.t.forEach(A=>{if(A!==T){const B=s(A),D=d(A);(!B||!Dg(B,D))&&v(A)}})},m=(T,...E)=>{let A=!0;const B=H=>Og(d(H)),D=(H,...j)=>{let $;if(H===T){if(!i_(H))throw new Error("atom not writable");const Z=s(H),k=u(H,j[0]);(!Z||!Dg(Z,k))&&v(H)}else $=m(H,...j);return A||C(),$},U=T.write(B,D,...E);return A=!1,U},S=(T,...E)=>{const A=m(T,...E);return C(),A},_=(T,E)=>{const A={t:new Set(E&&[E]),l:new Set};if(e.set(T,A),({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&i.add(T),d(T).d.forEach((B,D)=>{const U=e.get(D);U?U.t.add(T):D!==T&&_(D,T)}),d(T),s_(T)&&T.onMount){const B=T.onMount((...D)=>S(T,...D));B&&(A.u=B)}return A},M=T=>{var E;const A=(E=e.get(T))==null?void 0:E.u;A&&A(),e.delete(T),({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&i.delete(T);const B=s(T);B?(o_(B)&&cP(B.v),B.d.forEach((D,U)=>{if(U!==T){const H=e.get(U);H&&(H.t.delete(T),y(U,H)&&M(U))}})):({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[Bug] could not find atom state to unmount",T)},P=(T,E,A)=>{const B=new Set(E.d.keys());A==null||A.forEach((D,U)=>{if(B.has(U)){B.delete(U);return}const H=e.get(U);H&&(H.t.delete(T),y(U,H)&&M(U))}),B.forEach(D=>{const U=e.get(D);U?U.t.add(T):e.has(T)&&_(D,T)})},C=()=>{for(;t.size;){const T=Array.from(t);t.clear(),T.forEach(([E,A])=>{const B=s(E);if(B){B.d!==(A==null?void 0:A.d)&&P(E,B,A==null?void 0:A.d);const D=e.get(E);D&&!(A&&!o_(A)&&(Dg(A,B)||hP(A,B)))&&D.l.forEach(U=>U())}else({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[Bug] no atom state to flush")})}({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&r.forEach(T=>T("state"))},R=(T,E)=>{const A=g(T);C();const B=A.l;return B.add(E),({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&r.forEach(D=>D("sub")),()=>{B.delete(E),x(T),({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&r.forEach(D=>D("unsub"))}};return({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"?{get:p,set:S,sub:R,dev_subscribe_store:T=>(r.add(T),()=>{r.delete(T)}),dev_get_mounted_atoms:()=>i.values(),dev_get_atom_state:T=>n.get(T),dev_get_mounted:T=>e.get(T),dev_restore_atoms:T=>{for(const[E,A]of T)i_(E)&&(u(E,A),v(E));C()}}:{get:p,set:S,sub:R}};let a_;const qne=()=>(a_||(a_=Zne()),a_),ere=w.createContext(void 0),P4=n=>{const e=w.useContext(ere);return(n==null?void 0:n.store)||e||qne()},tre=n=>n instanceof Promise,nre=ne.use||(n=>{if(n.status==="pending")throw n;if(n.status==="fulfilled")return n.value;throw n.status==="rejected"?n.reason:(n.status="pending",n.then(e=>{n.status="fulfilled",n.value=e},e=>{n.status="rejected",n.reason=e}),n)});function rre(n,e){const t=P4(e),[[r,i,s],o]=w.useReducer(u=>{const c=t.get(n);return Object.is(u[0],c)&&u[1]===t&&u[2]===n?u:[c,t,n]},void 0,()=>[t.get(n),t,n]);let a=r;(i!==t||s!==n)&&(o(),a=t.get(n));const l=e==null?void 0:e.delay;return w.useEffect(()=>{const u=t.sub(n,()=>{if(typeof l=="number"){setTimeout(o,l);return}o()});return o(),u},[t,n,l]),w.useDebugValue(a),tre(a)?nre(a):a}function ire(n,e){const t=P4(e);return w.useCallback((...i)=>{if(({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&!("write"in n))throw new Error("not writable atom");return t.set(n,...i)},[t,n])}function sE(n,e){return[rre(n,e),ire(n,e)]}const sre=Symbol(),pP=Object.getPrototypeOf,Pw=new WeakMap,ore=n=>n&&(Pw.has(n)?Pw.get(n):pP(n)===Object.prototype||pP(n)===Array.prototype),are=n=>ore(n)&&n[sre]||null,mP=(n,e=!0)=>{Pw.set(n,e)},l_=n=>typeof n=="object"&&n!==null,La=new WeakMap,kg=new WeakSet,lre=(n=Object.is,e=(u,c)=>new Proxy(u,c),t=u=>l_(u)&&!kg.has(u)&&(Array.isArray(u)||!(Symbol.iterator in u))&&!(u instanceof WeakMap)&&!(u instanceof WeakSet)&&!(u instanceof Error)&&!(u instanceof Number)&&!(u instanceof Date)&&!(u instanceof String)&&!(u instanceof RegExp)&&!(u instanceof ArrayBuffer),r=u=>{switch(u.status){case"fulfilled":return u.value;case"rejected":throw u.reason;default:throw u}},i=new WeakMap,s=(u,c,d=r)=>{const p=i.get(u);if((p==null?void 0:p[0])===c)return p[1];const g=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u));return mP(g,!0),i.set(u,[c,g]),Reflect.ownKeys(u).forEach(y=>{if(Object.getOwnPropertyDescriptor(g,y))return;const x=Reflect.get(u,y),v={value:x,enumerable:!0,configurable:!0};if(kg.has(x))mP(x,!1);else if(x instanceof Promise)delete v.value,v.get=()=>d(x);else if(La.has(x)){const[m,S]=La.get(x);v.value=s(m,S(),d)}Object.defineProperty(g,y,v)}),g},o=new WeakMap,a=[1,1],l=u=>{if(!l_(u))throw new Error("object required");const c=o.get(u);if(c)return c;let d=a[0];const p=new Set,g=(E,A=++a[0])=>{d!==A&&(d=A,p.forEach(B=>B(E,A)))};let y=a[1];const x=(E=++a[1])=>(y!==E&&!p.size&&(y=E,m.forEach(([A])=>{const B=A[1](E);B>d&&(d=B)})),d),v=E=>(A,B)=>{const D=[...A];D[1]=[E,...D[1]],g(D,B)},m=new Map,S=(E,A)=>{if(({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&m.has(E))throw new Error("prop listener already exists");if(p.size){const B=A[3](v(E));m.set(E,[A,B])}else m.set(E,[A])},_=E=>{var A;const B=m.get(E);B&&(m.delete(E),(A=B[1])==null||A.call(B))},M=E=>(p.add(E),p.size===1&&m.forEach(([B,D],U)=>{if(({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&D)throw new Error("remove already exists");const H=B[3](v(U));m.set(U,[B,H])}),()=>{p.delete(E),p.size===0&&m.forEach(([B,D],U)=>{D&&(D(),m.set(U,[B]))})}),P=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u)),R=e(P,{deleteProperty(E,A){const B=Reflect.get(E,A);_(A);const D=Reflect.deleteProperty(E,A);return D&&g(["delete",[A],B]),D},set(E,A,B,D){const U=Reflect.has(E,A),H=Reflect.get(E,A,D);if(U&&(n(H,B)||o.has(B)&&n(H,o.get(B))))return!0;_(A),l_(B)&&(B=are(B)||B);let j=B;if(B instanceof Promise)B.then($=>{B.status="fulfilled",B.value=$,g(["resolve",[A],$])}).catch($=>{B.status="rejected",B.reason=$,g(["reject",[A],$])});else{!La.has(B)&&t(B)&&(j=l(B));const $=!kg.has(j)&&La.get(j);$&&S(A,$)}return Reflect.set(E,A,j,D),g(["set",[A],B,H]),!0}});o.set(u,R);const T=[P,x,s,M];return La.set(R,T),Reflect.ownKeys(u).forEach(E=>{const A=Object.getOwnPropertyDescriptor(u,E);"value"in A&&(R[E]=u[E],delete A.value,delete A.writable),Object.defineProperty(P,E,A)}),R})=>[l,La,kg,n,e,t,r,i,s,o,a],[ure]=lre();function cre(n={}){return ure(n)}function R4(n,e,t){const r=La.get(n);({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&!r&&console.warn("Please use proxy object");let i;const s=[],o=r[3];let a=!1;const u=o(c=>{if(s.push(c),t){e(s.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,u()}}function u_(n,e){const t=La.get(n);({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&!t&&console.warn("Please use proxy object");const[r,i,s]=t;return s(r,i(),e)}const c_=n=>typeof n=="object"&&n!==null,I4=(n,e,t)=>{Object.getOwnPropertyNames(e).forEach(r=>{r in t?Object.is(e[r],t[r])||(c_(n[r])&&c_(e[r])&&c_(t[r])?I4(n[r],e[r],t[r]):n[r]=t[r]):delete n[r]}),Object.keys(t).forEach(r=>{r in e||(n[r]=t[r])})};function fre(n,e){const t=uP(u_(n));return t.onMount=r=>{const i=()=>{r(u_(n))},s=R4(n,i,e==null?void 0:e.sync);return i(),s},uP(r=>r(t),(r,i,s)=>{const o=typeof s=="function"?s(r(t)):s;I4(n,u_(n),o)})}class dre{constructor(e,t){this.id=e,this.location=t}}class Pc{constructor(e,t){this.lat=e,this.lng=t}}let B4=class extends dre{constructor(e,t,r,i,s,o,a,l){super(e,t),this.username=r,this.credit_card=i,this.coupons=s,this.is_admin=o,this.telephone_number=a,this.email=l}};const oE={api_url:"http://localhost:8080/api",local_storage_keyname:"SMART_SCOOTER_DATA"},D4=new Pc(25.01754,121.5397),Rw=new B4(-1,D4,"","",0,!1,"",""),hre="",$n=cre(JSON.parse(localStorage.getItem(oE.local_storage_keyname))||{current_location:D4,current_user:Rw,current_session:hre});R4($n,()=>{localStorage.setItem(oE.local_storage_keyname,JSON.stringify($n))});const aE=fre($n,{sync:!0});function pre(){const n=Ub(),[e]=sE(aE);return F.jsxs(F.Fragment,{children:[e.current_user.id!=-1?e.current_user.is_admin===!0?F.jsx(Gv,{to:"/admin"}):F.jsx(Gv,{to:"/user"}):"",F.jsx(L8,{}),F.jsx("main",{className:"container",children:n||F.jsx(mre,{})})]})}function mre(){return F.jsx(F.Fragment,{children:F.jsxs("section",{children:[F.jsxs("hgroup",{children:[F.jsx("h1",{children:"Smart Scooter Platform"}),F.jsx("h2",{children:"Effortlessly Intelligent"})]}),F.jsx(iE,{text:"",modelLocation:[-20,0,-100],modelScale:.05,modelRotation:[.3,-1.4,0],textLocation:[0,0,0],modelName:"city"})]})})}const as=async(n,e,t={},r={})=>{const i=new URL(oE.api_url+n);Object.keys(r).length!==0&&Object.keys(r).forEach(l=>{const u=r[l];u!==void 0&&i.searchParams.append(l,u.toString())});const a=await(await fetch(i,{method:e,headers:{token:$n.current_session,"Content-Type":"application/json"},body:Object.keys(t).length===0?void 0:JSON.stringify(t)})).json();if(a.success===!1)throw a.message;return a},O4=async(n,e)=>{const t=await as("/login","POST",{username:n,password:e});return t.success===!0&&t.token!=null&&($n.current_session=t.token),await lE()},gre=async()=>{try{await as("/logout","GET",{})}catch{}return $n.current_session="",await lE()},Fg=async n=>{const e=new Pc(n.lat,n.lng),t=new B4($n.current_user.id,e,$n.current_user.username,$n.current_user.credit_card,$n.current_user.coupons,$n.current_user.is_admin,$n.current_user.telephone_number,$n.current_user.email);return $n.current_location=e,$n.current_user=t,await vre()},vre=async()=>{await as("/update-userinfo ","POST",{...$n.current_user}),await lE()},lE=async()=>{if($n.current_session===""){$n.current_user={...Rw};return}const n=await as("/get-userinfo","GET",{});n.success===!0&&n.userData!=null?$n.current_user={...n.userData}:$n.current_user={...Rw}},yre=async(n,e,t)=>{(await as("/signup","POST",{username:n,email:e,password:t})).success===!0&&O4(n,t)},ey=async()=>{const n=await as("/user/active-order","GET");return n.success===!0&&n.data!=null?(console.log(n.data),n.data):null},xre=async n=>(await as("/user/rent","POST",{scooter_id:n},{}),await ey()),_re=async()=>(await as("/user/return","POST",{use_coupon:!1}),await ey()),Sre=async(n=100)=>{const e=await as("/user/search/scooter","GET",{},{range:n});return e.success===!0&&e.data!=null&&e.data!=null?(console.log(e.data),e.data):[]},wre=async(n=500)=>{const e=await as("/user/search/station","GET",{},{range:n});return e.success===!0&&e.data!=null&&e.data!=null?(console.log(e.data),e.data):[]},bre=async n=>(await as("/user/recharge","POST",{station_id:n},{}),await ey()),gP=async()=>{const n=await as("/user/get-battery","GET");return n.battery_level!==void 0&&n.battery_level!==null&&n.success===!0?n.battery_level:100};function Mre(){const[n,e]=w.useState(""),[t,r]=w.useState(""),[i,s]=w.useState("");return F.jsx(F.Fragment,{children:F.jsx("section",{children:F.jsxs("article",{className:"grid login",children:[F.jsxs("div",{children:[F.jsx("h1",{children:"Sign in","data-v-3cf56628":!0}),F.jsxs("form",{children:[F.jsx("input",{type:"text",name:"username",placeholder:"Username","aria-label":"Username",required:!0,value:n,onChange:o=>{e(o.target.value)},"data-v-3cf56628":!0}),F.jsx("input",{type:"password",name:"password",placeholder:"Password","aria-label":"Password",required:!0,value:t,onChange:o=>{r(o.target.value)},"data-v-3cf56628":!0}),F.jsx("button",{className:"contrast",onClick:async o=>{o.preventDefault();try{await O4(n,t),s("")}catch(a){s(a)}},children:"Login","data-v-3cf56628":!0})],"data-v-3cf56628":!0}),F.jsx("p",{children:i,"data-v-3cf56628":!0})],"data-v-3cf56628":!0}),F.jsx("div",{"data-v-3cf56628":!0})],"data-v-3cf56628":!0}),"data-v-3cf56628":!0})})}function Ere(){const[n,e]=w.useState(""),[t,r]=w.useState(""),[i,s]=w.useState(""),[o,a]=w.useState("");return F.jsx(F.Fragment,{children:F.jsx("section",{children:F.jsxs("article",{className:"grid login",children:[F.jsxs("div",{children:[F.jsx("h1",{children:"Sign up","data-v-5299379d":!0}),F.jsxs("form",{children:[F.jsx("input",{type:"text",name:"username",placeholder:"User","aria-label":"User",required:!0,value:n,onChange:l=>{e(l.target.value)},"data-v-5299379d":!0}),F.jsx("input",{type:"text",name:"email",placeholder:"Email","aria-label":"Email",required:!0,value:i,onChange:l=>{s(l.target.value)},"data-v-5299379d":!0}),F.jsx("input",{type:"password",name:"password",placeholder:"Password","aria-label":"Password",required:!0,value:t,onChange:l=>{r(l.target.value)},"data-v-5299379d":!0}),F.jsx("button",{type:"submit",onClick:async l=>{l.preventDefault();try{await yre(n,i,t),a("")}catch(u){a(u)}},children:"Sign up","data-v-5299379d":!0})],"data-v-5299379d":!0}),F.jsx("p",{children:o,"data-v-5299379d":!0})],"data-v-5299379d":!0}),F.jsx("div",{"data-v-5299379d":!0})],"data-v-5299379d":!0}),"data-v-5299379d":!0})})}function f_(){return F.jsx(F.Fragment,{children:F.jsx("main",{className:"container",children:F.jsxs("div",{id:"error-page",children:[F.jsxs("hgroup",{children:[F.jsx("h1",{children:"Oops!"}),F.jsx("h5",{children:"Sorry, an unexpected error has occurred."})]}),F.jsx("img",{src:"/image/dancing-cat.gif"}),F.jsx(Are,{})]})})})}function Are(){const n=dD();return console.log(n),Fb(n)?F.jsxs("p",{children:[n.status," ",n.statusText]}):F.jsx("p",{children:"Unknown Error"})}function Cre(){return F.jsxs(F.Fragment,{children:[" ",F.jsxs("nav",{className:"container-fluid",children:[F.jsxs("ul",{children:[F.jsx("li",{children:F.jsx("strong",{children:" Smart Scooter - User "})}),F.jsx("li",{children:F.jsx(Ms,{to:"/user/map",children:"Map"})})]}),F.jsxs("ul",{children:[F.jsx("li",{children:F.jsx(Ms,{to:"/user/settings",children:"Settings"})}),F.jsx("li",{children:F.jsx(Ms,{to:"/logout",children:"Logout"})})]})]})]})}function Tre(){const n=Ub(),[e]=sE(aE);return F.jsxs(F.Fragment,{children:[F.jsx(Cre,{}),F.jsxs("main",{className:"container",children:[e.current_user.id==-1?F.jsx(Gv,{to:"/"}):"",n||F.jsx(iE,{modelLocation:[-.5,-2,0],modelRotation:[0,Math.PI/5,0],modelScale:3.4,text:"Welcome Back!",modelName:"scooter",textLocation:[-3.8,-.4,3]})]})]})}function Lre(){return F.jsxs(F.Fragment,{children:[" ",F.jsxs("nav",{className:"container-fluid",children:[F.jsxs("ul",{children:[F.jsx("li",{children:F.jsx("strong",{children:" Smart Scooter - Admin "})}),F.jsx("li",{children:F.jsx(Ms,{to:"/admin/search",children:"Search"})}),F.jsx("li",{children:F.jsx(Ms,{to:"/admin/repair",children:"Repair"})}),F.jsx("li",{children:F.jsx(Ms,{to:"/admin/recharge",children:"Recharge"})})]}),F.jsxs("ul",{children:[F.jsx("li",{children:F.jsx(Ms,{to:"/admin/settings",children:"Settings"})}),F.jsx("li",{children:F.jsx(Ms,{to:"/logout",children:"Logout"})})]})]})]})}function Pre(){const n=Ub();return F.jsxs(F.Fragment,{children:[F.jsx(Lre,{}),F.jsx("main",{className:"container",children:n||F.jsx(iE,{modelLocation:[-.5,-2,0],modelRotation:[0,Math.PI*1.65,-.05],modelScale:30,text:"Start Working!",modelName:"terminal",textLocation:[-3.8,-.4,3]})})]})}var Rre=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ire=function(n,e,t,r,i,s,o,a){if(!n){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[t,r,i,s,o,a],c=0;l=new Error(e.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},ir=Ire;const wt=w.createContext(null);function k4(){ir(!!w.useContext,"useGoogleMap is React hook and requires React version 16.8+");const n=w.useContext(wt);return ir(!!n,"useGoogleMap needs a GoogleMap available up in the tree"),n}function Bre(n,e,t){return Object.keys(n).reduce(function(i,s){return e(i,n[s],s)},t)}function Dre(n,e){Object.keys(n).forEach(t=>e(n[t],t))}function Ore(n,e,t,r){const i={};return Dre(n,(o,a)=>{const l=t[a];l!==e[a]&&(i[a]=l,o(r,l))}),i}function kre(n,e,t){return Bre(t,function(s,o,a){return typeof n[a]=="function"&&s.push(google.maps.event.addListener(e,o,n[a])),s},[])}function Fre(n){google.maps.event.removeListener(n)}function kt(n=[]){n.forEach(Fre)}function Dt({updaterMap:n,eventMap:e,prevProps:t,nextProps:r,instance:i}){const s=kre(r,i,e);return Ore(n,t,r,i),s}const vP={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},yP={extraMapTypes(n,e){e.forEach(function(r,i){n.mapTypes.set(String(i),r)})},center(n,e){n.setCenter(e)},clickableIcons(n,e){n.setClickableIcons(e)},heading(n,e){n.setHeading(e)},mapTypeId(n,e){n.setMapTypeId(e)},options(n,e){n.setOptions(e)},streetView(n,e){n.setStreetView(e)},tilt(n,e){n.setTilt(e)},zoom(n,e){n.setZoom(e)}};function Nre({children:n,options:e,id:t,mapContainerStyle:r,mapContainerClassName:i,center:s,onClick:o,onDblClick:a,onDrag:l,onDragEnd:u,onDragStart:c,onMouseMove:d,onMouseOut:p,onMouseOver:g,onMouseDown:y,onMouseUp:x,onRightClick:v,onCenterChanged:m,onLoad:S,onUnmount:_}){const[M,P]=w.useState(null),C=w.useRef(null),[R,T]=w.useState(null),[E,A]=w.useState(null),[B,D]=w.useState(null),[U,H]=w.useState(null),[j,$]=w.useState(null),[Z,k]=w.useState(null),[W,V]=w.useState(null),[ce,oe]=w.useState(null),[re,q]=w.useState(null),[we,xe]=w.useState(null),[se,pe]=w.useState(null),[N,G]=w.useState(null);return w.useEffect(()=>{e&&M!==null&&M.setOptions(e)},[M,e]),w.useEffect(()=>{M!==null&&typeof s<"u"&&M.setCenter(s)},[M,s]),w.useEffect(()=>{M&&a&&(E!==null&&google.maps.event.removeListener(E),A(google.maps.event.addListener(M,"dblclick",a)))},[a]),w.useEffect(()=>{M&&u&&(B!==null&&google.maps.event.removeListener(B),D(google.maps.event.addListener(M,"dragend",u)))},[u]),w.useEffect(()=>{M&&c&&(U!==null&&google.maps.event.removeListener(U),H(google.maps.event.addListener(M,"dragstart",c)))},[c]),w.useEffect(()=>{M&&y&&(j!==null&&google.maps.event.removeListener(j),$(google.maps.event.addListener(M,"mousedown",y)))},[y]),w.useEffect(()=>{M&&d&&(Z!==null&&google.maps.event.removeListener(Z),k(google.maps.event.addListener(M,"mousemove",d)))},[d]),w.useEffect(()=>{M&&p&&(W!==null&&google.maps.event.removeListener(W),V(google.maps.event.addListener(M,"mouseout",p)))},[p]),w.useEffect(()=>{M&&g&&(ce!==null&&google.maps.event.removeListener(ce),oe(google.maps.event.addListener(M,"mouseover",g)))},[g]),w.useEffect(()=>{M&&x&&(re!==null&&google.maps.event.removeListener(re),q(google.maps.event.addListener(M,"mouseup",x)))},[x]),w.useEffect(()=>{M&&v&&(we!==null&&google.maps.event.removeListener(we),xe(google.maps.event.addListener(M,"rightclick",v)))},[v]),w.useEffect(()=>{M&&o&&(se!==null&&google.maps.event.removeListener(se),pe(google.maps.event.addListener(M,"click",o)))},[o]),w.useEffect(()=>{M&&l&&(N!==null&&google.maps.event.removeListener(N),G(google.maps.event.addListener(M,"drag",l)))},[l]),w.useEffect(()=>{M&&m&&(R!==null&&google.maps.event.removeListener(R),T(google.maps.event.addListener(M,"center_changed",m)))},[o]),w.useEffect(()=>{const Y=C.current===null?null:new google.maps.Map(C.current,e);return P(Y),Y!==null&&S&&S(Y),()=>{Y!==null&&_&&_(Y)}},[]),F.jsx("div",Object.assign({id:t,ref:C,style:r,className:i},{children:F.jsx(wt.Provider,Object.assign({value:M},{children:M!==null?n:F.jsx(F.Fragment,{})}))}))}w.memo(Nre);class Ure extends w.PureComponent{constructor(){super(...arguments),this.state={map:null},this.registeredEvents=[],this.mapRef=null,this.getInstance=()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options),this.panTo=e=>{const t=this.getInstance();t&&t.panTo(e)},this.setMapCallback=()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)},this.getRef=e=>{this.mapRef=e}}componentDidMount(){const e=this.getInstance();this.registeredEvents=Dt({updaterMap:yP,eventMap:vP,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(kt(this.registeredEvents),this.registeredEvents=Dt({updaterMap:yP,eventMap:vP,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),kt(this.registeredEvents))}render(){return F.jsx("div",Object.assign({id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName},{children:F.jsx(wt.Provider,Object.assign({value:this.state.map},{children:this.state.map!==null?this.props.children:F.jsx(F.Fragment,{})}))}))}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function uE(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function zre(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}const Fa=typeof document<"u";function F4({url:n,id:e,nonce:t}){return Fa?new Promise(function(i,s){const o=document.getElementById(e),a=window;if(o){const u=o.getAttribute("data-state");if(o.src===n&&u!=="error"){if(u==="ready")return i(e);{const c=a.initMap,d=o.onerror;a.initMap=function(){c&&c(),i(e)},o.onerror=function(p){d&&d(p),s(p)};return}}else o.remove()}const l=document.createElement("script");l.type="text/javascript",l.src=n,l.id=e,l.async=!0,l.nonce=t,l.onerror=function(c){l.setAttribute("data-state","error"),s(c)},a.initMap=function(){l.setAttribute("data-state","ready"),i(e)},document.head.appendChild(l)}).catch(r=>{throw console.error("injectScript error: ",r),r}):Promise.reject(new Error("document is undefined"))}function xP(n){const e=n.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:n.tagName.toLowerCase()==="style"&&n.styleSheet&&n.styleSheet.cssText&&n.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(n.styleSheet.cssText="",!0):n.tagName.toLowerCase()==="style"&&n.innerHTML&&n.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(n.innerHTML="",!0):n.tagName.toLowerCase()==="style"&&!n.styleSheet&&!n.innerHTML}function cE(){const n=document.getElementsByTagName("head")[0],e=n.insertBefore.bind(n);n.insertBefore=function(i,s){xP(i)||Reflect.apply(e,n,[i,s])};const t=n.appendChild.bind(n);n.appendChild=function(i){xP(i)||Reflect.apply(t,n,[i])}}function N4({googleMapsApiKey:n,googleMapsClientId:e,version:t="weekly",language:r,region:i,libraries:s,channel:o,mapIds:a,authReferrerPolicy:l}){const u=[];return ir(n&&e||!(n&&e),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),n?u.push(`key=${n}`):e&&u.push(`client=${e}`),t&&u.push(`v=${t}`),r&&u.push(`language=${r}`),i&&u.push(`region=${i}`),s&&s.length&&u.push(`libraries=${s.sort().join(",")}`),o&&u.push(`channel=${o}`),a&&a.length&&u.push(`map_ids=${a.join(",")}`),l&&u.push(`auth_referrer_policy=${l}`),u.push("callback=initMap"),`https://maps.googleapis.com/maps/api/js?${u.join("&")}`}let Dd=!1;function U4(){return F.jsx("div",{children:"Loading..."})}const Vh={id:"script-loader",version:"weekly"};class Hre extends w.PureComponent{constructor(){super(...arguments),this.check=w.createRef(),this.state={loaded:!1},this.cleanupCallback=()=>{delete window.google.maps,this.injectScript()},this.isCleaningUp=()=>zre(this,void 0,void 0,function*(){function e(t){if(!Dd)t();else if(Fa){const r=window.setInterval(function(){Dd||(window.clearInterval(r),t())},1)}}return new Promise(e)}),this.cleanup=()=>{Dd=!0;const e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})},this.injectScript=()=>{this.props.preventGoogleFontsLoading&&cE(),ir(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);const e={id:this.props.id,nonce:this.props.nonce,url:N4(this.props)};F4(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(t=>{this.props.onError&&this.props.onError(t),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (${this.props.googleMapsApiKey||"-"}) or Client ID (${this.props.googleMapsClientId||"-"}) to <LoadScript />
          Otherwise it is a Network issue.
        `)})}}componentDidMount(){if(Fa){if(window.google&&window.google.maps&&!Dd){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(t){console.error("Error at injecting script after cleaning up: ",t)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Fa&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Fa){this.cleanup();const e=()=>{this.check.current||(delete window.google,Dd=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return F.jsxs(F.Fragment,{children:[F.jsx("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||F.jsx(U4,{})]})}}Hre.defaultProps=Vh;let _P;function Gre({id:n=Vh.id,version:e=Vh.version,nonce:t,googleMapsApiKey:r,googleMapsClientId:i,language:s,region:o,libraries:a,preventGoogleFontsLoading:l,channel:u,mapIds:c,authReferrerPolicy:d}){const p=w.useRef(!1),[g,y]=w.useState(!1),[x,v]=w.useState(void 0);w.useEffect(function(){return p.current=!0,()=>{p.current=!1}},[]),w.useEffect(function(){Fa&&l&&cE()},[l]),w.useEffect(function(){g&&ir(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[g]);const m=N4({version:e,googleMapsApiKey:r,googleMapsClientId:i,language:s,region:o,libraries:a,channel:u,mapIds:c,authReferrerPolicy:d});w.useEffect(function(){if(!Fa)return;function M(){p.current&&(y(!0),_P=m)}if(window.google&&window.google.maps&&_P===m){M();return}F4({id:n,url:m,nonce:t}).then(M).catch(function(C){p.current&&v(C),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (${r||"-"}) or Client ID (${i||"-"})
        Otherwise it is a Network issue.
      `),console.error(C)})},[n,m,t]);const S=w.useRef();return w.useEffect(function(){S.current&&a!==S.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),S.current=a},[a]),{isLoaded:g,loadError:x,url:m}}const Vre=F.jsx(U4,{});function jre(n){var{loadingElement:e,onLoad:t,onError:r,onUnmount:i,children:s}=n,o=uE(n,["loadingElement","onLoad","onError","onUnmount","children"]);const{isLoaded:a,loadError:l}=Gre(o);return w.useEffect(function(){a&&typeof t=="function"&&t()},[a,t]),w.useEffect(function(){l&&typeof r=="function"&&r(l)},[l,r]),w.useEffect(function(){return()=>{i&&i()}},[i]),a?s:e||Vre}w.memo(jre);var Wre=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!n(e[o],t[o]))return!1}return!0}return e!==e&&t!==t};const SP="__googleMapsScriptId";var Rc;(function(n){n[n.INITIALIZED=0]="INITIALIZED",n[n.LOADING=1]="LOADING",n[n.SUCCESS=2]="SUCCESS",n[n.FAILURE=3]="FAILURE"})(Rc||(Rc={}));class Il{constructor({apiKey:e,authReferrerPolicy:t,channel:r,client:i,id:s=SP,language:o,libraries:a=[],mapIds:l,nonce:u,region:c,retries:d=3,url:p="https://maps.googleapis.com/maps/api/js",version:g}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=t,this.channel=r,this.client=i,this.id=s||SP,this.language=o,this.libraries=a,this.mapIds=l,this.nonce=u,this.region=c,this.retries=d,this.url=p,this.version=g,Il.instance){if(!Wre(this.options,Il.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Il.instance.options)}`);return Il.instance}Il.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Rc.FAILURE:this.done?Rc.SUCCESS:this.loading?Rc.LOADING:Rc.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+=`?callback=${this.CALLBACK}`,this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(r=>{r?t(r.error):e(window.google)})})}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){if(document.getElementById(this.id)){this.callback();return}const e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const t=this.errors.length*Math.pow(2,this.errors.length);console.log(`Failed to load Google Maps script, retrying in ${t} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},t)}else this.onerrorEvent=e,this.callback()}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}}function $re({id:n=Vh.id,version:e=Vh.version,nonce:t,googleMapsApiKey:r,language:i,region:s,libraries:o,preventGoogleFontsLoading:a,mapIds:l,authReferrerPolicy:u}){const c=w.useRef(!1),[d,p]=w.useState(!1),[g,y]=w.useState(void 0);w.useEffect(function(){return c.current=!0,()=>{c.current=!1}},[]);const x=w.useMemo(function(){return new Il({id:n,apiKey:r,version:e,libraries:o,language:i,region:s,mapIds:l,nonce:t,authReferrerPolicy:u})},[n,r,e,o,i,s,l,t,u]);w.useEffect(function(){d||x.load().then(function(){c.current&&p(!0)}).catch(function(_){y(_)})},[]),w.useEffect(function(){Fa&&a&&cE()},[a]);const v=w.useRef();return w.useEffect(function(){v.current&&o!==v.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),v.current=o},[o]),{isLoaded:d,loadError:g}}const wP={},bP={options(n,e){n.setOptions(e)}};function Jre({options:n,onLoad:e,onUnmount:t}){const r=w.useContext(wt),[i,s]=w.useState(null);return w.useEffect(()=>{i!==null&&i.setMap(r)},[r]),w.useEffect(()=>{n&&i!==null&&i.setOptions(n)},[i,n]),w.useEffect(()=>{const o=new google.maps.TrafficLayer(Object.assign(Object.assign({},n||{}),{map:r}));return s(o),e&&e(o),()=>{i!==null&&(t&&t(i),i.setMap(null))}},[]),null}w.memo(Jre);class Kre extends w.PureComponent{constructor(){super(...arguments),this.state={trafficLayer:null},this.setTrafficLayerCallback=()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)},this.registeredEvents=[]}componentDidMount(){const e=new google.maps.TrafficLayer(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=Dt({updaterMap:bP,eventMap:wP,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(kt(this.registeredEvents),this.registeredEvents=Dt({updaterMap:bP,eventMap:wP,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),kt(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}Kre.contextType=wt;function Xre({onLoad:n,onUnmount:e}){const t=w.useContext(wt),[r,i]=w.useState(null);return w.useEffect(()=>{r!==null&&r.setMap(t)},[t]),w.useEffect(()=>{const s=new google.maps.BicyclingLayer;return i(s),s.setMap(t),n&&n(s),()=>{s!==null&&(e&&e(s),s.setMap(null))}},[]),null}w.memo(Xre);class Yre extends w.PureComponent{constructor(){super(...arguments),this.state={bicyclingLayer:null},this.setBicyclingLayerCallback=()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))}}componentDidMount(){const e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}Yre.contextType=wt;function Qre({onLoad:n,onUnmount:e}){const t=w.useContext(wt),[r,i]=w.useState(null);return w.useEffect(()=>{r!==null&&r.setMap(t)},[t]),w.useEffect(()=>{const s=new google.maps.TransitLayer;return i(s),s.setMap(t),n&&n(s),()=>{r!==null&&(e&&e(r),this.state.transitLayer.setMap(null))}},[]),null}w.memo(Qre);class Zre extends w.PureComponent{constructor(){super(...arguments),this.state={transitLayer:null},this.setTransitLayerCallback=()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))}}componentDidMount(){const e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}Zre.contextType=wt;const MP={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},EP={drawingMode(n,e){n.setDrawingMode(e)},options(n,e){n.setOptions(e)}};function qre({options:n,drawingMode:e,onCircleComplete:t,onMarkerComplete:r,onOverlayComplete:i,onPolygonComplete:s,onPolylineComplete:o,onRectangleComplete:a,onLoad:l,onUnmount:u}){const c=w.useContext(wt),[d,p]=w.useState(null),[g,y]=w.useState(null),[x,v]=w.useState(null),[m,S]=w.useState(null),[_,M]=w.useState(null),[P,C]=w.useState(null),[R,T]=w.useState(null);return w.useEffect(()=>{d!==null&&d.setMap(c)},[c]),w.useEffect(()=>{n&&d!==null&&d.setOptions(n)},[d,n]),w.useEffect(()=>{e&&d!==null&&d.setDrawingMode(e)},[d,e]),w.useEffect(()=>{d&&t&&(g!==null&&google.maps.event.removeListener(g),y(google.maps.event.addListener(d,"circlecomplete",t)))},[d,t]),w.useEffect(()=>{d&&r&&(x!==null&&google.maps.event.removeListener(x),v(google.maps.event.addListener(d,"markercomplete",r)))},[d,r]),w.useEffect(()=>{d&&i&&(m!==null&&google.maps.event.removeListener(m),S(google.maps.event.addListener(d,"overlaycomplete",i)))},[d,i]),w.useEffect(()=>{d&&s&&(_!==null&&google.maps.event.removeListener(_),M(google.maps.event.addListener(d,"polygoncomplete",s)))},[d,s]),w.useEffect(()=>{d&&o&&(P!==null&&google.maps.event.removeListener(P),C(google.maps.event.addListener(d,"polylinecomplete",o)))},[d,o]),w.useEffect(()=>{d&&a&&(R!==null&&google.maps.event.removeListener(R),T(google.maps.event.addListener(d,"rectanglecomplete",a)))},[d,a]),w.useEffect(()=>{ir(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);const E=new google.maps.drawing.DrawingManager(Object.assign(Object.assign({},n||{}),{map:c}));return e&&E.setDrawingMode(e),t&&y(google.maps.event.addListener(E,"circlecomplete",t)),r&&v(google.maps.event.addListener(E,"markercomplete",r)),i&&S(google.maps.event.addListener(E,"overlaycomplete",i)),s&&M(google.maps.event.addListener(E,"polygoncomplete",s)),o&&C(google.maps.event.addListener(E,"polylinecomplete",o)),a&&T(google.maps.event.addListener(E,"rectanglecomplete",a)),p(E),l&&l(E),()=>{d!==null&&(g&&google.maps.event.removeListener(g),x&&google.maps.event.removeListener(x),m&&google.maps.event.removeListener(m),_&&google.maps.event.removeListener(_),P&&google.maps.event.removeListener(P),R&&google.maps.event.removeListener(R),u&&u(d),d.setMap(null))}},[]),null}w.memo(qre);class eie extends w.PureComponent{constructor(e){super(e),this.registeredEvents=[],this.state={drawingManager:null},this.setDrawingManagerCallback=()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)},ir(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){const e=new google.maps.drawing.DrawingManager(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=Dt({updaterMap:EP,eventMap:MP,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(kt(this.registeredEvents),this.registeredEvents=Dt({updaterMap:EP,eventMap:MP,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),kt(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}eie.contextType=wt;const AP={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},CP={animation(n,e){n.setAnimation(e)},clickable(n,e){n.setClickable(e)},cursor(n,e){n.setCursor(e)},draggable(n,e){n.setDraggable(e)},icon(n,e){n.setIcon(e)},label(n,e){n.setLabel(e)},map(n,e){n.setMap(e)},opacity(n,e){n.setOpacity(e)},options(n,e){n.setOptions(e)},position(n,e){n.setPosition(e)},shape(n,e){n.setShape(e)},title(n,e){n.setTitle(e)},visible(n,e){n.setVisible(e)},zIndex(n,e){n.setZIndex(e)}},i0={};function tie({position:n,options:e,clusterer:t,noClustererRedraw:r,children:i,draggable:s,visible:o,animation:a,clickable:l,cursor:u,icon:c,label:d,opacity:p,shape:g,title:y,zIndex:x,onClick:v,onDblClick:m,onDrag:S,onDragEnd:_,onDragStart:M,onMouseOut:P,onMouseOver:C,onMouseUp:R,onMouseDown:T,onRightClick:E,onClickableChanged:A,onCursorChanged:B,onAnimationChanged:D,onDraggableChanged:U,onFlatChanged:H,onIconChanged:j,onPositionChanged:$,onShapeChanged:Z,onTitleChanged:k,onVisibleChanged:W,onZindexChanged:V,onLoad:ce,onUnmount:oe}){const re=w.useContext(wt),[q,we]=w.useState(null),[xe,se]=w.useState(null),[pe,N]=w.useState(null),[G,Y]=w.useState(null),[ae,te]=w.useState(null),[le,Re]=w.useState(null),[Ie,Ve]=w.useState(null),[Ke,We]=w.useState(null),[Ze,et]=w.useState(null),[J,z]=w.useState(null),[fe,Ce]=w.useState(null),[Be,ke]=w.useState(null),[rt,ue]=w.useState(null),[ee,me]=w.useState(null),[Ee,Le]=w.useState(null),[Ae,De]=w.useState(null),[Ue,ze]=w.useState(null),[ot,ie]=w.useState(null),[_e,Pe]=w.useState(null),[Fe,Xe]=w.useState(null),[Ct,Ht]=w.useState(null),[en,On]=w.useState(null);w.useEffect(()=>{q!==null&&q.setMap(re)},[re]),w.useEffect(()=>{typeof e<"u"&&q!==null&&q.setOptions(e)},[q,e]),w.useEffect(()=>{typeof s<"u"&&q!==null&&q.setDraggable(s)},[q,s]),w.useEffect(()=>{n&&q!==null&&q.setPosition(n)},[q,n]),w.useEffect(()=>{typeof o<"u"&&q!==null&&q.setVisible(o)},[q,o]),w.useEffect(()=>{a&&q!==null&&q.setAnimation(a)},[q,a]),w.useEffect(()=>{q&&m&&(xe!==null&&google.maps.event.removeListener(xe),se(google.maps.event.addListener(q,"dblclick",m)))},[m]),w.useEffect(()=>{q&&_&&(pe!==null&&google.maps.event.removeListener(pe),N(google.maps.event.addListener(q,"dragend",_)))},[_]),w.useEffect(()=>{q&&M&&(G!==null&&google.maps.event.removeListener(G),Y(google.maps.event.addListener(q,"dragstart",M)))},[M]),w.useEffect(()=>{q&&T&&(ae!==null&&google.maps.event.removeListener(ae),te(google.maps.event.addListener(q,"mousedown",T)))},[T]),w.useEffect(()=>{q&&P&&(le!==null&&google.maps.event.removeListener(le),Re(google.maps.event.addListener(q,"mouseout",P)))},[P]),w.useEffect(()=>{q&&C&&(Ie!==null&&google.maps.event.removeListener(Ie),Ve(google.maps.event.addListener(q,"mouseover",C)))},[C]),w.useEffect(()=>{q&&R&&(Ke!==null&&google.maps.event.removeListener(Ke),We(google.maps.event.addListener(q,"mouseup",R)))},[R]),w.useEffect(()=>{q&&E&&(Ze!==null&&google.maps.event.removeListener(Ze),et(google.maps.event.addListener(q,"rightclick",E)))},[E]),w.useEffect(()=>{q&&v&&(J!==null&&google.maps.event.removeListener(J),z(google.maps.event.addListener(q,"click",v)))},[v]),w.useEffect(()=>{q&&S&&(fe!==null&&google.maps.event.removeListener(fe),Ce(google.maps.event.addListener(q,"drag",S)))},[S]),w.useEffect(()=>{q&&A&&(Be!==null&&google.maps.event.removeListener(Be),ke(google.maps.event.addListener(q,"clickable_changed",A)))},[A]),w.useEffect(()=>{q&&B&&(rt!==null&&google.maps.event.removeListener(rt),ue(google.maps.event.addListener(q,"cursor_changed",B)))},[B]),w.useEffect(()=>{q&&D&&(ee!==null&&google.maps.event.removeListener(ee),me(google.maps.event.addListener(q,"animation_changed",D)))},[D]),w.useEffect(()=>{q&&U&&(Ee!==null&&google.maps.event.removeListener(Ee),Le(google.maps.event.addListener(q,"draggable_changed",U)))},[U]),w.useEffect(()=>{q&&H&&(Ae!==null&&google.maps.event.removeListener(Ae),De(google.maps.event.addListener(q,"flat_changed",H)))},[H]),w.useEffect(()=>{q&&j&&(Ue!==null&&google.maps.event.removeListener(Ue),ze(google.maps.event.addListener(q,"icon_changed",j)))},[j]),w.useEffect(()=>{q&&$&&(ot!==null&&google.maps.event.removeListener(ot),ie(google.maps.event.addListener(q,"position_changed",$)))},[$]),w.useEffect(()=>{q&&Z&&(_e!==null&&google.maps.event.removeListener(_e),Pe(google.maps.event.addListener(q,"shape_changed",Z)))},[Z]),w.useEffect(()=>{q&&k&&(Fe!==null&&google.maps.event.removeListener(Fe),Xe(google.maps.event.addListener(q,"title_changed",k)))},[k]),w.useEffect(()=>{q&&W&&(Ct!==null&&google.maps.event.removeListener(Ct),Ht(google.maps.event.addListener(q,"visible_changed",W)))},[W]),w.useEffect(()=>{q&&V&&(en!==null&&google.maps.event.removeListener(en),On(google.maps.event.addListener(q,"zindex_changed",V)))},[V]),w.useEffect(()=>{const hn=Object.assign(Object.assign(Object.assign({},e||i0),t?i0:{map:re}),{position:n}),Ye=new google.maps.Marker(hn);return t?t.addMarker(Ye,!!r):Ye.setMap(re),n&&Ye.setPosition(n),typeof o<"u"&&Ye.setVisible(o),typeof s<"u"&&Ye.setDraggable(s),typeof l<"u"&&Ye.setClickable(l),typeof u=="string"&&Ye.setCursor(u),c&&Ye.setIcon(c),typeof d<"u"&&Ye.setLabel(d),typeof p<"u"&&Ye.setOpacity(p),g&&Ye.setShape(g),typeof y=="string"&&Ye.setTitle(y),typeof x=="number"&&Ye.setZIndex(x),m&&se(google.maps.event.addListener(Ye,"dblclick",m)),_&&N(google.maps.event.addListener(Ye,"dragend",_)),M&&Y(google.maps.event.addListener(Ye,"dragstart",M)),T&&te(google.maps.event.addListener(Ye,"mousedown",T)),P&&Re(google.maps.event.addListener(Ye,"mouseout",P)),C&&Ve(google.maps.event.addListener(Ye,"mouseover",C)),R&&We(google.maps.event.addListener(Ye,"mouseup",R)),E&&et(google.maps.event.addListener(Ye,"rightclick",E)),v&&z(google.maps.event.addListener(Ye,"click",v)),S&&Ce(google.maps.event.addListener(Ye,"drag",S)),A&&ke(google.maps.event.addListener(Ye,"clickable_changed",A)),B&&ue(google.maps.event.addListener(Ye,"cursor_changed",B)),D&&me(google.maps.event.addListener(Ye,"animation_changed",D)),U&&Le(google.maps.event.addListener(Ye,"draggable_changed",U)),H&&De(google.maps.event.addListener(Ye,"flat_changed",H)),j&&ze(google.maps.event.addListener(Ye,"icon_changed",j)),$&&ie(google.maps.event.addListener(Ye,"position_changed",$)),Z&&Pe(google.maps.event.addListener(Ye,"shape_changed",Z)),k&&Xe(google.maps.event.addListener(Ye,"title_changed",k)),W&&Ht(google.maps.event.addListener(Ye,"visible_changed",W)),V&&On(google.maps.event.addListener(Ye,"zindex_changed",V)),we(Ye),ce&&ce(Ye),()=>{xe!==null&&google.maps.event.removeListener(xe),pe!==null&&google.maps.event.removeListener(pe),G!==null&&google.maps.event.removeListener(G),ae!==null&&google.maps.event.removeListener(ae),le!==null&&google.maps.event.removeListener(le),Ie!==null&&google.maps.event.removeListener(Ie),Ke!==null&&google.maps.event.removeListener(Ke),Ze!==null&&google.maps.event.removeListener(Ze),J!==null&&google.maps.event.removeListener(J),Be!==null&&google.maps.event.removeListener(Be),rt!==null&&google.maps.event.removeListener(rt),ee!==null&&google.maps.event.removeListener(ee),Ee!==null&&google.maps.event.removeListener(Ee),Ae!==null&&google.maps.event.removeListener(Ae),Ue!==null&&google.maps.event.removeListener(Ue),ot!==null&&google.maps.event.removeListener(ot),Fe!==null&&google.maps.event.removeListener(Fe),Ct!==null&&google.maps.event.removeListener(Ct),en!==null&&google.maps.event.removeListener(en),oe&&oe(Ye),t?t.removeMarker(Ye,!!r):Ye&&Ye.setMap(null)}},[]);const Qt=w.useMemo(()=>i?w.Children.map(i,hn=>{if(!w.isValidElement(hn))return hn;const Ye=hn;return w.cloneElement(Ye,{anchor:q})}):null,[i,q]);return F.jsx(F.Fragment,{children:Qt})||null}w.memo(tie);class cv extends w.PureComponent{constructor(){super(...arguments),this.registeredEvents=[]}componentDidMount(){const e=Object.assign(Object.assign(Object.assign({},this.props.options||i0),this.props.clusterer?i0:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(e),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=Dt({updaterMap:CP,eventMap:AP,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)}componentDidUpdate(e){this.marker&&(kt(this.registeredEvents),this.registeredEvents=Dt({updaterMap:CP,eventMap:AP,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),kt(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){let e=null;return this.props.children&&(e=w.Children.map(this.props.children,t=>{if(!w.isValidElement(t))return t;const r=t;return w.cloneElement(r,{anchor:this.marker})})),e||null}}cv.contextType=wt;var nie=function(){function n(e,t){e.getClusterer().extend(n,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=t,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return n.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},n.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},n.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var r=t.getMaxZoom(),i=this.cluster.getBounds(),s=t.getMap();s!==null&&"fitBounds"in s&&s.fitBounds(i),this.timeOut=window.setTimeout(function(){var o=t.getMap();if(o!==null){"fitBounds"in o&&o.fitBounds(i);var a=o.getZoom()||0;r!==null&&a>r&&o.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},n.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},n.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},n.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();t!==null&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},n.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},n.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},n.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},n.prototype.show=function(){var e,t,r,i;if(this.div&&this.center){var s=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,o=this.backgroundPosition.split(" "),a=parseInt(o[0].replace(/^\s+|\s+$/g,""),10),l=parseInt(o[1].replace(/^\s+|\s+$/g,""),10),u=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(u!==null?"".concat(u.y,"px"):"0","; left: ").concat(u!==null?"".concat(u.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var c=document.createElement("img");c.alt=s,c.src=this.url,c.width=this.width,c.height=this.height,c.setAttribute("style","position: absolute; top: ".concat(l,"px; left: ").concat(a,"px")),this.cluster.getClusterer().enableRetinaIcons||(c.style.clip="rect(-".concat(l,"px, -").concat(a+this.width,"px, -").concat(l+this.height,", -").concat(a,")"));var d=document.createElement("div");d.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((e=this.sums)===null||e===void 0)&&e.text&&(d.innerText="".concat((t=this.sums)===null||t===void 0?void 0:t.text)),!((r=this.sums)===null||r===void 0)&&r.html&&(d.innerHTML="".concat((i=this.sums)===null||i===void 0?void 0:i.html)),this.div.innerHTML="",this.div.appendChild(c),this.div.appendChild(d),this.div.title=s,this.div.style.display=""}this.visible=!0},n.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),r=t[Math.min(t.length-1,Math.max(0,e.index-1))];this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0"},n.prototype.setCenter=function(e){this.center=e},n.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t!==null&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},n}(),rie=function(){function n(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new nie(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return n.prototype.getSize=function(){return this.markers.length},n.prototype.getMarkers=function(){return this.markers},n.prototype.getCenter=function(){return this.center},n.prototype.getMap=function(){return this.map},n.prototype.getClusterer=function(){return this.markerClusterer},n.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=this.getMarkers(),r=0;r<t.length;r++){var i=t[r].getPosition();i&&e.extend(i)}return e},n.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},n.prototype.addMarker=function(e){var t;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+r.lat())/i,(this.center.lng()*(i-1)+r.lng())/i),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var s=this.markers.length,o=this.markerClusterer.getMaxZoom(),a=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(o!==null&&typeof a<"u"&&a>o)e.getMap()!==this.map&&e.setMap(this.map);else if(s<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(s===this.minClusterSize)for(var l=0;l<s;l++)this.markers[l].setMap(null);else e.setMap(null);return!0},n.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},n.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},n.prototype.updateIcon=function(){var e,t=this.markers.length,r=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof i<"u"&&i>r){this.clusterIcon.hide();return}if(t<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},n.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},n}();function iie(n,e){var t=n.length,r=t.toString().length,i=Math.min(r,e);return{text:t.toString(),index:i,title:""}}var sie=2e3,oie=500,aie="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",lie="png",uie=[53,56,66,78,90],cie="cluster",z4=function(){function n(e,t,r){t===void 0&&(t=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.extend=this.extend.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend(n,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||aie,this.imageExtension=r.imageExtension||lie,this.imageSizes=r.imageSizes||uie,this.calculator=r.calculator||iie,this.batchSize=r.batchSize||sie,this.batchSizeIE=r.batchSizeIE||oie,this.clusterClass=r.clusterClass||cie,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(t,!0),this.setMap(e)}return n.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},n.prototype.onIdle=function(){this.redraw()},n.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},n.prototype.onRemove=function(){for(var e=0;e<this.markers.length;e++)this.markers[e].getMap()!==this.activeMap&&this.markers[e].setMap(this.activeMap);for(var e=0;e<this.clusters.length;e++)this.clusters[e].remove();this.clusters=[];for(var e=0;e<this.listeners.length;e++)google.maps.event.removeListener(this.listeners[e]);this.listeners=[],this.activeMap=null,this.ready=!1},n.prototype.draw=function(){},n.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e],width:this.imageSizes[e]})},n.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,r=0;r<e.length;r++){var i=e[r].getPosition();i&&t.extend(i)}var s=this.getMap();s!==null&&"fitBounds"in s&&s.fitBounds(t)},n.prototype.getGridSize=function(){return this.gridSize},n.prototype.setGridSize=function(e){this.gridSize=e},n.prototype.getMinimumClusterSize=function(){return this.minClusterSize},n.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.setMaxZoom=function(e){this.maxZoom=e},n.prototype.getStyles=function(){return this.styles},n.prototype.setStyles=function(e){this.styles=e},n.prototype.getTitle=function(){return this.title},n.prototype.setTitle=function(e){this.title=e},n.prototype.getZoomOnClick=function(){return this.zoomOnClick},n.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},n.prototype.getAverageCenter=function(){return this.averageCenter},n.prototype.setAverageCenter=function(e){this.averageCenter=e},n.prototype.getIgnoreHidden=function(){return this.ignoreHidden},n.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},n.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},n.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},n.prototype.getImageExtension=function(){return this.imageExtension},n.prototype.setImageExtension=function(e){this.imageExtension=e},n.prototype.getImagePath=function(){return this.imagePath},n.prototype.setImagePath=function(e){this.imagePath=e},n.prototype.getImageSizes=function(){return this.imageSizes},n.prototype.setImageSizes=function(e){this.imageSizes=e},n.prototype.getCalculator=function(){return this.calculator},n.prototype.setCalculator=function(e){this.calculator=e},n.prototype.getBatchSizeIE=function(){return this.batchSizeIE},n.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},n.prototype.getClusterClass=function(){return this.clusterClass},n.prototype.setClusterClass=function(e){this.clusterClass=e},n.prototype.getMarkers=function(){return this.markers},n.prototype.getTotalMarkers=function(){return this.markers.length},n.prototype.getClusters=function(){return this.clusters},n.prototype.getTotalClusters=function(){return this.clusters.length},n.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},n.prototype.addMarkers=function(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.pushMarkerTo(e[r]);t||this.redraw()},n.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){t.ready&&(e.isAdded=!1,t.repaint())}),e.isAdded=!1,this.markers.push(e)},n.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){t=r;break}return t===-1?!1:(e.setMap(null),this.markers.splice(t,1),!0)},n.prototype.removeMarker=function(e,t){var r=this.removeMarker_(e);return!t&&r&&this.repaint(),r},n.prototype.removeMarkers=function(e,t){for(var r=!1,i=0;i<e.length;i++)r=r||this.removeMarker_(e[i]);return!t&&r&&this.repaint(),r},n.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},n.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0;r<e.length;r++)e[r].remove()},0)},n.prototype.getExtendedBounds=function(e){var t=this.getProjection(),r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var i=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),r!==null){var s=t.fromDivPixelToLatLng(r);s!==null&&e.extend(s)}if(i!==null){var o=t.fromDivPixelToLatLng(i);o!==null&&e.extend(o)}return e},n.prototype.redraw=function(){this.createClusters(0)},n.prototype.resetViewport=function(e){for(var t=0;t<this.clusters.length;t++)this.clusters[t].remove();this.clusters=[];for(var t=0;t<this.markers.length;t++){var r=this.markers[t];r.isAdded=!1,e&&r.setMap(null)}},n.prototype.distanceBetweenPoints=function(e,t){var r=6371,i=(t.lat()-e.lat())*Math.PI/180,s=(t.lng()-e.lng())*Math.PI/180,o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return r*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},n.prototype.isMarkerInBounds=function(e,t){var r=e.getPosition();return r?t.contains(r):!1},n.prototype.addToClosestCluster=function(e){for(var t,r=4e4,i=null,s=0;s<this.clusters.length;s++){t=this.clusters[s];var o=t.getCenter(),a=e.getPosition();if(o&&a){var l=this.distanceBetweenPoints(o,a);l<r&&(r=l,i=t)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(t=new rie(this),t.addMarker(e),this.clusters.push(t))},n.prototype.createClusters=function(e){var t=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),i=r!==null&&("getBounds"in r)?r.getBounds():null,s=(r==null?void 0:r.getZoom())||0,o=s>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(o),l=Math.min(e+this.batchSize,this.markers.length),u=e;u<l;u++){var c=this.markers[u];!c.isAdded&&this.isMarkerInBounds(c,a)&&(!this.ignoreHidden||this.ignoreHidden&&c.getVisible())&&this.addToClosestCluster(c)}if(l<this.markers.length)this.timerRefStatic=window.setTimeout(function(){t.createClusters(l)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var u=0;u<this.clusters.length;u++)this.clusters[u].updateIcon()}}},n.prototype.extend=function(e,t){return function(i){for(var s in i.prototype)this.prototype[s]=i.prototype[s];return this}.apply(e,[t])},n}();const $i={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Kt={averageCenter(n,e){n.setAverageCenter(e)},batchSizeIE(n,e){n.setBatchSizeIE(e)},calculator(n,e){n.setCalculator(e)},clusterClass(n,e){n.setClusterClass(e)},enableRetinaIcons(n,e){n.setEnableRetinaIcons(e)},gridSize(n,e){n.setGridSize(e)},ignoreHidden(n,e){n.setIgnoreHidden(e)},imageExtension(n,e){n.setImageExtension(e)},imagePath(n,e){n.setImagePath(e)},imageSizes(n,e){n.setImageSizes(e)},maxZoom(n,e){n.setMaxZoom(e)},minimumClusterSize(n,e){n.setMinimumClusterSize(e)},styles(n,e){n.setStyles(e)},title(n,e){n.setTitle(e)},zoomOnClick(n,e){n.setZoomOnClick(e)}},fie={};function die(n){const{children:e,options:t,averageCenter:r,batchSizeIE:i,calculator:s,clusterClass:o,enableRetinaIcons:a,gridSize:l,ignoreHidden:u,imageExtension:c,imagePath:d,imageSizes:p,maxZoom:g,minimumClusterSize:y,styles:x,title:v,zoomOnClick:m,onClick:S,onClusteringBegin:_,onClusteringEnd:M,onMouseOver:P,onMouseOut:C,onLoad:R,onUnmount:T}=n,[E,A]=w.useState(null),B=w.useContext(wt),[D,U]=w.useState(null),[H,j]=w.useState(null),[$,Z]=w.useState(null),[k,W]=w.useState(null),[V,ce]=w.useState(null);return w.useEffect(()=>{E&&C&&(k!==null&&google.maps.event.removeListener(k),W(google.maps.event.addListener(E,$i.onMouseOut,C)))},[C]),w.useEffect(()=>{E&&P&&(V!==null&&google.maps.event.removeListener(V),ce(google.maps.event.addListener(E,$i.onMouseOver,P)))},[P]),w.useEffect(()=>{E&&S&&(D!==null&&google.maps.event.removeListener(D),U(google.maps.event.addListener(E,$i.onClick,S)))},[S]),w.useEffect(()=>{E&&_&&(H!==null&&google.maps.event.removeListener(H),j(google.maps.event.addListener(E,$i.onClusteringBegin,_)))},[_]),w.useEffect(()=>{E&&M&&($!==null&&google.maps.event.removeListener($),j(google.maps.event.addListener(E,$i.onClusteringEnd,M)))},[M]),w.useEffect(()=>{typeof r<"u"&&E!==null&&Kt.averageCenter(E,r)},[E,r]),w.useEffect(()=>{typeof i<"u"&&E!==null&&Kt.batchSizeIE(E,i)},[E,i]),w.useEffect(()=>{typeof s<"u"&&E!==null&&Kt.calculator(E,s)},[E,s]),w.useEffect(()=>{typeof o<"u"&&E!==null&&Kt.clusterClass(E,o)},[E,o]),w.useEffect(()=>{typeof a<"u"&&E!==null&&Kt.enableRetinaIcons(E,a)},[E,a]),w.useEffect(()=>{typeof l<"u"&&E!==null&&Kt.gridSize(E,l)},[E,l]),w.useEffect(()=>{typeof u<"u"&&E!==null&&Kt.ignoreHidden(E,u)},[E,u]),w.useEffect(()=>{typeof c<"u"&&E!==null&&Kt.imageExtension(E,c)},[E,c]),w.useEffect(()=>{typeof d<"u"&&E!==null&&Kt.imagePath(E,d)},[E,d]),w.useEffect(()=>{typeof p<"u"&&E!==null&&Kt.imageSizes(E,p)},[E,p]),w.useEffect(()=>{typeof g<"u"&&E!==null&&Kt.maxZoom(E,g)},[E,g]),w.useEffect(()=>{typeof y<"u"&&E!==null&&Kt.minimumClusterSize(E,y)},[E,y]),w.useEffect(()=>{typeof x<"u"&&E!==null&&Kt.styles(E,x)},[E,x]),w.useEffect(()=>{typeof v<"u"&&E!==null&&Kt.title(E,v)},[E,v]),w.useEffect(()=>{typeof m<"u"&&E!==null&&Kt.zoomOnClick(E,m)},[E,m]),w.useEffect(()=>{if(!B)return;const oe=Object.assign({},t||fie),re=new z4(B,[],oe);return r&&Kt.averageCenter(re,r),i&&Kt.batchSizeIE(re,i),s&&Kt.calculator(re,s),o&&Kt.clusterClass(re,o),a&&Kt.enableRetinaIcons(re,a),l&&Kt.gridSize(re,l),u&&Kt.ignoreHidden(re,u),c&&Kt.imageExtension(re,c),d&&Kt.imagePath(re,d),p&&Kt.imageSizes(re,p),g&&Kt.maxZoom(re,g),y&&Kt.minimumClusterSize(re,y),x&&Kt.styles(re,x),v&&Kt.title(re,v),m&&Kt.zoomOnClick(re,m),C&&W(google.maps.event.addListener(re,$i.onMouseOut,C)),P&&ce(google.maps.event.addListener(re,$i.onMouseOver,P)),S&&U(google.maps.event.addListener(re,$i.onClick,S)),_&&j(google.maps.event.addListener(re,$i.onClusteringBegin,_)),M&&Z(google.maps.event.addListener(re,$i.onClusteringEnd,M)),A(re),R&&R(re),()=>{k!==null&&google.maps.event.removeListener(k),V!==null&&google.maps.event.removeListener(V),D!==null&&google.maps.event.removeListener(D),H!==null&&google.maps.event.removeListener(H),$!==null&&google.maps.event.removeListener($),T&&T(re)}},[]),E!==null&&e(E)||null}w.memo(die);class hie extends w.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={markerClusterer:null},this.setClustererCallback=()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)}}componentDidMount(){if(this.context){const e=new z4(this.context,[],this.props.options);this.registeredEvents=Dt({updaterMap:Kt,eventMap:$i,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(kt(this.registeredEvents),this.registeredEvents=Dt({updaterMap:Kt,eventMap:$i,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),kt(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}hie.contextType=wt;function TP(n){n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation()}var H4=function(){function n(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(n,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return n.prototype.createInfoBoxDiv=function(){var e=this,t=function(a){a.returnValue=!1,a.preventDefault&&a.preventDefault(),e.enableEventPropagation||TP(a)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var s=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],o=0;o<s.length;o++)this.eventListeners.push(google.maps.event.addListener(this.div,s[o],TP));this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",t),google.maps.event.trigger(this,"domready")}},n.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},n.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},n.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},n.prototype.getCloseClickHandler=function(){return this.closeClickHandler},n.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var r=0,i=0,s=t.getBounds();s&&!s.contains(this.position)&&t.setCenter(this.position);var o=t.getDiv(),a=o.offsetWidth,l=o.offsetHeight,u=this.pixelOffset.width,c=this.pixelOffset.height,d=this.div.offsetWidth,p=this.div.offsetHeight,g=this.infoBoxClearance.width,y=this.infoBoxClearance.height,x=this.getProjection(),v=x.fromLatLngToContainerPixel(this.position);v!==null&&(v.x<-u+g?r=v.x+u-g:v.x+d+u+g>a&&(r=v.x+d+u+g-a),this.alignBottom?v.y<-c+y+p?i=v.y+c-y-p:v.y+c+y>l&&(i=v.y+c+y-l):v.y<-c+y?i=v.y+c-y:v.y+p+c+y>l&&(i=v.y+p+c+y-l)),r===0&&i===0||t.panBy(r,i)}}},n.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},n.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,r=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},n.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},n.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.position);t!==null&&(this.div.style.left=t.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(t.y+this.pixelOffset.height)+"px":this.div.style.top=t.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},n.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},n.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},n.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},n.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},n.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},n.prototype.getContent=function(){return this.content},n.prototype.getPosition=function(){return this.position},n.prototype.getZIndex=function(){return this.zIndex},n.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},n.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},n.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},n.prototype.open=function(e,t){var r=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",function(){var i=t.getPosition();r.setPosition(i)}),this.mapListener=google.maps.event.addListener(t,"map_changed",function(){r.setMap(t.map)})),this.setMap(e),this.div&&this.panBox()},n.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0;e<this.eventListeners.length;e++)google.maps.event.removeListener(this.eventListeners[e]);this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},n.prototype.extend=function(e,t){return function(i){for(var s in i.prototype)Object.prototype.hasOwnProperty.call(this,s)||(this.prototype[s]=i.prototype[s]);return this}.apply(e,[t])},n}();const LP={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},PP={options(n,e){n.setOptions(e)},position(n,e){e instanceof google.maps.LatLng?n.setPosition(e):n.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(n,e){n.setVisible(e)},zIndex(n,e){n.setZIndex(e)}},pie={};function mie({children:n,anchor:e,options:t,position:r,zIndex:i,onCloseClick:s,onDomReady:o,onContentChanged:a,onPositionChanged:l,onZindexChanged:u,onLoad:c,onUnmount:d}){const p=w.useContext(wt),[g,y]=w.useState(null),[x,v]=w.useState(null),[m,S]=w.useState(null),[_,M]=w.useState(null),[P,C]=w.useState(null),[R,T]=w.useState(null),E=w.useRef(null);return w.useEffect(()=>{p&&g!==null&&(g.close(),e?g.open(p,e):g.getPosition()&&g.open(p))},[p,g,e]),w.useEffect(()=>{t&&g!==null&&g.setOptions(t)},[g,t]),w.useEffect(()=>{if(r&&g!==null){const A=r instanceof google.maps.LatLng?r:new google.maps.LatLng(r.lat,r.lng);g.setPosition(A)}},[r]),w.useEffect(()=>{typeof i=="number"&&g!==null&&g.setZIndex(i)},[i]),w.useEffect(()=>{g&&s&&(x!==null&&google.maps.event.removeListener(x),v(google.maps.event.addListener(g,"closeclick",s)))},[s]),w.useEffect(()=>{g&&o&&(m!==null&&google.maps.event.removeListener(m),S(google.maps.event.addListener(g,"domready",o)))},[o]),w.useEffect(()=>{g&&a&&(_!==null&&google.maps.event.removeListener(_),M(google.maps.event.addListener(g,"content_changed",a)))},[a]),w.useEffect(()=>{g&&l&&(P!==null&&google.maps.event.removeListener(P),C(google.maps.event.addListener(g,"position_changed",l)))},[l]),w.useEffect(()=>{g&&u&&(R!==null&&google.maps.event.removeListener(R),T(google.maps.event.addListener(g,"zindex_changed",u)))},[u]),w.useEffect(()=>{if(p){const A=t||pie,{position:B}=A,D=uE(A,["position"]);let U;B&&!(B instanceof google.maps.LatLng)&&(U=new google.maps.LatLng(B.lat,B.lng));const H=new H4(Object.assign(Object.assign({},D),U?{position:U}:{}));E.current=document.createElement("div"),y(H),s&&v(google.maps.event.addListener(H,"closeclick",s)),o&&S(google.maps.event.addListener(H,"domready",o)),a&&M(google.maps.event.addListener(H,"content_changed",a)),l&&C(google.maps.event.addListener(H,"position_changed",l)),u&&T(google.maps.event.addListener(H,"zindex_changed",u)),H.setContent(E.current),e?H.open(p,e):H.getPosition()?H.open(p):ir(!1,"You must provide either an anchor or a position prop for <InfoBox>."),c&&c(H)}return()=>{g!==null&&(x&&google.maps.event.removeListener(x),_&&google.maps.event.removeListener(_),m&&google.maps.event.removeListener(m),P&&google.maps.event.removeListener(P),R&&google.maps.event.removeListener(R),d&&d(g),g.close())}},[]),E.current?ta.createPortal(w.Children.only(n),E.current):null}w.memo(mie);class gie extends w.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.containerElement=null,this.state={infoBox:null},this.open=(e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):ir(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},this.setInfoBoxCallback=()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))}}componentDidMount(){const e=this.props.options||{},{position:t}=e,r=uE(e,["position"]);let i;t&&!(t instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(t.lat,t.lng));const s=new H4(Object.assign(Object.assign({},r),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Dt({updaterMap:PP,eventMap:LP,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)}componentDidUpdate(e){const{infoBox:t}=this.state;t!==null&&(kt(this.registeredEvents),this.registeredEvents=Dt({updaterMap:PP,eventMap:LP,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){const{onUnmount:e}=this.props,{infoBox:t}=this.state;t!==null&&(e&&e(t),kt(this.registeredEvents),t.close())}render(){return this.containerElement?ta.createPortal(w.Children.only(this.props.children),this.containerElement):null}}gie.contextType=wt;var RP=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!n(e[o],t[o]))return!1}return!0}return e!==e&&t!==t},G4={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(Rre,function(){function t(p,g,y,x,v,m){if(!(v-x<=y)){var S=x+v>>1;r(p,g,S,x,v,m%2),t(p,g,y,x,S-1,m+1),t(p,g,y,S+1,v,m+1)}}function r(p,g,y,x,v,m){for(;v>x;){if(v-x>600){var S=v-x+1,_=y-x+1,M=Math.log(S),P=.5*Math.exp(2*M/3),C=.5*Math.sqrt(M*P*(S-P)/S)*(_-S/2<0?-1:1),R=Math.max(x,Math.floor(y-_*P/S+C)),T=Math.min(v,Math.floor(y+(S-_)*P/S+C));r(p,g,y,R,T,m)}var E=g[2*y+m],A=x,B=v;for(i(p,g,x,y),g[2*v+m]>E&&i(p,g,x,v);A<B;){for(i(p,g,A,B),A++,B--;g[2*A+m]<E;)A++;for(;g[2*B+m]>E;)B--}g[2*x+m]===E?i(p,g,x,B):(B++,i(p,g,B,v)),B<=y&&(x=B+1),y<=B&&(v=B-1)}}function i(p,g,y,x){s(p,y,x),s(g,2*y,2*x),s(g,2*y+1,2*x+1)}function s(p,g,y){var x=p[g];p[g]=p[y],p[y]=x}function o(p,g,y,x,v,m,S){for(var _=[0,p.length-1,0],M=[],P,C;_.length;){var R=_.pop(),T=_.pop(),E=_.pop();if(T-E<=S){for(var A=E;A<=T;A++)P=g[2*A],C=g[2*A+1],P>=y&&P<=v&&C>=x&&C<=m&&M.push(p[A]);continue}var B=Math.floor((E+T)/2);P=g[2*B],C=g[2*B+1],P>=y&&P<=v&&C>=x&&C<=m&&M.push(p[B]);var D=(R+1)%2;(R===0?y<=P:x<=C)&&(_.push(E),_.push(B-1),_.push(D)),(R===0?v>=P:m>=C)&&(_.push(B+1),_.push(T),_.push(D))}return M}function a(p,g,y,x,v,m){for(var S=[0,p.length-1,0],_=[],M=v*v;S.length;){var P=S.pop(),C=S.pop(),R=S.pop();if(C-R<=m){for(var T=R;T<=C;T++)l(g[2*T],g[2*T+1],y,x)<=M&&_.push(p[T]);continue}var E=Math.floor((R+C)/2),A=g[2*E],B=g[2*E+1];l(A,B,y,x)<=M&&_.push(p[E]);var D=(P+1)%2;(P===0?y-v<=A:x-v<=B)&&(S.push(R),S.push(E-1),S.push(D)),(P===0?y+v>=A:x+v>=B)&&(S.push(E+1),S.push(C),S.push(D))}return _}function l(p,g,y,x){var v=p-y,m=g-x;return v*v+m*m}var u=function(p){return p[0]},c=function(p){return p[1]},d=function(g,y,x,v,m){y===void 0&&(y=u),x===void 0&&(x=c),v===void 0&&(v=64),m===void 0&&(m=Float64Array),this.nodeSize=v,this.points=g;for(var S=g.length<65536?Uint16Array:Uint32Array,_=this.ids=new S(g.length),M=this.coords=new m(g.length*2),P=0;P<g.length;P++)_[P]=P,M[2*P]=y(g[P]),M[2*P+1]=x(g[P]);t(_,M,v,0,_.length-1,0)};return d.prototype.range=function(g,y,x,v){return o(this.ids,this.coords,g,y,x,v,this.nodeSize)},d.prototype.within=function(g,y,x){return a(this.ids,this.coords,g,y,x,this.nodeSize)},d})})(G4);var IP=G4.exports;const vie={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:n=>n},s0=Math.fround||(n=>e=>(n[0]=+e,n[0]))(new Float32Array(1));class yie{constructor(e){this.options=uh(Object.create(vie),e),this.trees=new Array(this.options.maxZoom+1)}load(e){const{log:t,minZoom:r,maxZoom:i,nodeSize:s}=this.options;t&&console.time("total time");const o=`prepare ${e.length} points`;t&&console.time(o),this.points=e;let a=[];for(let l=0;l<e.length;l++)e[l].geometry&&a.push(_ie(e[l],l));this.trees[i+1]=new IP(a,DP,OP,s,Float32Array),t&&console.timeEnd(o);for(let l=i;l>=r;l--){const u=+Date.now();a=this._cluster(a,l),this.trees[l]=new IP(a,DP,OP,s,Float32Array),t&&console.log("z%d: %d clusters in %dms",l,a.length,+Date.now()-u)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let r=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let s=e[2]===180?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,s=180;else if(r>s){const c=this.getClusters([r,i,180,o],t),d=this.getClusters([-180,i,s,o],t);return c.concat(d)}const a=this.trees[this._limitZoom(t)],l=a.range(fv(r),dv(o),fv(s),dv(i)),u=[];for(const c of l){const d=a.points[c];u.push(d.numPoints?BP(d):this.points[d.index])}return u}getChildren(e){const t=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",s=this.trees[r];if(!s)throw new Error(i);const o=s.points[t];if(!o)throw new Error(i);const a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),l=s.within(o.x,o.y,a),u=[];for(const c of l){const d=s.points[c];d.parentId===e&&u.push(d.numPoints?BP(d):this.points[d.index])}if(u.length===0)throw new Error(i);return u}getLeaves(e,t,r){t=t||10,r=r||0;const i=[];return this._appendLeaves(i,e,t,r,0),i}getTile(e,t,r){const i=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:o,radius:a}=this.options,l=a/o,u=(r-l)/s,c=(r+1+l)/s,d={features:[]};return this._addTileFeatures(i.range((t-l)/s,u,(t+1+l)/s,c),i.points,t,r,s,d),t===0&&this._addTileFeatures(i.range(1-l/s,u,1,c),i.points,s,r,s,d),t===s-1&&this._addTileFeatures(i.range(0,u,l/s,c),i.points,-1,r,s,d),d.features.length?d:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const r=this.getChildren(e);if(t++,r.length!==1)break;e=r[0].properties.cluster_id}return t}_appendLeaves(e,t,r,i,s){const o=this.getChildren(t);for(const a of o){const l=a.properties;if(l&&l.cluster?s+l.point_count<=i?s+=l.point_count:s=this._appendLeaves(e,l.cluster_id,r,i,s):s<i?s++:e.push(a),e.length===r)break}return s}_addTileFeatures(e,t,r,i,s,o){for(const a of e){const l=t[a],u=l.numPoints;let c,d,p;if(u)c=V4(l),d=l.x,p=l.y;else{const x=this.points[l.index];c=x.properties,d=fv(x.geometry.coordinates[0]),p=dv(x.geometry.coordinates[1])}const g={type:1,geometry:[[Math.round(this.options.extent*(d*s-r)),Math.round(this.options.extent*(p*s-i))]],tags:c};let y;u?y=l.id:this.options.generateId?y=l.index:this.points[l.index].id&&(y=this.points[l.index].id),y!==void 0&&(g.id=y),o.features.push(g)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))}_cluster(e,t){const r=[],{radius:i,extent:s,reduce:o,minPoints:a}=this.options,l=i/(s*Math.pow(2,t));for(let u=0;u<e.length;u++){const c=e[u];if(c.zoom<=t)continue;c.zoom=t;const d=this.trees[t+1],p=d.within(c.x,c.y,l),g=c.numPoints||1;let y=g;for(const x of p){const v=d.points[x];v.zoom>t&&(y+=v.numPoints||1)}if(y>g&&y>=a){let x=c.x*g,v=c.y*g,m=o&&g>1?this._map(c,!0):null;const S=(u<<5)+(t+1)+this.points.length;for(const _ of p){const M=d.points[_];if(M.zoom<=t)continue;M.zoom=t;const P=M.numPoints||1;x+=M.x*P,v+=M.y*P,M.parentId=S,o&&(m||(m=this._map(c,!0)),o(m,this._map(M)))}c.parentId=S,r.push(xie(x/y,v/y,S,y,m))}else if(r.push(c),y>1)for(const x of p){const v=d.points[x];v.zoom<=t||(v.zoom=t,r.push(v))}}return r}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t){if(e.numPoints)return t?uh({},e.properties):e.properties;const r=this.points[e.index].properties,i=this.options.map(r);return t&&i===r?uh({},i):i}}function xie(n,e,t,r,i){return{x:s0(n),y:s0(e),zoom:1/0,id:t,parentId:-1,numPoints:r,properties:i}}function _ie(n,e){const[t,r]=n.geometry.coordinates;return{x:s0(fv(t)),y:s0(dv(r)),zoom:1/0,index:e,parentId:-1}}function BP(n){return{type:"Feature",id:n.id,properties:V4(n),geometry:{type:"Point",coordinates:[Sie(n.x),wie(n.y)]}}}function V4(n){const e=n.numPoints,t=e>=1e4?`${Math.round(e/1e3)}k`:e>=1e3?`${Math.round(e/100)/10}k`:e;return uh(uh({},n.properties),{cluster:!0,cluster_id:n.id,point_count:e,point_count_abbreviated:t})}function fv(n){return n/360+.5}function dv(n){const e=Math.sin(n*Math.PI/180),t=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return t<0?0:t>1?1:t}function Sie(n){return(n-.5)*360}function wie(n){const e=(180-n*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function uh(n,e){for(const t in e)n[t]=e[t];return n}function DP(n){return n.x}function OP(n){return n.y}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function bie(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}class Iw{constructor({markers:e,position:t}){this.markers=e,t&&(t instanceof google.maps.LatLng?this._position=t:this._position=new google.maps.LatLng(t))}get bounds(){if(!(this.markers.length===0&&!this._position))return this.markers.reduce((e,t)=>e.extend(t.getPosition()),new google.maps.LatLngBounds(this._position,this._position))}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>e.getVisible()).length}push(e){this.markers.push(e)}delete(){this.marker&&(this.marker.setMap(null),delete this.marker),this.markers.length=0}}class Mie{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return Eie(e)}}const Eie=n=>n.map(t=>new Iw({position:t.getPosition(),markers:[t]}));class Aie extends Mie{constructor(e){var{maxZoom:t,radius:r=60}=e,i=bie(e,["maxZoom","radius"]);super({maxZoom:t}),this.superCluster=new yie(Object.assign({maxZoom:this.maxZoom,radius:r},i)),this.state={zoom:null}}calculate(e){let t=!1;if(!RP(e.markers,this.markers)){t=!0,this.markers=[...e.markers];const i=this.markers.map(s=>({type:"Feature",geometry:{type:"Point",coordinates:[s.getPosition().lng(),s.getPosition().lat()]},properties:{marker:s}}));this.superCluster.load(i)}const r={zoom:e.map.getZoom()};return t||this.state.zoom>this.maxZoom&&r.zoom>this.maxZoom||(t=t||!RP(this.state,r)),this.state=r,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(this.transformCluster.bind(this))}transformCluster({geometry:{coordinates:[e,t]},properties:r}){if(r.cluster)return new Iw({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(i=>i.properties.marker),position:new google.maps.LatLng({lat:t,lng:e})});{const i=r.marker;return new Iw({markers:[i],position:i.getPosition()})}}}class Cie{constructor(e,t){this.markers={sum:e.length};const r=t.map(s=>s.count),i=r.reduce((s,o)=>s+o,0);this.clusters={count:t.length,markers:{mean:i/t.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class Tie{render({count:e,position:t},r){const i=e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff",s=window.btoa(`
  <svg fill="${i}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240">
    <circle cx="120" cy="120" opacity=".6" r="70" />
    <circle cx="120" cy="120" opacity=".3" r="90" />
    <circle cx="120" cy="120" opacity=".2" r="110" />
  </svg>`);return new google.maps.Marker({position:t,icon:{url:`data:image/svg+xml;base64,${s}`,scaledSize:new google.maps.Size(45,45)},label:{text:String(e),color:"rgba(255,255,255,0.9)",fontSize:"12px"},title:`Cluster of ${e} markers`,zIndex:Number(google.maps.Marker.MAX_ZINDEX)+e})}}function Lie(n,e){for(let t in e.prototype)n.prototype[t]=e.prototype[t]}class fE{constructor(){Lie(fE,google.maps.OverlayView)}}var ch;(function(n){n.CLUSTERING_BEGIN="clusteringbegin",n.CLUSTERING_END="clusteringend",n.CLUSTER_CLICK="click"})(ch||(ch={}));const Pie=(n,e,t)=>{t.fitBounds(e.bounds)};class Rie extends fE{constructor({map:e,markers:t=[],algorithm:r=new Aie({}),renderer:i=new Tie,onClusterClick:s=Pie}){super(),this.markers=[...t],this.clusters=[],this.algorithm=r,this.renderer=i,this.onClusterClick=s,e&&this.setMap(e)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(r=>{this.addMarker(r,!0)}),t||this.render()}removeMarker(e,t){const r=this.markers.indexOf(e);return r===-1?!1:(e.setMap(null),this.markers.splice(r,1),t||this.render(),!0)}removeMarkers(e,t){let r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!t&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&this.getProjection()){google.maps.event.trigger(this,ch.CLUSTERING_BEGIN,this);const{clusters:t,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});(r||r==null)&&(this.reset(),this.clusters=t,this.renderClusters()),google.maps.event.trigger(this,ch.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>e.setMap(null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new Cie(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,ch.CLUSTER_CLICK,r),this.onClusterClick(i,r,t)})),r.marker.setMap(t)})}}function Iie(n){const e=k4(),[t,r]=w.useState(null);return w.useEffect(()=>{if(e&&t===null){const i=new Rie(Object.assign(Object.assign({},n),{map:e}));r(i)}},[e]),t}function Bie({children:n,options:e}){const t=Iie(e);return t!==null?n(t):null}w.memo(Bie);const kP={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},FP={options(n,e){n.setOptions(e)},position(n,e){n.setPosition(e)},zIndex(n,e){n.setZIndex(e)}};function Die({children:n,anchor:e,options:t,position:r,zIndex:i,onCloseClick:s,onDomReady:o,onContentChanged:a,onPositionChanged:l,onZindexChanged:u,onLoad:c,onUnmount:d}){const p=w.useContext(wt),[g,y]=w.useState(null),[x,v]=w.useState(null),[m,S]=w.useState(null),[_,M]=w.useState(null),[P,C]=w.useState(null),[R,T]=w.useState(null),E=w.useRef(null);return w.useEffect(()=>{g!==null&&(g.close(),e?g.open(p,e):g.getPosition()&&g.open(p))},[p,g,e]),w.useEffect(()=>{t&&g!==null&&g.setOptions(t)},[g,t]),w.useEffect(()=>{r&&g!==null&&g.setPosition(r)},[r]),w.useEffect(()=>{typeof i=="number"&&g!==null&&g.setZIndex(i)},[i]),w.useEffect(()=>{g&&s&&(x!==null&&google.maps.event.removeListener(x),v(google.maps.event.addListener(g,"closeclick",s)))},[s]),w.useEffect(()=>{g&&o&&(m!==null&&google.maps.event.removeListener(m),S(google.maps.event.addListener(g,"domready",o)))},[o]),w.useEffect(()=>{g&&a&&(_!==null&&google.maps.event.removeListener(_),M(google.maps.event.addListener(g,"content_changed",a)))},[a]),w.useEffect(()=>{g&&l&&(P!==null&&google.maps.event.removeListener(P),C(google.maps.event.addListener(g,"position_changed",l)))},[l]),w.useEffect(()=>{g&&u&&(R!==null&&google.maps.event.removeListener(R),T(google.maps.event.addListener(g,"zindex_changed",u)))},[u]),w.useEffect(()=>{const A=new google.maps.InfoWindow(Object.assign({},t||{}));return y(A),E.current=document.createElement("div"),s&&v(google.maps.event.addListener(A,"closeclick",s)),o&&S(google.maps.event.addListener(A,"domready",o)),a&&M(google.maps.event.addListener(A,"content_changed",a)),l&&C(google.maps.event.addListener(A,"position_changed",l)),u&&T(google.maps.event.addListener(A,"zindex_changed",u)),A.setContent(E.current),r&&A.setPosition(r),i&&A.setZIndex(i),e?A.open(p,e):A.getPosition()?A.open(p):ir(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),c&&c(A),()=>{x&&google.maps.event.removeListener(x),_&&google.maps.event.removeListener(_),m&&google.maps.event.removeListener(m),P&&google.maps.event.removeListener(P),R&&google.maps.event.removeListener(R),d&&d(A),A.close()}},[]),E.current?ta.createPortal(w.Children.only(n),E.current):null}w.memo(Die);class Bw extends w.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.containerElement=null,this.state={infoWindow:null},this.open=(e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):ir(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},this.setInfoWindowCallback=()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))}}componentDidMount(){const e=new google.maps.InfoWindow(Object.assign({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=Dt({updaterMap:FP,eventMap:kP,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(kt(this.registeredEvents),this.registeredEvents=Dt({updaterMap:FP,eventMap:kP,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(kt(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?ta.createPortal(w.Children.only(this.props.children),this.containerElement):null}}Bw.contextType=wt;const NP={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},UP={draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},path(n,e){n.setPath(e)},visible(n,e){n.setVisible(e)}},Oie={};function kie({options:n,draggable:e,editable:t,visible:r,path:i,onDblClick:s,onDragEnd:o,onDragStart:a,onMouseDown:l,onMouseMove:u,onMouseOut:c,onMouseOver:d,onMouseUp:p,onRightClick:g,onClick:y,onDrag:x,onLoad:v,onUnmount:m}){const S=w.useContext(wt),[_,M]=w.useState(null),[P,C]=w.useState(null),[R,T]=w.useState(null),[E,A]=w.useState(null),[B,D]=w.useState(null),[U,H]=w.useState(null),[j,$]=w.useState(null),[Z,k]=w.useState(null),[W,V]=w.useState(null),[ce,oe]=w.useState(null),[re,q]=w.useState(null),[we,xe]=w.useState(null);return w.useEffect(()=>{_!==null&&_.setMap(S)},[S]),w.useEffect(()=>{typeof n<"u"&&_!==null&&_.setOptions(n)},[_,n]),w.useEffect(()=>{typeof e<"u"&&_!==null&&_.setDraggable(e)},[_,e]),w.useEffect(()=>{typeof t<"u"&&_!==null&&_.setEditable(t)},[_,t]),w.useEffect(()=>{typeof r<"u"&&_!==null&&_.setVisible(r)},[_,r]),w.useEffect(()=>{typeof i<"u"&&_!==null&&_.setPath(i)},[_,i]),w.useEffect(()=>{_&&s&&(P!==null&&google.maps.event.removeListener(P),C(google.maps.event.addListener(_,"dblclick",s)))},[s]),w.useEffect(()=>{_&&o&&(R!==null&&google.maps.event.removeListener(R),T(google.maps.event.addListener(_,"dragend",o)))},[o]),w.useEffect(()=>{_&&a&&(E!==null&&google.maps.event.removeListener(E),A(google.maps.event.addListener(_,"dragstart",a)))},[a]),w.useEffect(()=>{_&&l&&(B!==null&&google.maps.event.removeListener(B),D(google.maps.event.addListener(_,"mousedown",l)))},[l]),w.useEffect(()=>{_&&u&&(U!==null&&google.maps.event.removeListener(U),H(google.maps.event.addListener(_,"mousemove",u)))},[u]),w.useEffect(()=>{_&&c&&(j!==null&&google.maps.event.removeListener(j),$(google.maps.event.addListener(_,"mouseout",c)))},[c]),w.useEffect(()=>{_&&d&&(Z!==null&&google.maps.event.removeListener(Z),k(google.maps.event.addListener(_,"mouseover",d)))},[d]),w.useEffect(()=>{_&&p&&(W!==null&&google.maps.event.removeListener(W),V(google.maps.event.addListener(_,"mouseup",p)))},[p]),w.useEffect(()=>{_&&g&&(ce!==null&&google.maps.event.removeListener(ce),oe(google.maps.event.addListener(_,"rightclick",g)))},[g]),w.useEffect(()=>{_&&y&&(re!==null&&google.maps.event.removeListener(re),q(google.maps.event.addListener(_,"click",y)))},[y]),w.useEffect(()=>{_&&x&&(we!==null&&google.maps.event.removeListener(we),xe(google.maps.event.addListener(_,"drag",x)))},[x]),w.useEffect(()=>{const se=new google.maps.Polyline(Object.assign(Object.assign({},n||Oie),{map:S}));return i&&se.setPath(i),typeof r<"u"&&se.setVisible(r),typeof t<"u"&&se.setEditable(t),typeof e<"u"&&se.setDraggable(e),s&&C(google.maps.event.addListener(se,"dblclick",s)),o&&T(google.maps.event.addListener(se,"dragend",o)),a&&A(google.maps.event.addListener(se,"dragstart",a)),l&&D(google.maps.event.addListener(se,"mousedown",l)),u&&H(google.maps.event.addListener(se,"mousemove",u)),c&&$(google.maps.event.addListener(se,"mouseout",c)),d&&k(google.maps.event.addListener(se,"mouseover",d)),p&&V(google.maps.event.addListener(se,"mouseup",p)),g&&oe(google.maps.event.addListener(se,"rightclick",g)),y&&q(google.maps.event.addListener(se,"click",y)),x&&xe(google.maps.event.addListener(se,"drag",x)),M(se),v&&v(se),()=>{P!==null&&google.maps.event.removeListener(P),R!==null&&google.maps.event.removeListener(R),E!==null&&google.maps.event.removeListener(E),B!==null&&google.maps.event.removeListener(B),U!==null&&google.maps.event.removeListener(U),j!==null&&google.maps.event.removeListener(j),Z!==null&&google.maps.event.removeListener(Z),W!==null&&google.maps.event.removeListener(W),ce!==null&&google.maps.event.removeListener(ce),re!==null&&google.maps.event.removeListener(re),m&&m(se),se.setMap(null)}},[]),null}w.memo(kie);class Fie extends w.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={polyline:null},this.setPolylineCallback=()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)}}componentDidMount(){const e=new google.maps.Polyline(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=Dt({updaterMap:UP,eventMap:NP,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(kt(this.registeredEvents),this.registeredEvents=Dt({updaterMap:UP,eventMap:NP,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),kt(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}Fie.contextType=wt;const zP={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},HP={draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},path(n,e){n.setPath(e)},paths(n,e){n.setPaths(e)},visible(n,e){n.setVisible(e)}};function Nie({options:n,draggable:e,editable:t,visible:r,path:i,paths:s,onDblClick:o,onDragEnd:a,onDragStart:l,onMouseDown:u,onMouseMove:c,onMouseOut:d,onMouseOver:p,onMouseUp:g,onRightClick:y,onClick:x,onDrag:v,onLoad:m,onUnmount:S}){const _=w.useContext(wt),[M,P]=w.useState(null),[C,R]=w.useState(null),[T,E]=w.useState(null),[A,B]=w.useState(null),[D,U]=w.useState(null),[H,j]=w.useState(null),[$,Z]=w.useState(null),[k,W]=w.useState(null),[V,ce]=w.useState(null),[oe,re]=w.useState(null),[q,we]=w.useState(null),[xe,se]=w.useState(null);return w.useEffect(()=>{M!==null&&M.setMap(_)},[_]),w.useEffect(()=>{typeof n<"u"&&M!==null&&M.setOptions(n)},[M,n]),w.useEffect(()=>{typeof e<"u"&&M!==null&&M.setDraggable(e)},[M,e]),w.useEffect(()=>{typeof t<"u"&&M!==null&&M.setEditable(t)},[M,t]),w.useEffect(()=>{typeof r<"u"&&M!==null&&M.setVisible(r)},[M,r]),w.useEffect(()=>{typeof i<"u"&&M!==null&&M.setPath(i)},[M,i]),w.useEffect(()=>{typeof s<"u"&&M!==null&&M.setPaths(s)},[M,s]),w.useEffect(()=>{M&&o&&(C!==null&&google.maps.event.removeListener(C),R(google.maps.event.addListener(M,"dblclick",o)))},[o]),w.useEffect(()=>{M&&a&&(T!==null&&google.maps.event.removeListener(T),E(google.maps.event.addListener(M,"dragend",a)))},[a]),w.useEffect(()=>{M&&l&&(A!==null&&google.maps.event.removeListener(A),B(google.maps.event.addListener(M,"dragstart",l)))},[l]),w.useEffect(()=>{M&&u&&(D!==null&&google.maps.event.removeListener(D),U(google.maps.event.addListener(M,"mousedown",u)))},[u]),w.useEffect(()=>{M&&c&&(H!==null&&google.maps.event.removeListener(H),j(google.maps.event.addListener(M,"mousemove",c)))},[c]),w.useEffect(()=>{M&&d&&($!==null&&google.maps.event.removeListener($),Z(google.maps.event.addListener(M,"mouseout",d)))},[d]),w.useEffect(()=>{M&&p&&(k!==null&&google.maps.event.removeListener(k),W(google.maps.event.addListener(M,"mouseover",p)))},[p]),w.useEffect(()=>{M&&g&&(V!==null&&google.maps.event.removeListener(V),ce(google.maps.event.addListener(M,"mouseup",g)))},[g]),w.useEffect(()=>{M&&y&&(oe!==null&&google.maps.event.removeListener(oe),re(google.maps.event.addListener(M,"rightclick",y)))},[y]),w.useEffect(()=>{M&&x&&(q!==null&&google.maps.event.removeListener(q),we(google.maps.event.addListener(M,"click",x)))},[x]),w.useEffect(()=>{M&&v&&(xe!==null&&google.maps.event.removeListener(xe),se(google.maps.event.addListener(M,"drag",v)))},[v]),w.useEffect(()=>{const pe=new google.maps.Polygon(Object.assign(Object.assign({},n||{}),{map:_}));return i&&pe.setPath(i),s&&pe.setPaths(s),typeof r<"u"&&pe.setVisible(r),typeof t<"u"&&pe.setEditable(t),typeof e<"u"&&pe.setDraggable(e),o&&R(google.maps.event.addListener(pe,"dblclick",o)),a&&E(google.maps.event.addListener(pe,"dragend",a)),l&&B(google.maps.event.addListener(pe,"dragstart",l)),u&&U(google.maps.event.addListener(pe,"mousedown",u)),c&&j(google.maps.event.addListener(pe,"mousemove",c)),d&&Z(google.maps.event.addListener(pe,"mouseout",d)),p&&W(google.maps.event.addListener(pe,"mouseover",p)),g&&ce(google.maps.event.addListener(pe,"mouseup",g)),y&&re(google.maps.event.addListener(pe,"rightclick",y)),x&&we(google.maps.event.addListener(pe,"click",x)),v&&se(google.maps.event.addListener(pe,"drag",v)),P(pe),m&&m(pe),()=>{C!==null&&google.maps.event.removeListener(C),T!==null&&google.maps.event.removeListener(T),A!==null&&google.maps.event.removeListener(A),D!==null&&google.maps.event.removeListener(D),H!==null&&google.maps.event.removeListener(H),$!==null&&google.maps.event.removeListener($),k!==null&&google.maps.event.removeListener(k),V!==null&&google.maps.event.removeListener(V),oe!==null&&google.maps.event.removeListener(oe),q!==null&&google.maps.event.removeListener(q),S&&S(pe),pe.setMap(null)}},[]),null}w.memo(Nie);class Uie extends w.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={polygon:null},this.setPolygonCallback=()=>{this.state.polygon!==null&&this.props.onLoad&&this.props.onLoad(this.state.polygon)}}componentDidMount(){const e=new google.maps.Polygon(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=Dt({updaterMap:HP,eventMap:zP,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polygon:e}},this.setPolygonCallback)}componentDidUpdate(e){this.state.polygon!==null&&(kt(this.registeredEvents),this.registeredEvents=Dt({updaterMap:HP,eventMap:zP,prevProps:e,nextProps:this.props,instance:this.state.polygon}))}componentWillUnmount(){this.state.polygon!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),kt(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))}render(){return null}}Uie.contextType=wt;const GP={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},VP={bounds(n,e){n.setBounds(e)},draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},visible(n,e){n.setVisible(e)}};function zie({options:n,bounds:e,draggable:t,editable:r,visible:i,onDblClick:s,onDragEnd:o,onDragStart:a,onMouseDown:l,onMouseMove:u,onMouseOut:c,onMouseOver:d,onMouseUp:p,onRightClick:g,onClick:y,onDrag:x,onBoundsChanged:v,onLoad:m,onUnmount:S}){const _=w.useContext(wt),[M,P]=w.useState(null),[C,R]=w.useState(null),[T,E]=w.useState(null),[A,B]=w.useState(null),[D,U]=w.useState(null),[H,j]=w.useState(null),[$,Z]=w.useState(null),[k,W]=w.useState(null),[V,ce]=w.useState(null),[oe,re]=w.useState(null),[q,we]=w.useState(null),[xe,se]=w.useState(null),[pe,N]=w.useState(null);return w.useEffect(()=>{M!==null&&M.setMap(_)},[_]),w.useEffect(()=>{typeof n<"u"&&M!==null&&M.setOptions(n)},[M,n]),w.useEffect(()=>{typeof t<"u"&&M!==null&&M.setDraggable(t)},[M,t]),w.useEffect(()=>{typeof r<"u"&&M!==null&&M.setEditable(r)},[M,r]),w.useEffect(()=>{typeof i<"u"&&M!==null&&M.setVisible(i)},[M,i]),w.useEffect(()=>{typeof e<"u"&&M!==null&&M.setBounds(e)},[M,e]),w.useEffect(()=>{M&&s&&(C!==null&&google.maps.event.removeListener(C),R(google.maps.event.addListener(M,"dblclick",s)))},[s]),w.useEffect(()=>{M&&o&&(T!==null&&google.maps.event.removeListener(T),E(google.maps.event.addListener(M,"dragend",o)))},[o]),w.useEffect(()=>{M&&a&&(A!==null&&google.maps.event.removeListener(A),B(google.maps.event.addListener(M,"dragstart",a)))},[a]),w.useEffect(()=>{M&&l&&(D!==null&&google.maps.event.removeListener(D),U(google.maps.event.addListener(M,"mousedown",l)))},[l]),w.useEffect(()=>{M&&u&&(H!==null&&google.maps.event.removeListener(H),j(google.maps.event.addListener(M,"mousemove",u)))},[u]),w.useEffect(()=>{M&&c&&($!==null&&google.maps.event.removeListener($),Z(google.maps.event.addListener(M,"mouseout",c)))},[c]),w.useEffect(()=>{M&&d&&(k!==null&&google.maps.event.removeListener(k),W(google.maps.event.addListener(M,"mouseover",d)))},[d]),w.useEffect(()=>{M&&p&&(V!==null&&google.maps.event.removeListener(V),ce(google.maps.event.addListener(M,"mouseup",p)))},[p]),w.useEffect(()=>{M&&g&&(oe!==null&&google.maps.event.removeListener(oe),re(google.maps.event.addListener(M,"rightclick",g)))},[g]),w.useEffect(()=>{M&&y&&(q!==null&&google.maps.event.removeListener(q),we(google.maps.event.addListener(M,"click",y)))},[y]),w.useEffect(()=>{M&&x&&(xe!==null&&google.maps.event.removeListener(xe),se(google.maps.event.addListener(M,"drag",x)))},[x]),w.useEffect(()=>{M&&v&&(pe!==null&&google.maps.event.removeListener(pe),N(google.maps.event.addListener(M,"bounds_changed",v)))},[v]),w.useEffect(()=>{const G=new google.maps.Rectangle(Object.assign(Object.assign({},n||{}),{map:_}));return typeof i<"u"&&G.setVisible(i),typeof r<"u"&&G.setEditable(r),typeof t<"u"&&G.setDraggable(t),typeof e<"u"&&G.setBounds(e),s&&R(google.maps.event.addListener(G,"dblclick",s)),o&&E(google.maps.event.addListener(G,"dragend",o)),a&&B(google.maps.event.addListener(G,"dragstart",a)),l&&U(google.maps.event.addListener(G,"mousedown",l)),u&&j(google.maps.event.addListener(G,"mousemove",u)),c&&Z(google.maps.event.addListener(G,"mouseout",c)),d&&W(google.maps.event.addListener(G,"mouseover",d)),p&&ce(google.maps.event.addListener(G,"mouseup",p)),g&&re(google.maps.event.addListener(G,"rightclick",g)),y&&we(google.maps.event.addListener(G,"click",y)),x&&se(google.maps.event.addListener(G,"drag",x)),v&&N(google.maps.event.addListener(G,"bounds_changed",v)),P(G),m&&m(G),()=>{C!==null&&google.maps.event.removeListener(C),T!==null&&google.maps.event.removeListener(T),A!==null&&google.maps.event.removeListener(A),D!==null&&google.maps.event.removeListener(D),H!==null&&google.maps.event.removeListener(H),$!==null&&google.maps.event.removeListener($),k!==null&&google.maps.event.removeListener(k),V!==null&&google.maps.event.removeListener(V),oe!==null&&google.maps.event.removeListener(oe),q!==null&&google.maps.event.removeListener(q),xe!==null&&google.maps.event.removeListener(xe),pe!==null&&google.maps.event.removeListener(pe),S&&S(G),G.setMap(null)}},[]),null}w.memo(zie);class Hie extends w.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={rectangle:null},this.setRectangleCallback=()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)}}componentDidMount(){const e=new google.maps.Rectangle(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=Dt({updaterMap:VP,eventMap:GP,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(kt(this.registeredEvents),this.registeredEvents=Dt({updaterMap:VP,eventMap:GP,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),kt(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}Hie.contextType=wt;const jP={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},WP={center(n,e){n.setCenter(e)},draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},radius(n,e){n.setRadius(e)},visible(n,e){n.setVisible(e)}},Gie={};function Vie({options:n,center:e,radius:t,draggable:r,editable:i,visible:s,onDblClick:o,onDragEnd:a,onDragStart:l,onMouseDown:u,onMouseMove:c,onMouseOut:d,onMouseOver:p,onMouseUp:g,onRightClick:y,onClick:x,onDrag:v,onCenterChanged:m,onRadiusChanged:S,onLoad:_,onUnmount:M}){const P=w.useContext(wt),[C,R]=w.useState(null),[T,E]=w.useState(null),[A,B]=w.useState(null),[D,U]=w.useState(null),[H,j]=w.useState(null),[$,Z]=w.useState(null),[k,W]=w.useState(null),[V,ce]=w.useState(null),[oe,re]=w.useState(null),[q,we]=w.useState(null),[xe,se]=w.useState(null),[pe,N]=w.useState(null),[G,Y]=w.useState(null),[ae,te]=w.useState(null);return w.useEffect(()=>{C!==null&&C.setMap(P)},[P]),w.useEffect(()=>{typeof n<"u"&&C!==null&&C.setOptions(n)},[C,n]),w.useEffect(()=>{typeof r<"u"&&C!==null&&C.setDraggable(r)},[C,r]),w.useEffect(()=>{typeof i<"u"&&C!==null&&C.setEditable(i)},[C,i]),w.useEffect(()=>{typeof s<"u"&&C!==null&&C.setVisible(s)},[C,s]),w.useEffect(()=>{typeof t=="number"&&C!==null&&C.setRadius(t)},[C,t]),w.useEffect(()=>{typeof e<"u"&&C!==null&&C.setCenter(e)},[C,e]),w.useEffect(()=>{C&&o&&(T!==null&&google.maps.event.removeListener(T),E(google.maps.event.addListener(C,"dblclick",o)))},[o]),w.useEffect(()=>{C&&a&&(A!==null&&google.maps.event.removeListener(A),B(google.maps.event.addListener(C,"dragend",a)))},[a]),w.useEffect(()=>{C&&l&&(D!==null&&google.maps.event.removeListener(D),U(google.maps.event.addListener(C,"dragstart",l)))},[l]),w.useEffect(()=>{C&&u&&(H!==null&&google.maps.event.removeListener(H),j(google.maps.event.addListener(C,"mousedown",u)))},[u]),w.useEffect(()=>{C&&c&&($!==null&&google.maps.event.removeListener($),Z(google.maps.event.addListener(C,"mousemove",c)))},[c]),w.useEffect(()=>{C&&d&&(k!==null&&google.maps.event.removeListener(k),W(google.maps.event.addListener(C,"mouseout",d)))},[d]),w.useEffect(()=>{C&&p&&(V!==null&&google.maps.event.removeListener(V),ce(google.maps.event.addListener(C,"mouseover",p)))},[p]),w.useEffect(()=>{C&&g&&(oe!==null&&google.maps.event.removeListener(oe),re(google.maps.event.addListener(C,"mouseup",g)))},[g]),w.useEffect(()=>{C&&y&&(q!==null&&google.maps.event.removeListener(q),we(google.maps.event.addListener(C,"rightclick",y)))},[y]),w.useEffect(()=>{C&&x&&(xe!==null&&google.maps.event.removeListener(xe),se(google.maps.event.addListener(C,"click",x)))},[x]),w.useEffect(()=>{C&&v&&(pe!==null&&google.maps.event.removeListener(pe),N(google.maps.event.addListener(C,"drag",v)))},[v]),w.useEffect(()=>{C&&m&&(G!==null&&google.maps.event.removeListener(G),Y(google.maps.event.addListener(C,"center_changed",m)))},[x]),w.useEffect(()=>{C&&S&&(ae!==null&&google.maps.event.removeListener(ae),te(google.maps.event.addListener(C,"radius_changed",S)))},[S]),w.useEffect(()=>{const le=new google.maps.Circle(Object.assign(Object.assign({},n||Gie),{map:P}));return typeof t=="number"&&le.setRadius(t),typeof e<"u"&&le.setCenter(e),typeof t=="number"&&le.setRadius(t),typeof s<"u"&&le.setVisible(s),typeof i<"u"&&le.setEditable(i),typeof r<"u"&&le.setDraggable(r),o&&E(google.maps.event.addListener(le,"dblclick",o)),a&&B(google.maps.event.addListener(le,"dragend",a)),l&&U(google.maps.event.addListener(le,"dragstart",l)),u&&j(google.maps.event.addListener(le,"mousedown",u)),c&&Z(google.maps.event.addListener(le,"mousemove",c)),d&&W(google.maps.event.addListener(le,"mouseout",d)),p&&ce(google.maps.event.addListener(le,"mouseover",p)),g&&re(google.maps.event.addListener(le,"mouseup",g)),y&&we(google.maps.event.addListener(le,"rightclick",y)),x&&se(google.maps.event.addListener(le,"click",x)),v&&N(google.maps.event.addListener(le,"drag",v)),m&&Y(google.maps.event.addListener(le,"center_changed",m)),S&&te(google.maps.event.addListener(le,"radius_changed",S)),R(le),_&&_(le),()=>{T!==null&&google.maps.event.removeListener(T),A!==null&&google.maps.event.removeListener(A),D!==null&&google.maps.event.removeListener(D),H!==null&&google.maps.event.removeListener(H),$!==null&&google.maps.event.removeListener($),k!==null&&google.maps.event.removeListener(k),V!==null&&google.maps.event.removeListener(V),oe!==null&&google.maps.event.removeListener(oe),q!==null&&google.maps.event.removeListener(q),xe!==null&&google.maps.event.removeListener(xe),G!==null&&google.maps.event.removeListener(G),ae!==null&&google.maps.event.removeListener(ae),M&&M(le),le.setMap(null)}},[]),null}w.memo(Vie);class jie extends w.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={circle:null},this.setCircleCallback=()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)}}componentDidMount(){const e=new google.maps.Circle(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=Dt({updaterMap:WP,eventMap:jP,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(kt(this.registeredEvents),this.registeredEvents=Dt({updaterMap:WP,eventMap:jP,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){this.state.circle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),kt(this.registeredEvents),this.state.circle&&this.state.circle.setMap(null))}render(){return null}}jie.contextType=wt;const $P={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},JP={add(n,e){n.add(e)},addgeojson(n,e,t){n.addGeoJson(e,t)},contains(n,e){n.contains(e)},foreach(n,e){n.forEach(e)},loadgeojson(n,e,t,r){n.loadGeoJson(e,t,r)},overridestyle(n,e,t){n.overrideStyle(e,t)},remove(n,e){n.remove(e)},revertstyle(n,e){n.revertStyle(e)},controlposition(n,e){n.setControlPosition(e)},controls(n,e){n.setControls(e)},drawingmode(n,e){n.setDrawingMode(e)},map(n,e){n.setMap(e)},style(n,e){n.setStyle(e)},togeojson(n,e){n.toGeoJson(e)}};function Wie({options:n,onClick:e,onDblClick:t,onMouseDown:r,onMouseMove:i,onMouseOut:s,onMouseOver:o,onMouseUp:a,onRightClick:l,onAddFeature:u,onRemoveFeature:c,onRemoveProperty:d,onSetGeometry:p,onSetProperty:g,onLoad:y,onUnmount:x}){const v=w.useContext(wt),[m,S]=w.useState(null),[_,M]=w.useState(null),[P,C]=w.useState(null),[R,T]=w.useState(null),[E,A]=w.useState(null),[B,D]=w.useState(null),[U,H]=w.useState(null),[j,$]=w.useState(null),[Z,k]=w.useState(null),[W,V]=w.useState(null),[ce,oe]=w.useState(null),[re,q]=w.useState(null),[we,xe]=w.useState(null),[se,pe]=w.useState(null);return w.useEffect(()=>{m!==null&&m.setMap(v)},[v]),w.useEffect(()=>{m&&t&&(_!==null&&google.maps.event.removeListener(_),M(google.maps.event.addListener(m,"dblclick",t)))},[t]),w.useEffect(()=>{m&&r&&(P!==null&&google.maps.event.removeListener(P),C(google.maps.event.addListener(m,"mousedown",r)))},[r]),w.useEffect(()=>{m&&i&&(R!==null&&google.maps.event.removeListener(R),T(google.maps.event.addListener(m,"mousemove",i)))},[i]),w.useEffect(()=>{m&&s&&(E!==null&&google.maps.event.removeListener(E),A(google.maps.event.addListener(m,"mouseout",s)))},[s]),w.useEffect(()=>{m&&o&&(B!==null&&google.maps.event.removeListener(B),D(google.maps.event.addListener(m,"mouseover",o)))},[o]),w.useEffect(()=>{m&&a&&(U!==null&&google.maps.event.removeListener(U),H(google.maps.event.addListener(m,"mouseup",a)))},[a]),w.useEffect(()=>{m&&l&&(j!==null&&google.maps.event.removeListener(j),$(google.maps.event.addListener(m,"rightclick",l)))},[l]),w.useEffect(()=>{m&&e&&(Z!==null&&google.maps.event.removeListener(Z),k(google.maps.event.addListener(m,"click",e)))},[e]),w.useEffect(()=>{m&&u&&(W!==null&&google.maps.event.removeListener(W),V(google.maps.event.addListener(m,"addfeature",u)))},[u]),w.useEffect(()=>{m&&c&&(ce!==null&&google.maps.event.removeListener(ce),oe(google.maps.event.addListener(m,"removefeature",c)))},[c]),w.useEffect(()=>{m&&d&&(re!==null&&google.maps.event.removeListener(re),q(google.maps.event.addListener(m,"removeproperty",d)))},[d]),w.useEffect(()=>{m&&p&&(we!==null&&google.maps.event.removeListener(we),xe(google.maps.event.addListener(m,"setgeometry",p)))},[p]),w.useEffect(()=>{m&&g&&(se!==null&&google.maps.event.removeListener(se),pe(google.maps.event.addListener(m,"setproperty",g)))},[g]),w.useEffect(()=>{if(v!==null){const N=new google.maps.Data(Object.assign(Object.assign({},n||{}),{map:v}));t&&M(google.maps.event.addListener(N,"dblclick",t)),r&&C(google.maps.event.addListener(N,"mousedown",r)),i&&T(google.maps.event.addListener(N,"mousemove",i)),s&&A(google.maps.event.addListener(N,"mouseout",s)),o&&D(google.maps.event.addListener(N,"mouseover",o)),a&&H(google.maps.event.addListener(N,"mouseup",a)),l&&$(google.maps.event.addListener(N,"rightclick",l)),e&&k(google.maps.event.addListener(N,"click",e)),u&&V(google.maps.event.addListener(N,"addfeature",u)),c&&oe(google.maps.event.addListener(N,"removefeature",c)),d&&q(google.maps.event.addListener(N,"removeproperty",d)),p&&xe(google.maps.event.addListener(N,"setgeometry",p)),g&&pe(google.maps.event.addListener(N,"setproperty",g)),S(N),y&&y(N)}return()=>{m&&(_!==null&&google.maps.event.removeListener(_),P!==null&&google.maps.event.removeListener(P),R!==null&&google.maps.event.removeListener(R),E!==null&&google.maps.event.removeListener(E),B!==null&&google.maps.event.removeListener(B),U!==null&&google.maps.event.removeListener(U),j!==null&&google.maps.event.removeListener(j),Z!==null&&google.maps.event.removeListener(Z),W!==null&&google.maps.event.removeListener(W),ce!==null&&google.maps.event.removeListener(ce),re!==null&&google.maps.event.removeListener(re),we!==null&&google.maps.event.removeListener(we),se!==null&&google.maps.event.removeListener(se),x&&x(m),m.setMap(null))}},[]),null}w.memo(Wie);class $ie extends w.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={data:null},this.setDataCallback=()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)}}componentDidMount(){if(this.context!==null){const e=new google.maps.Data(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=Dt({updaterMap:JP,eventMap:$P,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(kt(this.registeredEvents),this.registeredEvents=Dt({updaterMap:JP,eventMap:$P,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),kt(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}$ie.contextType=wt;const KP={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},XP={options(n,e){n.setOptions(e)},url(n,e){n.setUrl(e)},zIndex(n,e){n.setZIndex(e)}};class Jie extends w.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={kmlLayer:null},this.setKmlLayerCallback=()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)}}componentDidMount(){const e=new google.maps.KmlLayer(Object.assign(Object.assign({},this.props.options),{map:this.context}));this.registeredEvents=Dt({updaterMap:XP,eventMap:KP,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(kt(this.registeredEvents),this.registeredEvents=Dt({updaterMap:XP,eventMap:KP,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),kt(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}Jie.contextType=wt;function j4(n,e){return typeof e=="function"?e(n.offsetWidth,n.offsetHeight):{x:0,y:0}}function Kie(n,e){return new e(n.lat,n.lng)}function Xie(n,e){return new e(new google.maps.LatLng(n.ne.lat,n.ne.lng),new google.maps.LatLng(n.sw.lat,n.sw.lng))}function Yie(n,e,t){return n instanceof e?n:t(n,e)}function Qie(n,e,t){return n instanceof e?n:t(n,e)}function Zie(n,e,t){const r=n&&n.fromLatLngToDivPixel(t.getNorthEast()),i=n&&n.fromLatLngToDivPixel(t.getSouthWest());return r&&i?{left:`${i.x+e.x}px`,top:`${r.y+e.y}px`,width:`${r.x-i.x-e.x}px`,height:`${i.y-r.y-e.y}px`}:{left:"-9999px",top:"-9999px"}}function qie(n,e,t){const r=n&&n.fromLatLngToDivPixel(t);if(r){const{x:i,y:s}=r;return{left:`${i+e.x}px`,top:`${s+e.y}px`}}return{left:"-9999px",top:"-9999px"}}function W4(n,e,t,r){return t!==void 0?Zie(n,e,Qie(t,google.maps.LatLngBounds,Xie)):qie(n,e,Yie(r,google.maps.LatLng,Kie))}function ese(n,e){return n.left===e.left&&n.top===e.top&&n.width===e.height&&n.height===e.height}function tse(n,e,t,r,i){class s extends google.maps.OverlayView{constructor(a,l,u,c){super(),this.container=a,this.pane=l,this.position=u,this.bounds=c}onAdd(){var a;const l=(a=this.getPanes())===null||a===void 0?void 0:a[this.pane];l==null||l.appendChild(this.container)}draw(){const a=this.getProjection(),l=Object.assign({},this.container?j4(this.container,i):{x:0,y:0}),u=W4(a,l,this.bounds,this.position);for(const[c,d]of Object.entries(u))this.container.style[c]=d}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new s(n,e,t,r)}function YP(n){return n?(n instanceof google.maps.LatLng?n:new google.maps.LatLng(n.lat,n.lng))+"":""}function QP(n){return n?(n instanceof google.maps.LatLngBounds?n:new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.east),new google.maps.LatLng(n.north,n.west)))+"":""}function nse({position:n,bounds:e,mapPaneName:t,zIndex:r,onLoad:i,onUnmount:s,getPixelPositionOffset:o,children:a}){const l=w.useContext(wt),u=w.useMemo(()=>{const d=document.createElement("div");return d.style.position="absolute",d},[]),c=w.useMemo(()=>tse(u,t,n,e,o),[u,t,n,e]);return w.useEffect(()=>(i==null||i(c),c==null||c.setMap(l),()=>{s==null||s(c),c==null||c.setMap(null)}),[l,c]),w.useEffect(()=>{u.style.zIndex=`${r}`},[r,u]),ta.createPortal(a,u)}w.memo(nse);class kf extends w.PureComponent{constructor(e){super(e),this.state={paneEl:null,containerStyle:{position:"absolute"}},this.updatePane=()=>{const r=this.props.mapPaneName,i=this.overlayView.getPanes();ir(!!r,"OverlayView requires props.mapPaneName but got %s",r),i?this.setState({paneEl:i[r]}):this.setState({paneEl:null})},this.onAdd=()=>{var r,i;this.updatePane(),(i=(r=this.props).onLoad)===null||i===void 0||i.call(r,this.overlayView)},this.onPositionElement=()=>{const r=this.overlayView.getProjection(),i=Object.assign({x:0,y:0},this.containerRef.current?j4(this.containerRef.current,this.props.getPixelPositionOffset):{}),s=W4(r,i,this.props.bounds,this.props.position),{left:o,top:a,width:l,height:u}=this.state.containerStyle;ese(s,{left:o,top:a,width:l,height:u})||this.setState({containerStyle:Object.assign(Object.assign({},s),{position:"absolute"})})},this.draw=()=>{this.onPositionElement()},this.onRemove=()=>{var r,i;this.setState(()=>({paneEl:null})),(i=(r=this.props).onUnmount)===null||i===void 0||i.call(r,this.overlayView)},this.containerRef=w.createRef();const t=new google.maps.OverlayView;t.onAdd=this.onAdd,t.draw=this.draw,t.onRemove=this.onRemove,this.overlayView=t}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){const t=YP(e.position),r=YP(this.props.position),i=QP(e.bounds),s=QP(this.props.bounds);(t!==r||i!==s)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){const e=this.state.paneEl;return e?ta.createPortal(F.jsx("div",Object.assign({ref:this.containerRef,style:this.state.containerStyle},{children:w.Children.only(this.props.children)})),e):null}}kf.FLOAT_PANE="floatPane";kf.MAP_PANE="mapPane";kf.MARKER_LAYER="markerLayer";kf.OVERLAY_LAYER="overlayLayer";kf.OVERLAY_MOUSE_TARGET="overlayMouseTarget";kf.contextType=wt;function rse(){}const ZP={onDblClick:"dblclick",onClick:"click"},qP={opacity(n,e){n.setOpacity(e)}};function ise({url:n,bounds:e,options:t,visible:r}){const i=w.useContext(wt),s=new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.west),new google.maps.LatLng(e.north,e.east)),o=w.useMemo(()=>new google.maps.GroundOverlay(n,s,Object.assign({},t)),[]);return w.useEffect(()=>{o!==null&&o.setMap(i)},[i]),w.useEffect(()=>{typeof n<"u"&&o!==null&&(o.set("url",n),o.setMap(i))},[o,n]),w.useEffect(()=>{typeof r<"u"&&o!==null&&o.setOpacity(r?1:0)},[o,r]),w.useEffect(()=>{const a=new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.west),new google.maps.LatLng(e.north,e.east));typeof e<"u"&&o!==null&&(o.set("bounds",a),o.setMap(i))},[o,e]),null}w.memo(ise);class $4 extends w.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={groundOverlay:null},this.setGroundOverlayCallback=()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)}}componentDidMount(){ir(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");const e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Object.assign(Object.assign({},this.props.options),{map:this.context}));this.registeredEvents=Dt({updaterMap:qP,eventMap:ZP,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(kt(this.registeredEvents),this.registeredEvents=Dt({updaterMap:qP,eventMap:ZP,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}$4.defaultProps={onLoad:rse};$4.contextType=wt;const eR={},tR={data(n,e){n.setData(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)}};function sse({data:n,onLoad:e,onUnmount:t,options:r}){const i=w.useContext(wt),[s,o]=w.useState(null);return w.useEffect(()=>{google.maps.visualization||ir(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),w.useEffect(()=>{ir(!!n,"data property is required in HeatmapLayer %s",n)},[n]),w.useEffect(()=>{s!==null&&s.setMap(i)},[i]),w.useEffect(()=>{r&&s!==null&&s.setOptions(r)},[s,r]),w.useEffect(()=>{const a=new google.maps.visualization.HeatmapLayer(Object.assign(Object.assign({},r||{}),{data:n,map:i}));return o(a),e&&e(a),()=>{s!==null&&(t&&t(s),s.setMap(null))}},[]),null}w.memo(sse);class ose extends w.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={heatmapLayer:null},this.setHeatmapLayerCallback=()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)}}componentDidMount(){ir(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),ir(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);const e=new google.maps.visualization.HeatmapLayer(Object.assign(Object.assign({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=Dt({updaterMap:tR,eventMap:eR,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){kt(this.registeredEvents),this.registeredEvents=Dt({updaterMap:tR,eventMap:eR,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),kt(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}ose.contextType=wt;const nR={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},rR={register(n,e,t){n.registerPanoProvider(e,t)},links(n,e){n.setLinks(e)},motionTracking(n,e){n.setMotionTracking(e)},options(n,e){n.setOptions(e)},pano(n,e){n.setPano(e)},position(n,e){n.setPosition(e)},pov(n,e){n.setPov(e)},visible(n,e){n.setVisible(e)},zoom(n,e){n.setZoom(e)}};class ase extends w.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={streetViewPanorama:null},this.setStreetViewPanoramaCallback=()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)}}componentDidMount(){const e=this.context.getStreetView();this.registeredEvents=Dt({updaterMap:rR,eventMap:nR,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({streetViewPanorama:e}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(kt(this.registeredEvents),this.registeredEvents=Dt({updaterMap:rR,eventMap:nR,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),kt(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}ase.contextType=wt;class lse extends w.PureComponent{constructor(){super(...arguments),this.state={streetViewService:null},this.setStreetViewServiceCallback=()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)}}componentDidMount(){const e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}lse.contextType=wt;const iR={onDirectionsChanged:"directions_changed"},sR={directions(n,e){n.setDirections(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},panel(n,e){n.setPanel(e)},routeIndex(n,e){n.setRouteIndex(e)}};class use extends w.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={directionsRenderer:null},this.setDirectionsRendererCallback=()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))}}componentDidMount(){const e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Dt({updaterMap:sR,eventMap:iR,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(kt(this.registeredEvents),this.registeredEvents=Dt({updaterMap:sR,eventMap:iR,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),kt(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return F.jsx(F.Fragment,{})}}use.contextType=wt;const oR={onPlacesChanged:"places_changed"},aR={bounds(n,e){n.setBounds(e)}};class cse extends w.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.containerElement=w.createRef(),this.state={searchBox:null},this.setSearchBoxCallback=()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)}}componentDidMount(){if(ir(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){const e=this.containerElement.current.querySelector("input");if(e!==null){const t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Dt({updaterMap:aR,eventMap:oR,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{searchBox:t}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(kt(this.registeredEvents),this.registeredEvents=Dt({updaterMap:aR,eventMap:oR,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),kt(this.registeredEvents))}render(){return F.jsx("div",Object.assign({ref:this.containerElement},{children:w.Children.only(this.props.children)}))}}cse.contextType=wt;const lR={onPlaceChanged:"place_changed"},uR={bounds(n,e){n.setBounds(e)},restrictions(n,e){n.setComponentRestrictions(e)},fields(n,e){n.setFields(e)},options(n,e){n.setOptions(e)},types(n,e){n.setTypes(e)}};class J4 extends w.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.containerElement=w.createRef(),this.state={autocomplete:null},this.setAutocompleteCallback=()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)}}componentDidMount(){ir(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);const e=this.containerElement.current.querySelector("input");if(e){const t=new google.maps.places.Autocomplete(e,this.props.options);this.registeredEvents=Dt({updaterMap:uR,eventMap:lR,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({autocomplete:t}),this.setAutocompleteCallback)}}componentDidUpdate(e){kt(this.registeredEvents),this.registeredEvents=Dt({updaterMap:uR,eventMap:lR,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&kt(this.registeredEvents)}render(){return F.jsx("div",Object.assign({ref:this.containerElement,className:this.props.className},{children:w.Children.only(this.props.children)}))}}J4.defaultProps={className:""};J4.contextType=wt;const fse="/assets/vespa-motorcycle-svgrepo-com-82719dcc.svg",dse="/assets/vespa-motorcycle-svgrepo-com-renting-76b28372.svg",hse="/assets/electric-station-svgrepo-com-82fbf89d.svg",pse="/assets/walk-svgrepo-com-3bd26b9b.svg";function Ml(n){const e=k4(),t=w.useRef();return w.useEffect(()=>{e&&t&&e.controls[window.google.maps.ControlPosition[n.position]].push(t.current)},[e,t]),F.jsx("div",{ref:t,children:n.children})}function mse(){const[n,e]=sE(aE),t={}.VITE_GOOGLE_MAP_API===void 0?"":{}.VITE_GOOGLE_MAP_API,{isLoaded:r}=$re({id:"google-map-script",googleMapsApiKey:t}),[i,s]=w.useState([]),[o,a]=w.useState([]),[l,u]=w.useState(null),[c,d]=w.useState(100);w.useEffect(()=>{const P=async()=>{s(await Sre()),a(await wre())},C=async()=>{try{u(await ey())}catch(R){console.log(R),u(null)}try{d(await gP())}catch(R){console.log(R),d(100)}};Promise.all([P(),C()])},[n]);const p=w.useRef(),[g,y]=w.useState({lat:25.01754,lng:121.5397}),[x,v]=w.useState(null),[m,S]=w.useState(null),_=w.useMemo(()=>({mapId:"b181cac70f27f5e6",disableDefaultUI:!0,clickableIcons:!1}),[]),M=w.useCallback(P=>{p.current=P},[]);return r?F.jsx(F.Fragment,{children:F.jsx("div",{className:"map-container",children:F.jsx("div",{className:"map",children:F.jsxs(Ure,{zoom:15,center:g,mapContainerClassName:"map-container",options:_,onLoad:M,children:["   ",F.jsx(cv,{position:{lat:n.current_location.lat,lng:n.current_location.lng},icon:l===null?pse:dse}),l===null?F.jsx(F.Fragment,{}):F.jsx(Ml,{position:"TOP_RIGHT",children:F.jsx("button",{style:{margin:10,opacity:"0.7"},className:"contrast",onClick:()=>{_re(),location.reload()},children:"Return"})}),l===null?F.jsx(F.Fragment,{}):F.jsx(Ml,{position:"BOTTOM_LEFT",children:F.jsxs("button",{style:{margin:10,opacity:"0.7"},className:"contrast",children:["Battery Level:",c,"%"]})}),F.jsx(Ml,{position:"TOP_LEFT",children:F.jsx("button",{onClick:()=>y({lat:n.current_location.lat,lng:n.current_location.lng}),style:{margin:10,opacity:"0.7"},className:"",children:"Recenter"})}),F.jsx(Ml,{position:"LEFT_CENTER",children:F.jsx("button",{onClick:()=>{const P=new Pc(n.current_location.lat,n.current_location.lng-.001);Fg(P)},style:{margin:10,opacity:"0.7"},className:"secondary",children:"LEFT"})}),F.jsx(Ml,{position:"RIGHT_CENTER",children:F.jsx("button",{onClick:()=>{const P=new Pc(n.current_location.lat,n.current_location.lng+.001);Fg(P)},style:{margin:10,opacity:"0.7"},className:"secondary",children:"RIGHT"})}),F.jsx(Ml,{position:"TOP_CENTER",children:F.jsx("button",{onClick:()=>{const P=new Pc(n.current_location.lat+.001,n.current_location.lng);Fg(P)},style:{margin:10,opacity:"0.7"},className:"secondary",children:"UP"})}),F.jsx(Ml,{position:"BOTTOM_CENTER",children:F.jsx("button",{onClick:()=>{const P=new Pc(n.current_location.lat-.001,n.current_location.lng);Fg(P)},style:{margin:10,opacity:"0.7"},className:"secondary",children:"DOWN"})}),o.map(P=>F.jsx(cv,{position:{lat:P.location.lat,lng:P.location.lng},icon:hse,onMouseDown:()=>S(P)},P.id)),l===null?i.map(P=>F.jsx(cv,{position:{lat:P.location.lat,lng:P.location.lng},icon:fse,onMouseDown:()=>v(P)},P.id)):F.jsx(F.Fragment,{}),l!==null?m&&F.jsx(Bw,{position:{lat:m.location.lat+1e-4,lng:m.location.lng},onCloseClick:()=>S(null),children:F.jsxs("div",{children:[F.jsx("h3",{children:"Recharge Station"}),F.jsx("button",{onClick:async()=>{await bre(m.id),await d(await gP())},children:"Recharge"})]})}):F.jsx(F.Fragment,{}),l===null?x&&F.jsx(Bw,{position:{lat:x.location.lat+1e-4,lng:x.location.lng},onCloseClick:()=>v(null),children:F.jsxs("div",{children:[F.jsx("h3",{children:x.plate_number}),F.jsxs("p",{children:["Battery Level: ",x.battery_level,"%"]}),F.jsxs("p",{children:["Status: ",x.status]})," ",F.jsx("button",{onClick:()=>{xre(x.id),location.reload()},className:"rent-button",children:"Rent"})]})}):F.jsx(F.Fragment,{})]})})})}):F.jsx(F.Fragment,{})}function gse(){return F.jsx(F.Fragment,{children:F.jsx("section",{children:F.jsx(mse,{})})})}function cR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function pt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(t),!0).forEach(function(r){ka(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cR(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function vse(n){if(Array.isArray(n))return n}function yse(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Dw(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function K4(n,e){if(n){if(typeof n=="string")return Dw(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Dw(n,e)}}function xse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jo(n,e){return vse(n)||yse(n,e)||K4(n,e)||xse()}function _se(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Ff(n,e){if(n==null)return{};var t=_se(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}var Sse=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function wse(n){var e=n.defaultInputValue,t=e===void 0?"":e,r=n.defaultMenuIsOpen,i=r===void 0?!1:r,s=n.defaultValue,o=s===void 0?null:s,a=n.inputValue,l=n.menuIsOpen,u=n.onChange,c=n.onInputChange,d=n.onMenuClose,p=n.onMenuOpen,g=n.value,y=Ff(n,Sse),x=w.useState(a!==void 0?a:t),v=jo(x,2),m=v[0],S=v[1],_=w.useState(l!==void 0?l:i),M=jo(_,2),P=M[0],C=M[1],R=w.useState(g!==void 0?g:o),T=jo(R,2),E=T[0],A=T[1],B=w.useCallback(function(k,W){typeof u=="function"&&u(k,W),A(k)},[u]),D=w.useCallback(function(k,W){var V;typeof c=="function"&&(V=c(k,W)),S(V!==void 0?V:k)},[c]),U=w.useCallback(function(){typeof p=="function"&&p(),C(!0)},[p]),H=w.useCallback(function(){typeof d=="function"&&d(),C(!1)},[d]),j=a!==void 0?a:m,$=l!==void 0?l:P,Z=g!==void 0?g:E;return pt(pt({},y),{},{inputValue:j,menuIsOpen:$,onChange:B,onInputChange:D,onMenuClose:H,onMenuOpen:U,value:Z})}function bse(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function fR(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Gk(r.key),r)}}function Mse(n,e,t){return e&&fR(n.prototype,e),t&&fR(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ow(n,e){return Ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ow(n,e)}function Ese(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Ow(n,e)}function o0(n){return o0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},o0(n)}function Ase(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cse(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Tse(n,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cse(n)}function Lse(n){var e=Ase();return function(){var r=o0(n),i;if(e){var s=o0(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Tse(this,i)}}function Pse(n){if(Array.isArray(n))return Dw(n)}function Rse(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Ise(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X4(n){return Pse(n)||Rse(n)||K4(n)||Ise()}function Bse(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function Dse(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Ose=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Dse(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Bse(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Rr="-ms-",a0="-moz-",Xt="-webkit-",Y4="comm",dE="rule",hE="decl",kse="@import",Q4="@keyframes",Fse="@layer",Nse=Math.abs,ty=String.fromCharCode,Use=Object.assign;function zse(n,e){return yr(n,0)^45?(((e<<2^yr(n,0))<<2^yr(n,1))<<2^yr(n,2))<<2^yr(n,3):0}function Z4(n){return n.trim()}function Hse(n,e){return(n=e.exec(n))?n[0]:n}function Yt(n,e,t){return n.replace(e,t)}function kw(n,e){return n.indexOf(e)}function yr(n,e){return n.charCodeAt(e)|0}function jh(n,e,t){return n.slice(e,t)}function Zs(n){return n.length}function pE(n){return n.length}function Ng(n,e){return e.push(n),n}function Gse(n,e){return n.map(e).join("")}var ny=1,df=1,q4=0,mi=0,Jn=0,Nf="";function ry(n,e,t,r,i,s,o){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:ny,column:df,length:o,return:""}}function Od(n,e){return Use(ry("",null,null,"",null,null,0),n,{length:-n.length},e)}function Vse(){return Jn}function jse(){return Jn=mi>0?yr(Nf,--mi):0,df--,Jn===10&&(df=1,ny--),Jn}function Pi(){return Jn=mi<q4?yr(Nf,mi++):0,df++,Jn===10&&(df=1,ny++),Jn}function ao(){return yr(Nf,mi)}function hv(){return mi}function Mp(n,e){return jh(Nf,n,e)}function Wh(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function eN(n){return ny=df=1,q4=Zs(Nf=n),mi=0,[]}function tN(n){return Nf="",n}function pv(n){return Z4(Mp(mi-1,Fw(n===91?n+2:n===40?n+1:n)))}function Wse(n){for(;(Jn=ao())&&Jn<33;)Pi();return Wh(n)>2||Wh(Jn)>3?"":" "}function $se(n,e){for(;--e&&Pi()&&!(Jn<48||Jn>102||Jn>57&&Jn<65||Jn>70&&Jn<97););return Mp(n,hv()+(e<6&&ao()==32&&Pi()==32))}function Fw(n){for(;Pi();)switch(Jn){case n:return mi;case 34:case 39:n!==34&&n!==39&&Fw(Jn);break;case 40:n===41&&Fw(n);break;case 92:Pi();break}return mi}function Jse(n,e){for(;Pi()&&n+Jn!==47+10;)if(n+Jn===42+42&&ao()===47)break;return"/*"+Mp(e,mi-1)+"*"+ty(n===47?n:Pi())}function Kse(n){for(;!Wh(ao());)Pi();return Mp(n,mi)}function Xse(n){return tN(mv("",null,null,null,[""],n=eN(n),0,[0],n))}function mv(n,e,t,r,i,s,o,a,l){for(var u=0,c=0,d=o,p=0,g=0,y=0,x=1,v=1,m=1,S=0,_="",M=i,P=s,C=r,R=_;v;)switch(y=S,S=Pi()){case 40:if(y!=108&&yr(R,d-1)==58){kw(R+=Yt(pv(S),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:R+=pv(S);break;case 9:case 10:case 13:case 32:R+=Wse(y);break;case 92:R+=$se(hv()-1,7);continue;case 47:switch(ao()){case 42:case 47:Ng(Yse(Jse(Pi(),hv()),e,t),l);break;default:R+="/"}break;case 123*x:a[u++]=Zs(R)*m;case 125*x:case 59:case 0:switch(S){case 0:case 125:v=0;case 59+c:m==-1&&(R=Yt(R,/\f/g,"")),g>0&&Zs(R)-d&&Ng(g>32?hR(R+";",r,t,d-1):hR(Yt(R," ","")+";",r,t,d-2),l);break;case 59:R+=";";default:if(Ng(C=dR(R,e,t,u,c,i,a,_,M=[],P=[],d),s),S===123)if(c===0)mv(R,e,C,C,M,s,d,a,P);else switch(p===99&&yr(R,3)===110?100:p){case 100:case 108:case 109:case 115:mv(n,C,C,r&&Ng(dR(n,C,C,0,0,i,a,_,i,M=[],d),P),i,P,d,a,r?M:P);break;default:mv(R,C,C,C,[""],P,0,a,P)}}u=c=g=0,x=m=1,_=R="",d=o;break;case 58:d=1+Zs(R),g=y;default:if(x<1){if(S==123)--x;else if(S==125&&x++==0&&jse()==125)continue}switch(R+=ty(S),S*x){case 38:m=c>0?1:(R+="\f",-1);break;case 44:a[u++]=(Zs(R)-1)*m,m=1;break;case 64:ao()===45&&(R+=pv(Pi())),p=ao(),c=d=Zs(_=R+=Kse(hv())),S++;break;case 45:y===45&&Zs(R)==2&&(x=0)}}return s}function dR(n,e,t,r,i,s,o,a,l,u,c){for(var d=i-1,p=i===0?s:[""],g=pE(p),y=0,x=0,v=0;y<r;++y)for(var m=0,S=jh(n,d+1,d=Nse(x=o[y])),_=n;m<g;++m)(_=Z4(x>0?p[m]+" "+S:Yt(S,/&\f/g,p[m])))&&(l[v++]=_);return ry(n,e,t,i===0?dE:a,l,u,c)}function Yse(n,e,t){return ry(n,e,t,Y4,ty(Vse()),jh(n,2,-2),0)}function hR(n,e,t,r){return ry(n,e,t,hE,jh(n,0,r),jh(n,r+1,-1),r)}function Vc(n,e){for(var t="",r=pE(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function Qse(n,e,t,r){switch(n.type){case Fse:if(n.children.length)break;case kse:case hE:return n.return=n.return||n.value;case Y4:return"";case Q4:return n.return=n.value+"{"+Vc(n.children,r)+"}";case dE:n.value=n.props.join(",")}return Zs(t=Vc(n.children,r))?n.return=n.value+"{"+t+"}":""}function Zse(n){var e=pE(n);return function(t,r,i,s){for(var o="",a=0;a<e;a++)o+=n[a](t,r,i,s)||"";return o}}function qse(n){return function(e){e.root||(e=e.return)&&n(e)}}function eoe(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var toe=function(e,t,r){for(var i=0,s=0;i=s,s=ao(),i===38&&s===12&&(t[r]=1),!Wh(s);)Pi();return Mp(e,mi)},noe=function(e,t){var r=-1,i=44;do switch(Wh(i)){case 0:i===38&&ao()===12&&(t[r]=1),e[r]+=toe(mi-1,t,r);break;case 2:e[r]+=pv(i);break;case 4:if(i===44){e[++r]=ao()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=ty(i)}while(i=Pi());return e},roe=function(e,t){return tN(noe(eN(e),t))},pR=new WeakMap,ioe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!pR.get(r))&&!i){pR.set(e,!0);for(var s=[],o=roe(t,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},soe=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function nN(n,e){switch(zse(n,e)){case 5103:return Xt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Xt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Xt+n+a0+n+Rr+n+n;case 6828:case 4268:return Xt+n+Rr+n+n;case 6165:return Xt+n+Rr+"flex-"+n+n;case 5187:return Xt+n+Yt(n,/(\w+).+(:[^]+)/,Xt+"box-$1$2"+Rr+"flex-$1$2")+n;case 5443:return Xt+n+Rr+"flex-item-"+Yt(n,/flex-|-self/,"")+n;case 4675:return Xt+n+Rr+"flex-line-pack"+Yt(n,/align-content|flex-|-self/,"")+n;case 5548:return Xt+n+Rr+Yt(n,"shrink","negative")+n;case 5292:return Xt+n+Rr+Yt(n,"basis","preferred-size")+n;case 6060:return Xt+"box-"+Yt(n,"-grow","")+Xt+n+Rr+Yt(n,"grow","positive")+n;case 4554:return Xt+Yt(n,/([^-])(transform)/g,"$1"+Xt+"$2")+n;case 6187:return Yt(Yt(Yt(n,/(zoom-|grab)/,Xt+"$1"),/(image-set)/,Xt+"$1"),n,"")+n;case 5495:case 3959:return Yt(n,/(image-set\([^]*)/,Xt+"$1$`$1");case 4968:return Yt(Yt(n,/(.+:)(flex-)?(.*)/,Xt+"box-pack:$3"+Rr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Xt+n+n;case 4095:case 3583:case 4068:case 2532:return Yt(n,/(.+)-inline(.+)/,Xt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Zs(n)-1-e>6)switch(yr(n,e+1)){case 109:if(yr(n,e+4)!==45)break;case 102:return Yt(n,/(.+:)(.+)-([^]+)/,"$1"+Xt+"$2-$3$1"+a0+(yr(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~kw(n,"stretch")?nN(Yt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(yr(n,e+1)!==115)break;case 6444:switch(yr(n,Zs(n)-3-(~kw(n,"!important")&&10))){case 107:return Yt(n,":",":"+Xt)+n;case 101:return Yt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Xt+(yr(n,14)===45?"inline-":"")+"box$3$1"+Xt+"$2$3$1"+Rr+"$2box$3")+n}break;case 5936:switch(yr(n,e+11)){case 114:return Xt+n+Rr+Yt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Xt+n+Rr+Yt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Xt+n+Rr+Yt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Xt+n+Rr+n+n}return n}var ooe=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case hE:e.return=nN(e.value,e.length);break;case Q4:return Vc([Od(e,{value:Yt(e.value,"@","@"+Xt)})],i);case dE:if(e.length)return Gse(e.props,function(s){switch(Hse(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Vc([Od(e,{props:[Yt(s,/:(read-\w+)/,":"+a0+"$1")]})],i);case"::placeholder":return Vc([Od(e,{props:[Yt(s,/:(plac\w+)/,":"+Xt+"input-$1")]}),Od(e,{props:[Yt(s,/:(plac\w+)/,":"+a0+"$1")]}),Od(e,{props:[Yt(s,/:(plac\w+)/,Rr+"input-$1")]})],i)}return""})}},aoe=[ooe],loe=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var v=x.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var i=e.stylisPlugins||aoe,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(x){for(var v=x.getAttribute("data-emotion").split(" "),m=1;m<v.length;m++)s[v[m]]=!0;a.push(x)});var l,u=[ioe,soe];{var c,d=[Qse,qse(function(x){c.insert(x)})],p=Zse(u.concat(i,d)),g=function(v){return Vc(Xse(v),p)};l=function(v,m,S,_){c=S,g(v?v+"{"+m.styles+"}":m.styles),_&&(y.inserted[m.name]=!0)}}var y={key:t,sheet:new Ose({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return y.sheet.hydrate(a),y},rN={exports:{}},rn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hr=typeof Symbol=="function"&&Symbol.for,mE=hr?Symbol.for("react.element"):60103,gE=hr?Symbol.for("react.portal"):60106,iy=hr?Symbol.for("react.fragment"):60107,sy=hr?Symbol.for("react.strict_mode"):60108,oy=hr?Symbol.for("react.profiler"):60114,ay=hr?Symbol.for("react.provider"):60109,ly=hr?Symbol.for("react.context"):60110,vE=hr?Symbol.for("react.async_mode"):60111,uy=hr?Symbol.for("react.concurrent_mode"):60111,cy=hr?Symbol.for("react.forward_ref"):60112,fy=hr?Symbol.for("react.suspense"):60113,uoe=hr?Symbol.for("react.suspense_list"):60120,dy=hr?Symbol.for("react.memo"):60115,hy=hr?Symbol.for("react.lazy"):60116,coe=hr?Symbol.for("react.block"):60121,foe=hr?Symbol.for("react.fundamental"):60117,doe=hr?Symbol.for("react.responder"):60118,hoe=hr?Symbol.for("react.scope"):60119;function Oi(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case mE:switch(n=n.type,n){case vE:case uy:case iy:case oy:case sy:case fy:return n;default:switch(n=n&&n.$$typeof,n){case ly:case cy:case hy:case dy:case ay:return n;default:return e}}case gE:return e}}}function iN(n){return Oi(n)===uy}rn.AsyncMode=vE;rn.ConcurrentMode=uy;rn.ContextConsumer=ly;rn.ContextProvider=ay;rn.Element=mE;rn.ForwardRef=cy;rn.Fragment=iy;rn.Lazy=hy;rn.Memo=dy;rn.Portal=gE;rn.Profiler=oy;rn.StrictMode=sy;rn.Suspense=fy;rn.isAsyncMode=function(n){return iN(n)||Oi(n)===vE};rn.isConcurrentMode=iN;rn.isContextConsumer=function(n){return Oi(n)===ly};rn.isContextProvider=function(n){return Oi(n)===ay};rn.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===mE};rn.isForwardRef=function(n){return Oi(n)===cy};rn.isFragment=function(n){return Oi(n)===iy};rn.isLazy=function(n){return Oi(n)===hy};rn.isMemo=function(n){return Oi(n)===dy};rn.isPortal=function(n){return Oi(n)===gE};rn.isProfiler=function(n){return Oi(n)===oy};rn.isStrictMode=function(n){return Oi(n)===sy};rn.isSuspense=function(n){return Oi(n)===fy};rn.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===iy||n===uy||n===oy||n===sy||n===fy||n===uoe||typeof n=="object"&&n!==null&&(n.$$typeof===hy||n.$$typeof===dy||n.$$typeof===ay||n.$$typeof===ly||n.$$typeof===cy||n.$$typeof===foe||n.$$typeof===doe||n.$$typeof===hoe||n.$$typeof===coe)};rn.typeOf=Oi;rN.exports=rn;var poe=rN.exports,sN=poe,moe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},goe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},oN={};oN[sN.ForwardRef]=moe;oN[sN.Memo]=goe;var voe=!0;function yoe(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):r+=i+" "}),r}var aN=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||voe===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},xoe=function(e,t,r){aN(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function _oe(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Soe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},woe=/[A-Z]|^ms/g,boe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,lN=function(e){return e.charCodeAt(1)===45},mR=function(e){return e!=null&&typeof e!="boolean"},d_=eoe(function(n){return lN(n)?n:n.replace(woe,"-$&").toLowerCase()}),gR=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(boe,function(r,i,s){return qs={name:i,styles:s,next:qs},i})}return Soe[e]!==1&&!lN(e)&&typeof t=="number"&&t!==0?t+"px":t};function $h(n,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return qs={name:t.name,styles:t.styles,next:qs},t.name;if(t.styles!==void 0){var r=t.next;if(r!==void 0)for(;r!==void 0;)qs={name:r.name,styles:r.styles,next:qs},r=r.next;var i=t.styles+";";return i}return Moe(n,e,t)}case"function":{if(n!==void 0){var s=qs,o=t(n);return qs=s,$h(n,e,o)}break}}if(e==null)return t;var a=e[t];return a!==void 0?a:t}function Moe(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=$h(n,e,t[i])+";";else for(var s in t){var o=t[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":mR(o)&&(r+=d_(s)+":"+gR(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)mR(o[a])&&(r+=d_(s)+":"+gR(s,o[a])+";");else{var l=$h(n,e,o);switch(s){case"animation":case"animationName":{r+=d_(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var vR=/label:\s*([^\s;\n{]+)\s*(;|$)/g,qs,uN=function(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";qs=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=$h(r,t,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=$h(r,t,e[a]),i&&(s+=o[a]);vR.lastIndex=0;for(var l="",u;(u=vR.exec(s))!==null;)l+="-"+u[1];var c=_oe(s)+l;return{name:c,styles:s,next:qs}},Eoe=function(e){return e()},Aoe=jc["useInsertionEffect"]?jc["useInsertionEffect"]:!1,Coe=Aoe||Eoe,yE={}.hasOwnProperty,cN=w.createContext(typeof HTMLElement<"u"?loe({key:"css"}):null);cN.Provider;var Toe=function(e){return w.forwardRef(function(t,r){var i=w.useContext(cN);return e(t,i,r)})},Loe=w.createContext({}),Nw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Poe=function(e,t){var r={};for(var i in t)yE.call(t,i)&&(r[i]=t[i]);return r[Nw]=e,r},Roe=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return aN(t,r,i),Coe(function(){return xoe(t,r,i)}),null},Ioe=Toe(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=n[Nw],s=[r],o="";typeof n.className=="string"?o=yoe(e.registered,s,n.className):n.className!=null&&(o=n.className+" ");var a=uN(s,void 0,w.useContext(Loe));o+=e.key+"-"+a.name;var l={};for(var u in n)yE.call(n,u)&&u!=="css"&&u!==Nw&&(l[u]=n[u]);return l.ref=t,l.className=o,w.createElement(w.Fragment,null,w.createElement(Roe,{cache:e,serialized:a,isStringTag:typeof i=="string"}),w.createElement(i,l))}),Boe=Ioe,ft=function(e,t){var r=arguments;if(t==null||!yE.call(t,"css"))return w.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=Boe,s[1]=Poe(e,t);for(var o=2;o<i;o++)s[o]=r[o];return w.createElement.apply(null,s)};function xE(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return uN(e)}var Doe=function(){var e=xE.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Ooe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function koe(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}const Foe=["top","right","bottom","left"];Foe.reduce((n,e)=>n.concat(e,e+"-start",e+"-end"),[]);function to(n){var e;return((e=n.ownerDocument)==null?void 0:e.defaultView)||window}function fN(n){return to(n).getComputedStyle(n)}function dN(n){return n instanceof to(n).Node}function hN(n){return dN(n)?(n.nodeName||"").toLowerCase():""}let Ug;function Noe(){if(Ug)return Ug;const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?(Ug=n.brands.map(e=>e.brand+"/"+e.version).join(" "),Ug):navigator.userAgent}function _E(n){return n instanceof to(n).HTMLElement}function Gl(n){return n instanceof to(n).Element}function yR(n){return typeof ShadowRoot>"u"?!1:n instanceof to(n).ShadowRoot||n instanceof ShadowRoot}function pN(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=fN(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function Uoe(){return/^((?!chrome|android).)*safari/i.test(Noe())}function zoe(n){return["html","body","#document"].includes(hN(n))}const l0=Math.round;function Hoe(n){const e=fN(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=_E(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=l0(t)!==s||l0(r)!==o;return a&&(t=s,r=o),{width:t,height:r,fallback:a}}function mN(n){return Gl(n)?n:n.contextElement}const gN={x:1,y:1};function h_(n){const e=mN(n);if(!_E(e))return gN;const t=e.getBoundingClientRect(),{width:r,height:i,fallback:s}=Hoe(e);let o=(s?l0(t.width):t.width)/r,a=(s?l0(t.height):t.height)/i;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}function xR(n,e,t,r){var i,s;e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),a=mN(n);let l=gN;e&&(r?Gl(r)&&(l=h_(r)):l=h_(n));const u=a?to(a):window,c=Uoe()&&t;let d=(o.left+(c&&((i=u.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,p=(o.top+(c&&((s=u.visualViewport)==null?void 0:s.offsetTop)||0))/l.y,g=o.width/l.x,y=o.height/l.y;if(a){const x=to(a),v=r&&Gl(r)?to(r):r;let m=x.frameElement;for(;m&&r&&v!==x;){const S=h_(m),_=m.getBoundingClientRect(),M=getComputedStyle(m);_.x+=(m.clientLeft+parseFloat(M.paddingLeft))*S.x,_.y+=(m.clientTop+parseFloat(M.paddingTop))*S.y,d*=S.x,p*=S.y,g*=S.x,y*=S.y,d+=_.x,p+=_.y,m=to(m).frameElement}}return koe({width:g,height:y,x:d,y:p})}function Goe(n){return((dN(n)?n.ownerDocument:n.document)||window.document).documentElement}function Voe(n){if(hN(n)==="html")return n;const e=n.assignedSlot||n.parentNode||yR(n)&&n.host||Goe(n);return yR(e)?e.host:e}function vN(n){const e=Voe(n);return zoe(e)?e.ownerDocument.body:_E(e)&&pN(e)?e:vN(e)}function gv(n,e){var t;e===void 0&&(e=[]);const r=vN(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=to(r);return i?e.concat(s,s.visualViewport||[],pN(r)?r:[]):e.concat(r,gv(r))}function joe(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:a=!1}=r,l=i||s?[...Gl(n)?gv(n):n.contextElement?gv(n.contextElement):[],...gv(e)]:[];l.forEach(p=>{const g=!Gl(p)&&p.toString().includes("V");!i||a&&!g||p.addEventListener("scroll",t,{passive:!0}),s&&p.addEventListener("resize",t)});let u,c=null;o&&(c=new ResizeObserver(()=>{t()}),Gl(n)&&!a&&c.observe(n),Gl(n)||!n.contextElement||a||c.observe(n.contextElement),c.observe(e));let d=a?xR(n):null;return a&&function p(){const g=xR(n);!d||g.x===d.x&&g.y===d.y&&g.width===d.width&&g.height===d.height||t(),d=g,u=requestAnimationFrame(p)}(),t(),()=>{var p;l.forEach(g=>{i&&g.removeEventListener("scroll",t),s&&g.removeEventListener("resize",t)}),(p=c)==null||p.disconnect(),c=null,a&&cancelAnimationFrame(u)}}var Uw=w.useLayoutEffect,Woe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],u0=function(){};function $oe(n,e){return e?e[0]==="-"?n+e:n+"__"+e:n}function Joe(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&n)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat($oe(n,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var _R=function(e){return nae(e)?e.filter(Boolean):au(e)==="object"&&e!==null?[e]:[]},yN=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=Ff(e,Woe);return pt({},t)},Dn=function(e,t,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(t,e),className:i(r??{},o(t,e),a)}};function py(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function Koe(n){return py(n)?window.innerHeight:n.clientHeight}function xN(n){return py(n)?window.pageYOffset:n.scrollTop}function c0(n,e){if(py(n)){window.scrollTo(0,e);return}n.scrollTop=e}function Xoe(n){var e=getComputedStyle(n),t=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=n;i=i.parentElement;)if(e=getComputedStyle(i),!(t&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function Yoe(n,e,t,r){return t*((n=n/r-1)*n*n+1)+e}function zg(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:u0,i=xN(n),s=e-i,o=10,a=0;function l(){a+=o;var u=Yoe(a,i,s,t);c0(n,u),a<t?window.requestAnimationFrame(l):r(n)}l()}function SR(n,e){var t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>t.bottom?c0(n,Math.min(e.offsetTop+e.clientHeight-n.offsetHeight+i,n.scrollHeight)):r.top-i<t.top&&c0(n,Math.max(e.offsetTop-i,0))}function Qoe(n){var e=n.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function wR(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Zoe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var _N=!1,qoe={get passive(){return _N=!0}},Hg=typeof window<"u"?window:{};Hg.addEventListener&&Hg.removeEventListener&&(Hg.addEventListener("p",u0,qoe),Hg.removeEventListener("p",u0,!1));var eae=_N;function tae(n){return n!=null}function nae(n){return Array.isArray(n)}function Gg(n,e,t){return n?e:t}var rae=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var a=jo(o,1),l=a[0];return!r.includes(l)});return s.reduce(function(o,a){var l=jo(a,2),u=l[0],c=l[1];return o[u]=c,o},{})};function iae(n){var e=n.maxHeight,t=n.menuEl,r=n.minHeight,i=n.placement,s=n.shouldScroll,o=n.isFixedPosition,a=n.controlHeight,l=Xoe(t),u={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return u;var c=l.getBoundingClientRect(),d=c.height,p=t.getBoundingClientRect(),g=p.bottom,y=p.height,x=p.top,v=t.offsetParent.getBoundingClientRect(),m=v.top,S=o?window.innerHeight:Koe(l),_=xN(l),M=parseInt(getComputedStyle(t).marginBottom,10),P=parseInt(getComputedStyle(t).marginTop,10),C=m-P,R=S-x,T=C+_,E=d-_-x,A=g-S+_+M,B=_+x-P,D=160;switch(i){case"auto":case"bottom":if(R>=y)return{placement:"bottom",maxHeight:e};if(E>=y&&!o)return s&&zg(l,A,D),{placement:"bottom",maxHeight:e};if(!o&&E>=r||o&&R>=r){s&&zg(l,A,D);var U=o?R-M:E-M;return{placement:"bottom",maxHeight:U}}if(i==="auto"||o){var H=e,j=o?C:T;return j>=r&&(H=Math.min(j-M-a,e)),{placement:"top",maxHeight:H}}if(i==="bottom")return s&&c0(l,A),{placement:"bottom",maxHeight:e};break;case"top":if(C>=y)return{placement:"top",maxHeight:e};if(T>=y&&!o)return s&&zg(l,B,D),{placement:"top",maxHeight:e};if(!o&&T>=r||o&&C>=r){var $=e;return(!o&&T>=r||o&&C>=r)&&($=o?C-P:T-P),s&&zg(l,B,D),{placement:"top",maxHeight:$}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return u}function sae(n){var e={bottom:"top",top:"bottom"};return n?e[n]:"bottom"}var SN=function(e){return e==="auto"?"bottom":e},oae=function(e,t){var r,i=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,l=s.colors;return pt((r={label:"menu"},ka(r,sae(i),"100%"),ka(r,"position","absolute"),ka(r,"width","100%"),ka(r,"zIndex",1),r),t?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},wN=w.createContext(null),aae=function(e){var t=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,u=w.useContext(wN)||{},c=u.setPortalPlacement,d=w.useRef(null),p=w.useState(i),g=jo(p,2),y=g[0],x=g[1],v=w.useState(null),m=jo(v,2),S=m[0],_=m[1],M=l.spacing.controlHeight;return Uw(function(){var P=d.current;if(P){var C=o==="fixed",R=a&&!C,T=iae({maxHeight:i,menuEl:P,minHeight:r,placement:s,shouldScroll:R,isFixedPosition:C,controlHeight:M});x(T.maxHeight),_(T.placement),c==null||c(T.placement)}},[i,s,o,a,r,c,M]),t({ref:d,placerProps:pt(pt({},e),{},{placement:S||SN(s),maxHeight:y})})},lae=function(e){var t=e.children,r=e.innerRef,i=e.innerProps;return ft("div",$e({},Dn(e,"menu",{menu:!0}),{ref:r},i),t)},uae=lae,cae=function(e,t){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return pt({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:i,paddingTop:i})},fae=function(e){var t=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return ft("div",$e({},Dn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),t)},bN=function(e,t){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return pt({textAlign:"center"},t?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},dae=bN,hae=bN,MN=function(e){var t=e.children,r=e.innerProps;return ft("div",$e({},Dn(e,"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),t)};MN.defaultProps={children:"No options"};var EN=function(e){var t=e.children,r=e.innerProps;return ft("div",$e({},Dn(e,"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),t)};EN.defaultProps={children:"Loading..."};var pae=function(e){var t=e.rect,r=e.offset,i=e.position;return{left:t.left,position:i,top:r,width:t.width,zIndex:1}},mae=function(e){var t=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,l=w.useRef(null),u=w.useRef(null),c=w.useState(SN(o)),d=jo(c,2),p=d[0],g=d[1],y=w.useMemo(function(){return{setPortalPlacement:g}},[]),x=w.useState(null),v=jo(x,2),m=v[0],S=v[1],_=w.useCallback(function(){if(i){var R=Qoe(i),T=a==="fixed"?0:window.pageYOffset,E=R[p]+T;(E!==(m==null?void 0:m.offset)||R.left!==(m==null?void 0:m.rect.left)||R.width!==(m==null?void 0:m.rect.width))&&S({offset:E,rect:R})}},[i,a,p,m==null?void 0:m.offset,m==null?void 0:m.rect.left,m==null?void 0:m.rect.width]);Uw(function(){_()},[_]);var M=w.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),i&&l.current&&(u.current=joe(i,l.current,_,{elementResize:"ResizeObserver"in window}))},[i,_]);Uw(function(){M()},[M]);var P=w.useCallback(function(R){l.current=R,M()},[M]);if(!t&&a!=="fixed"||!m)return null;var C=ft("div",$e({ref:P},Dn(pt(pt({},e),{},{offset:m.offset,position:a,rect:m.rect}),"menuPortal",{"menu-portal":!0}),s),r);return ft(wN.Provider,{value:y},t?ta.createPortal(C,t):C)},gae=function(e){var t=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},vae=function(e){var t=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return ft("div",$e({},Dn(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),t)},yae=function(e,t){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return pt({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},xae=function(e){var t=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return ft("div",$e({},Dn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),t)},_ae=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Sae=function(e){var t=e.children,r=e.innerProps;return ft("div",$e({},Dn(e,"indicatorsContainer",{indicators:!0}),r),t)},bR,wae=["size"],bae={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},AN=function(e){var t=e.size,r=Ff(e,wae);return ft("svg",$e({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:bae},r))},SE=function(e){return ft(AN,$e({size:20},e),ft("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},CN=function(e){return ft(AN,$e({size:20},e),ft("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},TN=function(e,t){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return pt({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},Mae=TN,Eae=function(e){var t=e.children,r=e.innerProps;return ft("div",$e({},Dn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),t||ft(CN,null))},Aae=TN,Cae=function(e){var t=e.children,r=e.innerProps;return ft("div",$e({},Dn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),t||ft(SE,null))},Tae=function(e,t){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return pt({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},Lae=function(e){var t=e.innerProps;return ft("span",$e({},t,Dn(e,"indicatorSeparator",{"indicator-separator":!0})))},Pae=Doe(bR||(bR=Ooe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Rae=function(e,t){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return pt({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},t?{}:{color:r?o.neutral60:o.neutral20,padding:a*2})},p_=function(e){var t=e.delay,r=e.offset;return ft("span",{css:xE({animation:"".concat(Pae," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},LN=function(e){var t=e.innerProps,r=e.isRtl;return ft("div",$e({},Dn(e,"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),ft(p_,{delay:0,offset:r}),ft(p_,{delay:160,offset:!0}),ft(p_,{delay:320,offset:!r}))};LN.defaultProps={size:4};var Iae=function(e,t){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,l=s.spacing;return pt({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},Bae=function(e){var t=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return ft("div",$e({ref:s},Dn(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),o),t)},Dae=Bae,Oae=["data"],kae=function(e,t){var r=e.theme.spacing;return t?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},Fae=function(e){var t=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,l=e.innerProps,u=e.label,c=e.theme,d=e.selectProps;return ft("div",$e({},Dn(e,"group",{group:!0}),l),ft(o,$e({},a,{selectProps:d,theme:c,getStyles:i,getClassNames:s,cx:r}),u),ft("div",null,t))},Nae=function(e,t){var r=e.theme,i=r.colors,s=r.spacing;return pt({label:"group",cursor:"default",display:"block"},t?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},Uae=function(e){var t=yN(e);t.data;var r=Ff(t,Oae);return ft("div",$e({},Dn(e,"groupHeading",{"group-heading":!0}),r))},zae=Fae,Hae=["innerRef","isDisabled","isHidden","inputClassName"],Gae=function(e,t){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,a=s.colors;return pt(pt({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},Vae),t?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},PN={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Vae={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":pt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},PN)},jae=function(e){return pt({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},PN)},Wae=function(e){var t=e.cx,r=e.value,i=yN(e),s=i.innerRef,o=i.isDisabled,a=i.isHidden,l=i.inputClassName,u=Ff(i,Hae);return ft("div",$e({},Dn(e,"input",{"input-container":!0}),{"data-value":r||""}),ft("input",$e({className:t({input:!0},l),ref:s,style:jae(a),disabled:o},u)))},$ae=Wae,Jae=function(e,t){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return pt({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},Kae=function(e,t){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return pt({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Xae=function(e,t){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,a=e.isFocused;return pt({alignItems:"center",display:"flex"},t?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},RN=function(e){var t=e.children,r=e.innerProps;return ft("div",r,t)},Yae=RN,Qae=RN;function Zae(n){var e=n.children,t=n.innerProps;return ft("div",$e({role:"button"},t),e||ft(SE,{size:14}))}var qae=function(e){var t=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,l=e.selectProps,u=r.Container,c=r.Label,d=r.Remove;return ft(u,{data:i,innerProps:pt(pt({},Dn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},ft(c,{data:i,innerProps:pt({},Dn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},t),ft(d,{data:i,innerProps:pt(pt({},Dn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},a),selectProps:l}))},ele=qae,tle=function(e,t){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,l=o.colors;return pt({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},nle=function(e){var t=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return ft("div",$e({},Dn(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},a),t)},rle=nle,ile=function(e,t){var r=e.theme,i=r.spacing,s=r.colors;return pt({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},sle=function(e){var t=e.children,r=e.innerProps;return ft("div",$e({},Dn(e,"placeholder",{placeholder:!0}),r),t)},ole=sle,ale=function(e,t){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return pt({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},lle=function(e){var t=e.children,r=e.isDisabled,i=e.innerProps;return ft("div",$e({},Dn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),t)},ule=lle,cle={ClearIndicator:Cae,Control:Dae,DropdownIndicator:Eae,DownChevron:CN,CrossIcon:SE,Group:zae,GroupHeading:Uae,IndicatorsContainer:Sae,IndicatorSeparator:Lae,Input:$ae,LoadingIndicator:LN,Menu:uae,MenuList:fae,MenuPortal:mae,LoadingMessage:EN,NoOptionsMessage:MN,MultiValue:ele,MultiValueContainer:Yae,MultiValueLabel:Qae,MultiValueRemove:Zae,Option:rle,Placeholder:ole,SelectContainer:vae,SingleValue:ule,ValueContainer:xae},fle=function(e){return pt(pt({},cle),e.components)},MR=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function dle(n,e){return!!(n===e||MR(n)&&MR(e))}function hle(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!dle(n[t],e[t]))return!1;return!0}function ple(n,e){e===void 0&&(e=hle);var t=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(t&&t.lastThis===this&&e(i,t.lastArgs))return t.lastResult;var o=n.apply(this,i);return t={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){t=null},r}var mle={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},gle=function(e){return ft("span",$e({css:mle},e))},ER=gle,vle={guidance:function(e){var t=e.isSearchable,r=e.isMulti,i=e.isDisabled,s=e.tabSelectsValue,o=e.context;switch(o){case"menu":return"Use Up and Down to choose options".concat(i?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var t=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,u=e.isSelected,c=function(y,x){return y&&y.length?"".concat(y.indexOf(x)+1," of ").concat(y.length):""};if(t==="value"&&a)return"value ".concat(o," focused, ").concat(c(a,r),".");if(t==="menu"){var d=l?" disabled":"",p="".concat(u?"selected":"focused").concat(d);return"option ".concat(o," ").concat(p,", ").concat(c(i,r),".")}return""},onFilter:function(e){var t=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(t?" for search term "+t:"",".")}},yle=function(e){var t=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,l=e.selectProps,u=e.id,c=l.ariaLiveMessages,d=l.getOptionLabel,p=l.inputValue,g=l.isMulti,y=l.isOptionDisabled,x=l.isSearchable,v=l.menuIsOpen,m=l.options,S=l.screenReaderStatus,_=l.tabSelectsValue,M=l["aria-label"],P=l["aria-live"],C=w.useMemo(function(){return pt(pt({},vle),c||{})},[c]),R=w.useMemo(function(){var H="";if(t&&C.onChange){var j=t.option,$=t.options,Z=t.removedValue,k=t.removedValues,W=t.value,V=function(se){return Array.isArray(se)?null:se},ce=Z||j||V(W),oe=ce?d(ce):"",re=$||k||void 0,q=re?re.map(d):[],we=pt({isDisabled:ce&&y(ce,a),label:oe,labels:q},t);H=C.onChange(we)}return H},[t,C,y,a,d]),T=w.useMemo(function(){var H="",j=r||i,$=!!(r&&a&&a.includes(r));if(j&&C.onFocus){var Z={focused:j,label:d(j),isDisabled:y(j,a),isSelected:$,options:s,context:j===r?"menu":"value",selectValue:a};H=C.onFocus(Z)}return H},[r,i,d,y,C,s,a]),E=w.useMemo(function(){var H="";if(v&&m.length&&C.onFilter){var j=S({count:s.length});H=C.onFilter({inputValue:p,resultsMessage:j})}return H},[s,p,v,C,m,S]),A=w.useMemo(function(){var H="";if(C.guidance){var j=i?"value":v?"menu":"input";H=C.guidance({"aria-label":M,context:j,isDisabled:r&&y(r,a),isMulti:g,isSearchable:x,tabSelectsValue:_})}return H},[M,r,i,g,y,x,v,C,a,_]),B="".concat(T," ").concat(E," ").concat(A),D=ft(w.Fragment,null,ft("span",{id:"aria-selection"},R),ft("span",{id:"aria-context"},B)),U=(t==null?void 0:t.action)==="initial-input-focus";return ft(w.Fragment,null,ft(ER,{id:u},U&&D),ft(ER,{"aria-live":P,"aria-atomic":"false","aria-relevant":"additions text"},o&&!U&&D))},xle=yle,zw=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],_le=new RegExp("["+zw.map(function(n){return n.letters}).join("")+"]","g"),IN={};for(var m_=0;m_<zw.length;m_++)for(var g_=zw[m_],v_=0;v_<g_.letters.length;v_++)IN[g_.letters[v_]]=g_.base;var BN=function(e){return e.replace(_le,function(t){return IN[t]})},Sle=ple(BN),AR=function(e){return e.replace(/^\s+|\s+$/g,"")},wle=function(e){return"".concat(e.label," ").concat(e.value)},ble=function(e){return function(t,r){if(t.data.__isNew__)return!0;var i=pt({ignoreCase:!0,ignoreAccents:!0,stringify:wle,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,l=i.trim,u=i.matchFrom,c=l?AR(r):r,d=l?AR(a(t)):a(t);return s&&(c=c.toLowerCase(),d=d.toLowerCase()),o&&(c=Sle(c),d=BN(d)),u==="start"?d.substr(0,c.length)===c:d.indexOf(c)>-1}},Mle=["innerRef"];function Ele(n){var e=n.innerRef,t=Ff(n,Mle),r=rae(t,"onExited","in","enter","exit","appear");return ft("input",$e({ref:e},r,{css:xE({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Ale=function(e){e.preventDefault(),e.stopPropagation()};function Cle(n){var e=n.isEnabled,t=n.onBottomArrive,r=n.onBottomLeave,i=n.onTopArrive,s=n.onTopLeave,o=w.useRef(!1),a=w.useRef(!1),l=w.useRef(0),u=w.useRef(null),c=w.useCallback(function(v,m){if(u.current!==null){var S=u.current,_=S.scrollTop,M=S.scrollHeight,P=S.clientHeight,C=u.current,R=m>0,T=M-P-_,E=!1;T>m&&o.current&&(r&&r(v),o.current=!1),R&&a.current&&(s&&s(v),a.current=!1),R&&m>T?(t&&!o.current&&t(v),C.scrollTop=M,E=!0,o.current=!0):!R&&-m>_&&(i&&!a.current&&i(v),C.scrollTop=0,E=!0,a.current=!0),E&&Ale(v)}},[t,r,i,s]),d=w.useCallback(function(v){c(v,v.deltaY)},[c]),p=w.useCallback(function(v){l.current=v.changedTouches[0].clientY},[]),g=w.useCallback(function(v){var m=l.current-v.changedTouches[0].clientY;c(v,m)},[c]),y=w.useCallback(function(v){if(v){var m=eae?{passive:!1}:!1;v.addEventListener("wheel",d,m),v.addEventListener("touchstart",p,m),v.addEventListener("touchmove",g,m)}},[g,p,d]),x=w.useCallback(function(v){v&&(v.removeEventListener("wheel",d,!1),v.removeEventListener("touchstart",p,!1),v.removeEventListener("touchmove",g,!1))},[g,p,d]);return w.useEffect(function(){if(e){var v=u.current;return y(v),function(){x(v)}}},[e,y,x]),function(v){u.current=v}}var CR=["boxSizing","height","overflow","paddingRight","position"],TR={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function LR(n){n.preventDefault()}function PR(n){n.stopPropagation()}function RR(){var n=this.scrollTop,e=this.scrollHeight,t=n+this.offsetHeight;n===0?this.scrollTop=1:t===e&&(this.scrollTop=n-1)}function IR(){return"ontouchstart"in window||navigator.maxTouchPoints}var BR=!!(typeof window<"u"&&window.document&&window.document.createElement),kd=0,ac={capture:!1,passive:!1};function Tle(n){var e=n.isEnabled,t=n.accountForScrollbars,r=t===void 0?!0:t,i=w.useRef({}),s=w.useRef(null),o=w.useCallback(function(l){if(BR){var u=document.body,c=u&&u.style;if(r&&CR.forEach(function(y){var x=c&&c[y];i.current[y]=x}),r&&kd<1){var d=parseInt(i.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,g=window.innerWidth-p+d||0;Object.keys(TR).forEach(function(y){var x=TR[y];c&&(c[y]=x)}),c&&(c.paddingRight="".concat(g,"px"))}u&&IR()&&(u.addEventListener("touchmove",LR,ac),l&&(l.addEventListener("touchstart",RR,ac),l.addEventListener("touchmove",PR,ac))),kd+=1}},[r]),a=w.useCallback(function(l){if(BR){var u=document.body,c=u&&u.style;kd=Math.max(kd-1,0),r&&kd<1&&CR.forEach(function(d){var p=i.current[d];c&&(c[d]=p)}),u&&IR()&&(u.removeEventListener("touchmove",LR,ac),l&&(l.removeEventListener("touchstart",RR,ac),l.removeEventListener("touchmove",PR,ac)))}},[r]);return w.useEffect(function(){if(e){var l=s.current;return o(l),function(){a(l)}}},[e,o,a]),function(l){s.current=l}}var Lle=function(){return document.activeElement&&document.activeElement.blur()},Ple={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Rle(n){var e=n.children,t=n.lockEnabled,r=n.captureEnabled,i=r===void 0?!0:r,s=n.onBottomArrive,o=n.onBottomLeave,a=n.onTopArrive,l=n.onTopLeave,u=Cle({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:l}),c=Tle({isEnabled:t}),d=function(g){u(g),c(g)};return ft(w.Fragment,null,t&&ft("div",{onClick:Lle,css:Ple}),e(d))}var Ile={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Ble=function(e){var t=e.name,r=e.onFocus;return ft("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:Ile,value:"",onChange:function(){}})},Dle=Ble,Ole=function(e){return e.label},kle=function(e){return e.label},Fle=function(e){return e.value},Nle=function(e){return!!e.isDisabled},Ule={clearIndicator:Aae,container:gae,control:Iae,dropdownIndicator:Mae,group:kae,groupHeading:Nae,indicatorsContainer:_ae,indicatorSeparator:Tae,input:Gae,loadingIndicator:Rae,loadingMessage:hae,menu:oae,menuList:cae,menuPortal:pae,multiValue:Jae,multiValueLabel:Kae,multiValueRemove:Xae,noOptionsMessage:dae,option:tle,placeholder:ile,singleValue:ale,valueContainer:yae},zle={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Hle=4,DN=4,Gle=38,Vle=DN*2,jle={baseUnit:DN,controlHeight:Gle,menuGutter:Vle},y_={borderRadius:Hle,colors:zle,spacing:jle},Wle={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:wR(),captureMenuScroll:!wR(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:ble(),formatGroupLabel:Ole,getOptionLabel:kle,getOptionValue:Fle,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Nle,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Zoe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function DR(n,e,t,r){var i=NN(n,e,t),s=UN(n,e,t),o=FN(n,e),a=f0(n,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function ON(n,e){return n.options.map(function(t,r){if("options"in t){var i=t.options.map(function(o,a){return DR(n,o,e,a)}).filter(function(o){return OR(n,o)});return i.length>0?{type:"group",data:t,options:i,index:r}:void 0}var s=DR(n,t,e,r);return OR(n,s)?s:void 0}).filter(tae)}function kN(n){return n.reduce(function(e,t){return t.type==="group"?e.push.apply(e,X4(t.options.map(function(r){return r.data}))):e.push(t.data),e},[])}function $le(n,e){return kN(ON(n,e))}function OR(n,e){var t=n.inputValue,r=t===void 0?"":t,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!HN(n)||!s)&&zN(n,{label:o,value:a,data:i},r)}function Jle(n,e){var t=n.focusedValue,r=n.selectValue,i=r.indexOf(t);if(i>-1){var s=e.indexOf(t);if(s>-1)return t;if(i<e.length)return e[i]}return null}function Kle(n,e){var t=n.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var FN=function(e,t){return e.getOptionLabel(t)},f0=function(e,t){return e.getOptionValue(t)};function NN(n,e,t){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(e,t):!1}function UN(n,e,t){if(t.indexOf(e)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(e,t);var r=f0(n,e);return t.some(function(i){return f0(n,i)===r})}function zN(n,e,t){return n.filterOption?n.filterOption(e,t):!0}var HN=function(e){var t=e.hideSelectedOptions,r=e.isMulti;return t===void 0?r:t},Xle=1,GN=function(n){Ese(t,n);var e=Lse(t);function t(r){var i;if(bse(this,t),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.instancePrefix="",i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(a){i.controlRef=a},i.focusedOptionRef=null,i.getFocusedOptionRef=function(a){i.focusedOptionRef=a},i.menuListRef=null,i.getMenuListRef=function(a){i.menuListRef=a},i.inputRef=null,i.getInputRef=function(a){i.inputRef=a},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(a,l){var u=i.props,c=u.onChange,d=u.name;l.name=d,i.ariaOnChange(a,l),c(a,l)},i.setValue=function(a,l,u){var c=i.props,d=c.closeMenuOnSelect,p=c.isMulti,g=c.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:g}),d&&(i.setState({inputIsHiddenAfterUpdate:!p}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(a,{action:l,option:u})},i.selectOption=function(a){var l=i.props,u=l.blurInputOnSelect,c=l.isMulti,d=l.name,p=i.state.selectValue,g=c&&i.isOptionSelected(a,p),y=i.isOptionDisabled(a,p);if(g){var x=i.getOptionValue(a);i.setValue(p.filter(function(v){return i.getOptionValue(v)!==x}),"deselect-option",a)}else if(!y)c?i.setValue([].concat(X4(p),[a]),"select-option",a):i.setValue(a,"select-option");else{i.ariaOnChange(a,{action:"select-option",option:a,name:d});return}u&&i.blurInput()},i.removeValue=function(a){var l=i.props.isMulti,u=i.state.selectValue,c=i.getOptionValue(a),d=u.filter(function(g){return i.getOptionValue(g)!==c}),p=Gg(l,d,d[0]||null);i.onChange(p,{action:"remove-value",removedValue:a}),i.focusInput()},i.clearValue=function(){var a=i.state.selectValue;i.onChange(Gg(i.props.isMulti,[],null),{action:"clear",removedValues:a})},i.popValue=function(){var a=i.props.isMulti,l=i.state.selectValue,u=l[l.length-1],c=l.slice(0,l.length-1),d=Gg(a,c,c[0]||null);i.onChange(d,{action:"pop-value",removedValue:u})},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return Joe.apply(void 0,[i.props.classNamePrefix].concat(l))},i.getOptionLabel=function(a){return FN(i.props,a)},i.getOptionValue=function(a){return f0(i.props,a)},i.getStyles=function(a,l){var u=i.props.unstyled,c=Ule[a](l,u);c.boxSizing="border-box";var d=i.props.styles[a];return d?d(c,l):c},i.getClassNames=function(a,l){var u,c;return(u=(c=i.props.classNames)[a])===null||u===void 0?void 0:u.call(c,l)},i.getElementId=function(a){return"".concat(i.instancePrefix,"-").concat(a)},i.getComponents=function(){return fle(i.props)},i.buildCategorizedOptions=function(){return ON(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return kN(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(a,l){i.setState({ariaSelection:pt({value:a},l)})},i.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(a){i.blockOptionHover=!1},i.onControlMouseDown=function(a){if(!a.defaultPrevented){var l=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&i.onMenuClose():l&&i.openMenu("first"):(l&&(i.openAfterFocus=!0),i.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},i.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!i.props.isDisabled){var l=i.props,u=l.isMulti,c=l.menuIsOpen;i.focusInput(),c?(i.setState({inputIsHiddenAfterUpdate:!u}),i.onMenuClose()):i.openMenu("first"),a.preventDefault()}},i.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(i.clearValue(),a.preventDefault(),i.openAfterFocus=!1,a.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(a){typeof i.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&py(a.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(a)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(a){var l=a.touches,u=l&&l.item(0);u&&(i.initialTouchX=u.clientX,i.initialTouchY=u.clientY,i.userIsDragging=!1)},i.onTouchMove=function(a){var l=a.touches,u=l&&l.item(0);if(u){var c=Math.abs(u.clientX-i.initialTouchX),d=Math.abs(u.clientY-i.initialTouchY),p=5;i.userIsDragging=c>p||d>p}},i.onTouchEnd=function(a){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(a.target)&&i.menuListRef&&!i.menuListRef.contains(a.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(a){i.userIsDragging||i.onControlMouseDown(a)},i.onClearIndicatorTouchEnd=function(a){i.userIsDragging||i.onClearIndicatorMouseDown(a)},i.onDropdownIndicatorTouchEnd=function(a){i.userIsDragging||i.onDropdownIndicatorMouseDown(a)},i.handleInputChange=function(a){var l=i.props.inputValue,u=a.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(u,{action:"input-change",prevInputValue:l}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(a){i.props.onFocus&&i.props.onFocus(a),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(a){var l=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(a),i.onInputChange("",{action:"input-blur",prevInputValue:l}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(a){i.blockOptionHover||i.state.focusedOption===a||i.setState({focusedOption:a})},i.shouldHideSelectedOptions=function(){return HN(i.props)},i.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),i.focus()},i.onKeyDown=function(a){var l=i.props,u=l.isMulti,c=l.backspaceRemovesValue,d=l.escapeClearsValue,p=l.inputValue,g=l.isClearable,y=l.isDisabled,x=l.menuIsOpen,v=l.onKeyDown,m=l.tabSelectsValue,S=l.openMenuOnFocus,_=i.state,M=_.focusedOption,P=_.focusedValue,C=_.selectValue;if(!y&&!(typeof v=="function"&&(v(a),a.defaultPrevented))){switch(i.blockOptionHover=!0,a.key){case"ArrowLeft":if(!u||p)return;i.focusValue("previous");break;case"ArrowRight":if(!u||p)return;i.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(P)i.removeValue(P);else{if(!c)return;u?i.popValue():g&&i.clearValue()}break;case"Tab":if(i.isComposing||a.shiftKey||!x||!m||!M||S&&i.isOptionSelected(M,C))return;i.selectOption(M);break;case"Enter":if(a.keyCode===229)break;if(x){if(!M||i.isComposing)return;i.selectOption(M);break}return;case"Escape":x?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:p}),i.onMenuClose()):g&&d&&i.clearValue();break;case" ":if(p)return;if(!x){i.openMenu("first");break}if(!M)return;i.selectOption(M);break;case"ArrowUp":x?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":x?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!x)return;i.focusOption("pageup");break;case"PageDown":if(!x)return;i.focusOption("pagedown");break;case"Home":if(!x)return;i.focusOption("first");break;case"End":if(!x)return;i.focusOption("last");break;default:return}a.preventDefault()}},i.instancePrefix="react-select-"+(i.props.instanceId||++Xle),i.state.selectValue=_R(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.buildFocusableOptions(),o=s.indexOf(i.state.selectValue[0]);i.state.focusedOption=s[o]}return i}return Mse(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&SR(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(SR(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,l=o.isFocused,u=this.buildFocusableOptions(),c=i==="first"?0:u.length-1;if(!this.props.isMulti){var d=u.indexOf(a[0]);d>-1&&(c=d)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[c]},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(a);a||(l=-1);var u=o.length-1,c=-1;if(o.length){switch(i){case"previous":l===0?c=0:l===-1?c=u:c=l-1;break;case"next":l>-1&&l<u&&(c=l+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:o[c]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,u=a.indexOf(o);o||(u=-1),i==="up"?l=u>0?u-1:a.length-1:i==="down"?l=(u+1)%a.length:i==="pageup"?(l=u-s,l<0&&(l=0)):i==="pagedown"?(l=u+s,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(y_):pt(pt({},y_),this.props.theme):y_}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,l=this.getValue,u=this.selectOption,c=this.setValue,d=this.props,p=d.isMulti,g=d.isRtl,y=d.options,x=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:l,hasValue:x,isMulti:p,isRtl:g,options:y,selectOption:u,selectProps:d,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return NN(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return UN(this.props,i,s)}},{key:"filterOption",value:function(i,s){return zN(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,l=i.inputValue,u=i.tabIndex,c=i.form,d=i.menuIsOpen,p=i.required,g=this.getComponents(),y=g.Input,x=this.state,v=x.inputIsHidden,m=x.ariaSelection,S=this.commonProps,_=a||this.getElementId("input"),M=pt(pt(pt({"aria-autocomplete":"list","aria-expanded":d,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox"},d&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(m==null?void 0:m.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?w.createElement(y,$e({},S,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:_,innerRef:this.getInputRef,isDisabled:s,isHidden:v,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:c,type:"text",value:l},M)):w.createElement(Ele,$e({id:_,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:u0,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:c,value:""},M))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,u=s.MultiValueRemove,c=s.SingleValue,d=s.Placeholder,p=this.commonProps,g=this.props,y=g.controlShouldRenderValue,x=g.isDisabled,v=g.isMulti,m=g.inputValue,S=g.placeholder,_=this.state,M=_.selectValue,P=_.focusedValue,C=_.isFocused;if(!this.hasValue()||!y)return m?null:w.createElement(d,$e({},p,{key:"placeholder",isDisabled:x,isFocused:C,innerProps:{id:this.getElementId("placeholder")}}),S);if(v)return M.map(function(T,E){var A=T===P,B="".concat(i.getOptionLabel(T),"-").concat(i.getOptionValue(T));return w.createElement(o,$e({},p,{components:{Container:a,Label:l,Remove:u},isFocused:A,isDisabled:x,key:B,index:E,removeProps:{onClick:function(){return i.removeValue(T)},onTouchEnd:function(){return i.removeValue(T)},onMouseDown:function(U){U.preventDefault()}},data:T}),i.formatOptionLabel(T,"value"))});if(m)return null;var R=M[0];return w.createElement(c,$e({},p,{data:R,isDisabled:x}),this.formatOptionLabel(R,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,c=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||u)return null;var d={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return w.createElement(s,$e({},o,{innerProps:d,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,c=this.state.isFocused;if(!s||!u)return null;var d={"aria-hidden":"true"};return w.createElement(s,$e({},o,{innerProps:d,isDisabled:l,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return w.createElement(o,$e({},a,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return w.createElement(s,$e({},o,{innerProps:u,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,l=s.Menu,u=s.MenuList,c=s.MenuPortal,d=s.LoadingMessage,p=s.NoOptionsMessage,g=s.Option,y=this.commonProps,x=this.state.focusedOption,v=this.props,m=v.captureMenuScroll,S=v.inputValue,_=v.isLoading,M=v.loadingMessage,P=v.minMenuHeight,C=v.maxMenuHeight,R=v.menuIsOpen,T=v.menuPlacement,E=v.menuPosition,A=v.menuPortalTarget,B=v.menuShouldBlockScroll,D=v.menuShouldScrollIntoView,U=v.noOptionsMessage,H=v.onMenuScrollToTop,j=v.onMenuScrollToBottom;if(!R)return null;var $=function(re,q){var we=re.type,xe=re.data,se=re.isDisabled,pe=re.isSelected,N=re.label,G=re.value,Y=x===xe,ae=se?void 0:function(){return i.onOptionHover(xe)},te=se?void 0:function(){return i.selectOption(xe)},le="".concat(i.getElementId("option"),"-").concat(q),Re={id:le,onClick:te,onMouseMove:ae,onMouseOver:ae,tabIndex:-1};return w.createElement(g,$e({},y,{innerProps:Re,data:xe,isDisabled:se,isSelected:pe,key:le,label:N,type:we,value:G,isFocused:Y,innerRef:Y?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(re.data,"menu"))},Z;if(this.hasOptions())Z=this.getCategorizedOptions().map(function(oe){if(oe.type==="group"){var re=oe.data,q=oe.options,we=oe.index,xe="".concat(i.getElementId("group"),"-").concat(we),se="".concat(xe,"-heading");return w.createElement(o,$e({},y,{key:xe,data:re,options:q,Heading:a,headingProps:{id:se,data:oe.data},label:i.formatGroupLabel(oe.data)}),oe.options.map(function(pe){return $(pe,"".concat(we,"-").concat(pe.index))}))}else if(oe.type==="option")return $(oe,"".concat(oe.index))});else if(_){var k=M({inputValue:S});if(k===null)return null;Z=w.createElement(d,y,k)}else{var W=U({inputValue:S});if(W===null)return null;Z=w.createElement(p,y,W)}var V={minMenuHeight:P,maxMenuHeight:C,menuPlacement:T,menuPosition:E,menuShouldScrollIntoView:D},ce=w.createElement(aae,$e({},y,V),function(oe){var re=oe.ref,q=oe.placerProps,we=q.placement,xe=q.maxHeight;return w.createElement(l,$e({},y,V,{innerRef:re,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove,id:i.getElementId("listbox")},isLoading:_,placement:we}),w.createElement(Rle,{captureEnabled:m,onTopArrive:H,onBottomArrive:j,lockEnabled:B},function(se){return w.createElement(u,$e({},y,{innerRef:function(N){i.getMenuListRef(N),se(N)},isLoading:_,maxHeight:xe,focusedOption:x}),Z)}))});return A||E==="fixed"?w.createElement(c,$e({},y,{appendTo:A,controlElement:this.controlRef,menuPlacement:T,menuPosition:E}),ce):ce}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,l=s.isMulti,u=s.name,c=s.required,d=this.state.selectValue;if(c&&!this.hasValue()&&!a)return w.createElement(Dle,{name:u,onFocus:this.onValueInputFocus});if(!(!u||a))if(l)if(o){var p=d.map(function(x){return i.getOptionValue(x)}).join(o);return w.createElement("input",{name:u,type:"hidden",value:p})}else{var g=d.length>0?d.map(function(x,v){return w.createElement("input",{key:"i-".concat(v),name:u,type:"hidden",value:i.getOptionValue(x)})}):w.createElement("input",{name:u,type:"hidden",value:""});return w.createElement("div",null,g)}else{var y=d[0]?this.getOptionValue(d[0]):"";return w.createElement("input",{name:u,type:"hidden",value:y})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,u=s.isFocused,c=s.selectValue,d=this.getFocusableOptions();return w.createElement(xle,$e({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:l,isFocused:u,selectValue:c,focusableOptions:d}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,u=this.props,c=u.className,d=u.id,p=u.isDisabled,g=u.menuIsOpen,y=this.state.isFocused,x=this.commonProps=this.getCommonProps();return w.createElement(a,$e({},x,{className:c,innerProps:{id:d,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:y}),this.renderLiveRegion(),w.createElement(s,$e({},x,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:y,menuIsOpen:g}),w.createElement(l,$e({},x,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),w.createElement(o,$e({},x,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,c=s.isFocused,d=s.prevWasFocused,p=i.options,g=i.value,y=i.menuIsOpen,x=i.inputValue,v=i.isMulti,m=_R(g),S={};if(o&&(g!==o.value||p!==o.options||y!==o.menuIsOpen||x!==o.inputValue)){var _=y?$le(i,m):[],M=a?Jle(s,m):null,P=Kle(s,_);S={selectValue:m,focusedOption:P,focusedValue:M,clearFocusValueOnUpdate:!1}}var C=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},R=u,T=c&&d;return c&&!T&&(R={value:Gg(v,m,m[0]||null),options:m,action:"initial-input-focus"},T=!d),(u==null?void 0:u.action)==="initial-input-focus"&&(R=null),pt(pt(pt({},S),C),{},{prevProps:i,ariaSelection:R,prevWasFocused:T})}}]),t}(w.Component);GN.defaultProps=Wle;var Yle=w.forwardRef(function(n,e){var t=wse(n);return w.createElement(GN,$e({ref:e},t))}),kR=Yle;function Qle(){const n=[{value:"taipei",label:"Taipei"}],e=[{value:"daan",label:"Daan district"}],[t,r]=w.useState(n[0]),[i,s]=w.useState(e[0]);return F.jsx("main",{className:"container",children:F.jsxs("article",{children:[F.jsxs("div",{children:[F.jsxs("hgroup",{children:[F.jsx("h1",{children:"Account Settings"}),F.jsx("h2",{children:"Add information about yourself"})]}),F.jsxs("form",{children:[F.jsxs("div",{className:"grid",children:[F.jsxs("label",{htmlFor:"firstname",children:["First name",F.jsx("input",{type:"text",id:"firstname",name:"firstname",value:"Kevin",placeholder:"First name",required:!0})]}),F.jsxs("label",{htmlFor:"lastname",children:["Last name",F.jsx("input",{type:"text",id:"lastname",name:"lastname",value:"Chou",placeholder:"Last name",required:!0})]})]}),F.jsx("label",{htmlFor:"email",children:"Email address"}),F.jsx("input",{type:"email",id:"email",name:"email",value:"NYCU.CSIE.STRONGEST@ntu.edu.tw",placeholder:"Email address",required:!0}),F.jsx("div",{}),F.jsxs("div",{className:"grid",children:[F.jsxs("div",{children:[F.jsx("label",{htmlFor:"city",children:"City"}),F.jsx(kR,{defaultValue:t,onChange:r,options:n})]}),F.jsxs("div",{children:[F.jsx("label",{htmlFor:"district",children:"District"}),F.jsx(kR,{defaultValue:i,onChange:s,options:e})]})]}),F.jsxs("label",{htmlFor:"street",children:["Street",F.jsx("input",{type:"text",id:"street",name:"street",value:"羅斯福路四段1號",placeholder:"your address",required:!0})]}),F.jsxs("label",{htmlFor:"lastname",children:["Phone number",F.jsx("input",{type:"text",id:"lastname",name:"lastname",value:"0987654321",placeholder:"Your number",required:!0})]}),F.jsxs("label",{htmlFor:"lastname",children:["Password",F.jsx("input",{type:"password",name:"password",placeholder:"Password","aria-label":"Password",autoComplete:"current-password",required:!0})]}),F.jsx("button",{type:"submit",className:"contrast",onClick:o=>o.preventDefault(),children:"Save Change"})]})]}),F.jsx("div",{})]})})}function Zle(){return F.jsx("div",{children:F.jsx("section",{children:F.jsxs("div",{className:"checkout",children:[F.jsx("div",{className:"credit-card-box",children:F.jsxs("div",{className:"flip",children:[F.jsxs("div",{className:"front",children:[F.jsx("div",{className:"chip","data-v-d79c37cb":!0}),F.jsx("div",{className:"logo",children:F.jsx("svg",{version:"1.1",id:"visa",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"47.834px",height:"47.834px",viewBox:"0 0 47.834 47.834",style:{enableBackground:"new 0 0 47.834 47.834"},children:F.jsx("g",{children:F.jsx("g",{children:F.jsx("path",{d:`M44.688,16.814h-3.004c-0.933,0-1.627,0.254-2.037,1.184l-5.773,13.074h4.083c0,0,0.666-1.758,0.817-2.143
                   c0.447,0,4.414,0.006,4.979,0.006c0.116,0.498,0.474,2.137,0.474,2.137h3.607L44.688,16.814z M39.893,26.01
                   c0.32-0.819,1.549-3.987,1.549-3.987c-0.021,0.039,0.317-0.825,0.518-1.362l0.262,1.23c0,0,0.745,3.406,0.901,4.119H39.893z
                   M34.146,26.404c-0.028,2.963-2.684,4.875-6.771,4.875c-1.743-0.018-3.422-0.361-4.332-0.76l0.547-3.193l0.501,0.228
                   c1.277,0.532,2.104,0.747,3.661,0.747c1.117,0,2.313-0.438,2.325-1.393c0.007-0.625-0.501-1.07-2.016-1.77
                   c-1.476-0.683-3.43-1.827-3.405-3.876c0.021-2.773,2.729-4.708,6.571-4.708c1.506,0,2.713,0.31,3.483,0.599l-0.526,3.092
                   l-0.351-0.165c-0.716-0.288-1.638-0.566-2.91-0.546c-1.522,0-2.228,0.634-2.228,1.227c-0.008,0.668,0.824,1.108,2.184,1.77
                   C33.126,23.546,34.163,24.783,34.146,26.404z M0,16.962l0.05-0.286h6.028c0.813,0.031,1.468,0.29,1.694,1.159l1.311,6.304
                   C7.795,20.842,4.691,18.099,0,16.962z M17.581,16.812l-6.123,14.239l-4.114,0.007L3.862,19.161
                   c2.503,1.602,4.635,4.144,5.386,5.914l0.406,1.469l3.808-9.729L17.581,16.812L17.581,16.812z M19.153,16.8h3.89L20.61,31.066
                   h-3.888L19.153,16.8z`,"data-v-d79c37cb":!0}),"data-v-d79c37cb":!0}),"data-v-d79c37cb":!0}),"data-v-d79c37cb":!0}),"data-v-d79c37cb":!0}),F.jsx("div",{className:"number","data-v-d79c37cb":!0}),F.jsxs("div",{className:"card-holder",children:[F.jsx("label",{children:"Card holder","data-v-d79c37cb":!0}),F.jsx("div",{"data-v-d79c37cb":!0})],"data-v-d79c37cb":!0}),F.jsxs("div",{className:"card-expiration-date",children:[F.jsx("label",{children:"Expires","data-v-d79c37cb":!0}),F.jsx("div",{"data-v-d79c37cb":!0})],"data-v-d79c37cb":!0})],"data-v-d79c37cb":!0}),F.jsxs("div",{className:"back",children:[F.jsx("div",{className:"strip","data-v-d79c37cb":!0}),F.jsx("div",{className:"logo",children:F.jsx("svg",{version:"1.1",id:"visa",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"47.834px",height:"47.834px",viewBox:"0 0 47.834 47.834",style:{enableBackground:"new 0 0 47.834 47.834"},children:F.jsx("g",{children:F.jsx("g",{children:F.jsx("path",{d:`M44.688,16.814h-3.004c-0.933,0-1.627,0.254-2.037,1.184l-5.773,13.074h4.083c0,0,0.666-1.758,0.817-2.143
                   c0.447,0,4.414,0.006,4.979,0.006c0.116,0.498,0.474,2.137,0.474,2.137h3.607L44.688,16.814z M39.893,26.01
                   c0.32-0.819,1.549-3.987,1.549-3.987c-0.021,0.039,0.317-0.825,0.518-1.362l0.262,1.23c0,0,0.745,3.406,0.901,4.119H39.893z
                   M34.146,26.404c-0.028,2.963-2.684,4.875-6.771,4.875c-1.743-0.018-3.422-0.361-4.332-0.76l0.547-3.193l0.501,0.228
                   c1.277,0.532,2.104,0.747,3.661,0.747c1.117,0,2.313-0.438,2.325-1.393c0.007-0.625-0.501-1.07-2.016-1.77
                   c-1.476-0.683-3.43-1.827-3.405-3.876c0.021-2.773,2.729-4.708,6.571-4.708c1.506,0,2.713,0.31,3.483,0.599l-0.526,3.092
                   l-0.351-0.165c-0.716-0.288-1.638-0.566-2.91-0.546c-1.522,0-2.228,0.634-2.228,1.227c-0.008,0.668,0.824,1.108,2.184,1.77
                   C33.126,23.546,34.163,24.783,34.146,26.404z M0,16.962l0.05-0.286h6.028c0.813,0.031,1.468,0.29,1.694,1.159l1.311,6.304
                   C7.795,20.842,4.691,18.099,0,16.962z M17.581,16.812l-6.123,14.239l-4.114,0.007L3.862,19.161
                   c2.503,1.602,4.635,4.144,5.386,5.914l0.406,1.469l3.808-9.729L17.581,16.812L17.581,16.812z M19.153,16.8h3.89L20.61,31.066
                   h-3.888L19.153,16.8z`,"data-v-d79c37cb":!0}),"data-v-d79c37cb":!0}),"data-v-d79c37cb":!0}),"data-v-d79c37cb":!0}),"data-v-d79c37cb":!0}),F.jsxs("div",{className:"ccv",children:[F.jsx("label",{children:"CCV","data-v-d79c37cb":!0}),F.jsx("div",{"data-v-d79c37cb":!0})],"data-v-d79c37cb":!0})],"data-v-d79c37cb":!0})],"data-v-d79c37cb":!0}),"data-v-d79c37cb":!0}),F.jsxs("form",{className:"form",autoComplete:"off",noValidate:"",children:[F.jsxs("fieldset",{children:[F.jsx("label",{htmlFor:"card-number",children:"Card Number","data-v-d79c37cb":!0}),F.jsx("input",{type:"num",id:"card-number",className:"input-cart-number",maxLength:4,"data-v-d79c37cb":!0}),F.jsx("input",{type:"num",id:"card-number-1",className:"input-cart-number",maxLength:4,"data-v-d79c37cb":!0}),F.jsx("input",{type:"num",id:"card-number-2",className:"input-cart-number",maxLength:4,"data-v-d79c37cb":!0}),F.jsx("input",{type:"num",id:"card-number-3",className:"input-cart-number",maxLength:4,"data-v-d79c37cb":!0})],"data-v-d79c37cb":!0}),F.jsxs("fieldset",{children:[F.jsx("label",{htmlFor:"card-holder",children:"Card holder","data-v-d79c37cb":!0}),F.jsx("input",{type:"text",id:"card-holder","data-v-d79c37cb":!0})],"data-v-d79c37cb":!0}),F.jsxs("fieldset",{className:"fieldset-expiration",children:[F.jsx("label",{htmlFor:"card-expiration-month",children:"Expiration date (mm/yyyy)","data-v-d79c37cb":!0}),F.jsx("div",{className:"select",children:F.jsxs("select",{id:"card-expiration-month",children:[F.jsx("option",{children:"01","data-v-d79c37cb":!0}),F.jsx("option",{children:"02","data-v-d79c37cb":!0}),F.jsx("option",{children:"03","data-v-d79c37cb":!0}),F.jsx("option",{children:"04","data-v-d79c37cb":!0}),F.jsx("option",{children:"05","data-v-d79c37cb":!0}),F.jsx("option",{children:"06","data-v-d79c37cb":!0}),F.jsx("option",{children:"07","data-v-d79c37cb":!0}),F.jsx("option",{children:"08","data-v-d79c37cb":!0}),F.jsx("option",{children:"09","data-v-d79c37cb":!0}),F.jsx("option",{children:"10","data-v-d79c37cb":!0}),F.jsx("option",{children:"11","data-v-d79c37cb":!0}),F.jsx("option",{children:"12","data-v-d79c37cb":!0})],"data-v-d79c37cb":!0}),"data-v-d79c37cb":!0}),F.jsx("div",{className:"select",children:F.jsxs("select",{id:"card-expiration-year",children:[F.jsx("option",{children:"2023","data-v-d79c37cb":!0}),F.jsx("option",{children:"2024","data-v-d79c37cb":!0}),F.jsx("option",{children:"2025","data-v-d79c37cb":!0}),F.jsx("option",{children:"2026","data-v-d79c37cb":!0}),F.jsx("option",{children:"2027","data-v-d79c37cb":!0}),F.jsx("option",{children:"2028","data-v-d79c37cb":!0})],"data-v-d79c37cb":!0}),"data-v-d79c37cb":!0})],"data-v-d79c37cb":!0}),F.jsxs("fieldset",{className:"fieldset-ccv",children:[F.jsx("label",{htmlFor:"card-ccv",children:"CCV","data-v-d79c37cb":!0}),F.jsx("input",{type:"text",id:"card-ccv",maxLength:3,placeholder:"***","data-v-d79c37cb":!0})],"data-v-d79c37cb":!0}),F.jsxs("button",{className:"btn",children:[F.jsx("i",{className:"fa fa-lock","data-v-d79c37cb":!0})," Add New Card"],"data-v-d79c37cb":!0})],"data-v-d79c37cb":!0})],"data-v-d79c37cb":!0}),"data-v-d79c37cb":!0}),"data-v-d79c37cb":!0})}function qle(){return F.jsxs("div",{children:[F.jsx("main",{className:"container",children:F.jsxs("article",{children:[F.jsxs("hgroup",{children:[F.jsx("h1",{children:"Choose Payment Account"}),F.jsx("h2",{})]}),F.jsxs("fieldset",{children:[F.jsxs("label",{htmlFor:"small",children:[F.jsx("input",{type:"radio",id:"small",name:"size",value:"small",checked:!0}),F.jsx("img",{width:"48",height:"48",src:"https://img.icons8.com/color/48/visa.png",alt:"visa"}),"玉山商業銀行 **** 1234"]}),F.jsxs("label",{htmlFor:"small",children:[F.jsx("input",{type:"radio",id:"small",name:"size",value:"small",checked:!0}),F.jsx("img",{width:"48",height:"48",src:"https://img.icons8.com/color/48/mastercard.png",alt:"mastercard"}),"兆豐國際商業銀行 **** 5678"]}),F.jsx("p",{}),F.jsx("a",{href:"#",role:"button",className:"secondary",children:"➕ Add New Card"})]})]})}),F.jsx(Zle,{})]})}function eue(){const[n,e]=w.useState(!1),t=()=>{e(!n)};return F.jsx("div",{children:F.jsxs("article",{children:[F.jsxs("hgroup",{children:[F.jsx("h1",{children:"Coupon Settings"}),F.jsx("h2",{})]}),F.jsxs("select",{children:[F.jsx("option",{value:"time",children:"Sort by Time"}),F.jsx("option",{value:"discount",children:"Sort by Discount"})]}),F.jsx("div",{className:"coupon-list",children:F.jsxs("div",{className:"coupon-item",children:[F.jsxs("div",{className:"coupon-details",children:[F.jsx("h3",{children:"Coupon Title"}),F.jsx("p",{children:"Discount: 10%"}),F.jsx("p",{children:"Due Date: 2023-06-30"})]}),F.jsx("button",{className:"contrast",onClick:t,children:"View Details"})]})})]})})}function tue(){return F.jsx("table",{className:"rent-history-table",children:F.jsxs("tbody",{children:[F.jsxs("tr",{children:[F.jsx("td",{rowSpan:3,children:F.jsxs("div",{className:"car-plate",children:[F.jsx("span",{className:"vehicle-type",children:"電動車","data-v-8d7c667":!0}),F.jsx("span",{className:"plate-number",children:"ABC-1234","data-v-8d7c667":!0})],"data-v-8d7c667":!0}),"data-v-8d7c667":!0}),F.jsx("td",{children:F.jsx("h2",{children:"租車","data-v-8d7c667":!0}),"data-v-8d7c667":!0}),F.jsx("td",{children:F.jsx("h2",{children:"還車","data-v-8d7c667":!0}),"data-v-8d7c667":!0}),F.jsx("td",{children:F.jsx("h2",{style:{textAlign:"center"},children:"費用","data-v-8d7c667":!0}),"data-v-8d7c667":!0}),F.jsx("td",{children:F.jsx("h2",{style:{textAlign:"center"},children:"充電次數","data-v-8d7c667":!0}),"data-v-8d7c667":!0})],"data-v-8d7c667":!0}),F.jsxs("tr",{children:[F.jsxs("td",{children:[F.jsx("li",{children:F.jsxs("h5",{children:["時間",F.jsx("br",{"data-v-8d7c667":!0}),"2023/05/16 23:57"],"data-v-8d7c667":!0}),"data-v-8d7c667":!0}),F.jsx("li",{children:F.jsxs("h5",{children:["租借地",F.jsx("br",{"data-v-8d7c667":!0}),"周冠辰超可愛"],"data-v-8d7c667":!0}),"data-v-8d7c667":!0})],"data-v-8d7c667":!0}),F.jsxs("td",{children:[F.jsx("li",{children:F.jsxs("h5",{children:["時間",F.jsx("br",{"data-v-8d7c667":!0}),"2023/05/17 04:10"],"data-v-8d7c667":!0}),"data-v-8d7c667":!0}),F.jsx("li",{children:F.jsxs("h5",{children:["還車地",F.jsx("br",{"data-v-8d7c667":!0}),"台北市大安區"],"data-v-8d7c667":!0}),"data-v-8d7c667":!0})],"data-v-8d7c667":!0}),F.jsx("td",{rowSpan:2,children:F.jsx("h2",{style:{textAlign:"center"},children:"NT15","data-v-8d7c667":!0}),"data-v-8d7c667":!0}),F.jsx("td",{rowSpan:2,children:F.jsx("h2",{style:{textAlign:"center"},children:"153次","data-v-8d7c667":!0}),"data-v-8d7c667":!0})],"data-v-8d7c667":!0}),F.jsx("tr",{children:F.jsxs("td",{colSpan:2,children:[F.jsx("li",{children:F.jsx("h2",{children:"總里程 32km","data-v-8d7c667":!0}),"data-v-8d7c667":!0}),F.jsx("li",{children:F.jsx("h2",{children:"租借時長 253min","data-v-8d7c667":!0}),"data-v-8d7c667":!0})],"data-v-8d7c667":!0}),"data-v-8d7c667":!0})],"data-v-8d7c667":!0}),"data-v-8d7c667":!0})}function nue(){return F.jsx("div",{children:F.jsxs("article",{children:[F.jsxs("hgroup",{children:[F.jsx("h1",{children:"Rent History"}),F.jsx("h2",{})]}),F.jsx("select",{children:F.jsx("option",{value:"time",placeholder:"Sort by",children:"Sort: 由舊到新"})}),F.jsx("article",{style:{backgroundColor:"#8F9491"},children:F.jsx(tue,{})})]})})}function FR(){const[n,e]=w.useState("account"),t=r=>{e(r)};return F.jsx("div",{children:F.jsxs("div",{className:"settings-container",children:[F.jsxs("div",{className:"settings-menu",children:[F.jsx("div",{className:"profile-pic",children:F.jsx("img",{className:"profile-pic-img",src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBYWFRgWFRYYGRgYGhoaGBoZGhgaGhgYGhgaGhoaGhocIS4lHB4rIRgYJjgmKy8xNTU1GiQ7QDs0Py40NTEBDAwMEA8QHhISHjQrJCQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDY0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0ND00NP/AABEIAOgA2gMBIgACEQEDEQH/xAAcAAABBQEBAQAAAAAAAAAAAAACAQMEBQYABwj/xAA/EAACAQIEAwUGAwYFBAMAAAABAgADEQQSITEFQVEGImFxgRMykaGxwULR8BRSYpLh8QcjM3KyFYKiwhYkQ//EABkBAAIDAQAAAAAAAAAAAAAAAAABAgMEBf/EACURAAICAgICAgIDAQAAAAAAAAABAhEDIRIxQVEEYTKBBRQicf/aAAwDAQACEQMRAD8AmjyhwFEIS8yBCEIIGsKAwhFEQRYAdCEEGKICCAhAxBOkh9C3hCIJ14CsWdeIDFCwEwhOigRBAGHOiRYBYhizhOgMW04zrxBACBjx3T5H6TCOJvscO6fIzB1N5VMnEhkd8frnOTTXlp9Yrjvr5j6zlXTpaZJmiPQ6+lakehX/AJz0meZ4i+em3l8mnpC5SAc66679ZZgehZPBDBMIQUENVmoyKxbQvpEWFeA10dCggQjALFE4RIUAFAigRROEkMWcZEx/EadFc1Vgi358z0A5mZvE9t0LEUkZwupZrKCPA3sB46+A5iLaQcWzX84QaedYjt+4bSmhUcgxsfEta59LDzjR/wARa2tqNMHrdjaLmiXCR6XFvPKv/nuKJuSlv3cosfDrLbA/4hgkCrSUDmyE/HLY/ePmhPHI9AEUSv4bxajXF6bqxAuVBGYDxEsJK7I0xSZwMSLeAWLOM4ThACFixofI/SYStufMzeYzY+RmFxA1PmfrK5onFlfV95fP7x4g668zGcTuDHqmht4mY5rZoj0N4w2yeZ+onpdL3R5Dmek8zx57qeBP2nodCuuVe+mw/EOnnHh0mGTwABCBgpCm0y/YsICDCBgIIThEvCEB9nAQhEMQtATHBK/i3EkooWa5OyIN3Ph0GoueUh47ibd4plCqG7z3AYjewuNAeZInmnFuMPWZmZt7CwFhlHx/uT4RSlROMeQGN4o9Rsztma5IvdrX5Lc6Dy+Ug18Qzm7G5O/jGiYMqsvSFnRLzoDFvCBgRYASMNiWRwykgjblPVeynaVMQoRjlqge6T71ua319J5IDHcPWKMGU2INx+uUlGVEJRTPfAYQEz3ZXtCmJQKdHA1HXrrz6/HoZoZanZnarTCEWIIsYETFbTC4r3m8z9Zu8SJhMZ7zeZlcyUSvxMZx+MVahHO/w847if18JU8RU+0YnnZvO6iZmk5bL4ukS6mKzW8NvvG8361kPP1lpR4UzKG9pTFwDYs1xcX10j4rwPbPRlMKDadeajN0OXnCAIRMBMMQhABhiACiI55RTKzjOKNOmzAX3Fr2/CefKFjMB2y4hmqlEsEG+W12PO5HKZcyTjqxdyxtfQabaAC/yv6yMZS3bNEVSEnTosCQk6LFAgAkUQimk5REANoVpISlpfn0POd7HRhzGo8v1aOhWO8Nxb0nV0bKQQRvqQb2NuRInuWHbMqtrqAfjPB01HiPnrPZOzeL9ph6TfwKDfe4HPzlkGVZPZdCKBEWdeWFRHxImDx4s7+c3uJMwvER338zK59E12VeK2j+Jw6Mq5tyqnyNhtGcTtHqj91Bzyr9JjyXejRGqKrHcOypmB0uPPW8u8LQXIvdPuj8TdB4yJiVvRY9CPrJ+FqLkXUe6PoJGMmSaNYN4oMC8KdAxhXhKYAi3gA5eLeAISwAImUXaTDs9KoWcKiKzZVXVrDYseugsLedriXd5B43hjUoVEG5RreJy6fO0GC7PGWN4Np0USg1CERykAb+X3EQLDo07m3XSDY0hRhyftCp4dr2AueQ6jwvNHhuHs6hSAG5X0/uDHsHwoq+VwyoxChhqEfdQemuWx21tK1Oy54igpqpTW4YG22h5/H8o0cK24Gg3noD8AIYZ2sxuoDDusDbc635a22PhaQOKcFFFSStjzHMakXHK3jsfPSNSFLGZUJtce9a/geR+sDJbzGh8VO0scdgMpYofdtcEgaEXDLr7p+R08Z3BsJ7dyguWsbDnp3iLczvbzPSWclRTxZVuBbyJsfCelf4eVM2GZde65Uk+IDC3hZhPNsTTym3Lr1BJt9vjPS/8OKdsMzW9+o3yCr9pKDtleRUtmtAizgZ0uKCPiBMRxQf5jec3GImJ4qP8xvOVz6JReypxG0Jfw+KD6kfadiNo0raJt7v/u0yTL4EjEJ/kuPL/kLyPSYZR5D6SVvSfy+4P68pApnQbbCUpl1G8DQ80ZzawrzpmBDwMK8YUxwGADghAwAYoMBjkUwQYQgKzxfi+D9lWdNbBjlJ5rfSQhNLxtPa1Hc7sxt4AaAfC0zqJrM/JPo2uEopWSKVK4EkUMOc17SdgMOCBNRgOCXF138ZRLJTo1QxWrKfDUMS5FgNLAXNgPzMuv8Ao2PClwEcW7y7hltqCD72ki4irWpuFFIsTtqNfWXfCO0uMLiiuCN9szOVRQPxFslresjFt9Epx47sYwVXE5RTxCBkFj3rlgLECzb2+fjLtcIK9FkfXJmysffW40Obn3bX663jmCxbVAwdCrIdQbGwJ3VtmU2+Uv8AAUAyMQNcsE22DjSPNlwyorE/gBXu2voWUhb/AMSkgHxGxtMfwzFvSxAqIpDK+dQAd9SRboVzj1nruKopSDu6C2+o5AXJ/mZpk34nhMQ6+zDh1N3y02INPS7ae6V3Bt0koyfkjOF0YrjFUs92XISL26Am4+onqPYfD5MFS0tmzP6M5I89CJgOPYXOQ6NnCIq3AN8lNQCzAi4sMt79DPT+B08mHppa1kFh5jN95qxNNGHPFxdMnxYk6WmVIZxBmK4ybVWmyr7TG8Z/1G9JCfROJU4kd0xtE7inwNv5j+cexHun9coyj9weBa3/AIn7zLM0QH1Pcf8A2mVK1NBt85cKncfn3W8eRmeDeEqXbLGz0oGKDGS8INOkc/yPA9IQjAadngTJUMNIueH7SAqJIjiGRFqRxXgBgsfhvZ1nQ/gJt4gnQ/C0zj0iHPnN92twh0rAXFsr6fA/O3wmQamTry5dZja4yaOqmssEyXgGsRPReCoConnOHGonoHZ6p3V/XKZ5K2aI/iX1XhqPYkajYjePU6GUWzG3SScNrLFcMp1IlkV6IN+ytZQFt1jvDD7y+EicWxIRgo1YjQDpC4EzMxB0P9IX/odask1aII2+h+shpg15BByuFAJHQkbyzZe8RObCjeMWigxnB0yVMqi7oyk23DD+0PCplRF6Ko+CgfaWeL920hGXfHXZi+Z4EvEvOnXmkxEevMdxv/UPjNhXmP43/qHykJdDiVNXY+UYw2qjXYt8wskPI+CW6/8Ad9v6TNM0QJ+GN7/7T9DKCw8ZoMEdZS6+Hxmfyy6jYs8T236+0rjU5Xgh7zpNmBdlg9fxg/tMiBpweFk6JftD1hJW8TIitCBhYqRMFWP0q8rlMeQwsWi0FQMCrC6sCGB5g7zA8ZdKNVqeVjtlNxoDa1/KbJHmU7ZUSaqMBuNbfw23kJxUlsvw5JRdJ9kehuJtuANpbpYzEYYzZcE2B8JhktnVi7ibfAtLhGuLSgwT6CWIxQAtLIsrkVXFcFU9uzqRZkAVjqEYX95dyNjpK3gNHHLUb2tnv+NQFHwBmiqVgBdiAPGFhsehBCkaanUDSHFX2TuTWkDwoVszCuUJuSCl8uU+6NdSRzlnV0kJaoOqm/lDatcQ6IeSHi31tIjGOVnuTGjNeKNROZnlym/oS84RIssKRmvtMhx5f8z0E2FaZ3G4QPiEVjYEXPW3SV5GoxtlmKDlJRj2zN1InDx3G65h9Gm07WdnaNLDivT7pzKpG4IbT4/1mMwH4x/Ep9BnH3mWUrVmjg4ypj2GuX6SgqIbnXmf1tLt2dWuBfnpy9N5TVHNzdTe5vvKrJl4Tziho2TODTeZOI7eLmjamEIxDghq0bUwkMBMfSOrGEMdWMjY8phCgrkBhfWAD0j1M9f1aIF2YymLOy9GI+BI+01vZyuNjMgpzMzj8TE/Eky44VVysDOfPTO7jjcT0XDNaEzHWV2BxV1EmVHI1G3OLkFbopcfTdmOao++mULYDxBvJeG4NVNnWrdSOai4+DSZ7NX/ADnLw6p+CvYdCgPzBEsi4+UXxy0quv0N4ajVR7CoD1GW1x6E6y5V7CQ6dPJqTmbra3yhZyfSCXKdIy58iVyOaBFJiToJUqOLJ27OigTgIogA06ykw1nxT/wBVHwufmZfOJlqFTJjHtzb7AzN8p1Ff9Oj/GxvI/pF722v+yoL/wD6L/weYDC11T2jEXsNr21zAfeemdpqQfB1NNVAcX5FSCSPS88nxNO6VrXN0B/lemx+QMppPTJfJ1OybhsYGINrA8xYgSJXF2Y66k/WUuExJTmbSV+2CDwrwUc2XQM7NBvOYzWUPQYMcBjKxyBGxxTHUMYQx1TAGPqYYjSb7R1IyLHVMj8XxWSgxB1buL5t/S59JJQSk40jVWTKO4pNj+8x3PlyHrITlxiWYcbnJIr8ImgllSTLrJPDOG51ts0kVcEy6MNZz5O9ndiqH8Biytuk1PDsUri15iACvlJmFxuU31EinTHKHJaN17IDUQg0z1Dj1hY2McTi5ZrICSeXKWqSKeLXZfVSAL8+UjiAgO7G7fIeUUzdhx0rfZyfkZuT4x6R14sSLLzMdCiCFExoFxM0iFscyr1F/RBNMwlB2OU1MRWrGwAubnbvE2+QmX5XSX2dL+O1KUvSNbiqBei6fvIy/EETyXDe8wP7rC3psfhPa0Syi/OeVccwvs8bVW2jB3UdVdGY/Agj0lDVF2f/AFsxvEcFkOg0bbw6iQMk02KoZxY/2Mrf+kP+79JJS9mei0IiWigzpqMzQQEIC8GEsEQ+mGgjimNgR1FgH0OI36+kdTfTXwj+C4e77Cw6zUcO4Kqa2uesrlkS6LoYJS29IosPwl397RenXzP2k3iHClCKANpq6WFAkfE4e8zTTltm+CjDUTMcOwtnEvsRgFdbMPWHhsLreWTU9Iox1sm57MZieBsNhcSA/DGXkZvsto8qAiJwRJZWjz+jw1idtPGXWGwK01LAa23mgemJC4ill9YuHHYpTctEZapO8UuJHDcpIpUbzTHNIxT+NF7WhPar1+sIODzjwoDpO/Z5L+xL0Vf1l7AEJZ3syISy+ORSKZ4pRK/jdXJh6rbWQj4937yu7IYXEKDagcpswZ+4rNsCb6kAXOgmn4XTFV2GhCGxG92Fifhp6iXqmxsRYiZcz5Sv0dH4yeKDTW3v9EKjRe3fOY8+Q9BKfjvBUrDOBZ1VgjDTQggqfDWX2JrcgP6RkG95XZctrZ5EmHNrEEFdCDyPTzkv2A8f16S67TYUJWzbBxmt/Hex+x9ZWWPWQk9mZqijUxAsEQpvRi2wgJyxI/QoO5sqknw/OJuhVydIOghY5QL3mhwPB0Grtc9OQ/OJwrhDjfS+/WaPC8LUcr+colJvo1wxKO32DhUQDS0saVUCOJhAOUIUQDIpUX2KcUp8I01Veokn2QPKEuBU8hALIa1VHMQmxqSaOHL0inAAQ4saaK5cVfkY9SeSWwtoJpQpkrQ0RGMTTDCPusaMTBIocS2RrGT8K+kh8Zw5IuOUhcKxpBytK06dE3G46NKqXjgpxui15NRbiWmd6IjU42aMLjeM/Z6D1subIBZb2BJYKLn1mZ7NdsxWqijiFVC5sjrcIW5KwYm1+Rv4QTpkuPJWW3Z+qcPXqZ1Yq7XTKpYEu12221tvL/FipUfMAFW2lzr8B+cpalb/AO8tEiwRA/8AuZvyA+ZmnxVgmYHQEfW0ilaa9FknTUq20VxwT2tnHj3f6xymgA8YSYvu6yG2Jy2DkZjqQJGkhpvyVPa3BGpTBUd9GuvW34gPS/wmQz+XxnoNZ842OkrTwmidSi3Op33O8TQnC9nlytDUwOcOkpdgo8L+E3SdKzlwi26LDheCNRv4frNvgOHqoAAkHgmDygaTT4alKHLl2bVFRVIXDYYCWFOhFoUpMVJKgsZFOM1qUmlY26RNAmVymxk2k0ZrU51EyJPwSs07NALQhJWRoUxphHCYBEQ0RnSMMklusaKyJJMh1qQItMnxbDFGuJtWSZ/tKoCExSjaslGWyHwfitiFY6TXYdwRcTzBHmp7PcU/Ax8ooy8Bkj5RbdrcMz4HEKou2VWt4I6u1vRTPGKlPkdtp9BUTznl3brgCYaoj09EqlrLb3GW1wD072nrCarYsMl+JT8G4jVpuGZmcAWXMSxUDZRc+74crzUYvtXXqKtOkgVRuzbsfIaATLYWooAE03Clp6NUdVHS+plab3RqlVK10SMFSxdfQPkAIJa2gty8ZfcO4LkYs7tUY7ltvIDkIwvaTDIMoqIANgCJNpY9XGZHB8iDHFJebK5N+qJ2MXKkqb+U7F41z3Tb0jQp+JjIHlLtb0lx2ewuY5juZS1QSVT94zb8Dw1gJoySd0YsMa2aHAUbCXVBJXYYSyomRRaybRWSBI1J4/nkhBQWgs8aerAaFcSK2hjyvGq0TJIeWHljVEx8LEJsS0QrDyRLQFYywjREkuJFqOBvGFgubCYztPiwTlBlpxni4UEKdZisZiC5JMrk/BOCd2NhpJw9cqQRuJAvDR5XRY2eh8C44rAKxsZK7ScMXFYdqYIzjv026ONtehFx6+E85p17HQzQcL7QMlg5uJNStUyvi07RnOH4SnmKViUdTZkOjXG4+s12B4bhAAfZh/Fjf5STUFKq5LojhgD3lUmxHU6iCvZ+kTem70j0U5k/lf7ERKHrZc8l/Q46UAO7RQDrkX8ouHZDoLDy0lbxHs5jQw/Z6iVFP71kZT43NiPEfCZv2+JR2V3CsjFWCdVJB19Dyg9doaqXTNo3efIp0HvflLPKP3ZXcAqKygganfr6zQ5BJxjoplOmeE4UZqo8LWm/4awAE6dG+2VQ/FF3QrSfSedOjiSZLpvHw86dJCOZpBxlfLOnSLBCYetcAx+o2k6dEMdw40ktROnSSFIONuZ06MiQsTilXczKcZ41uFMWdK5Nk4pGSxOILHeR7Tp0qZchMsAxZ0EAheEledOjBEulxsoQCeWnxlvhe01t4s6EZMbiixpdrUG8zfE8StSs7p7rtceZAv8AO86dG5NolGKT0XHZzF5TlvNd+1zp0nDoqn2f/9k=",alt:"user pic"})}),F.jsx("div",{className:`settings-menu-item ${n==="account"?"active":""}`,onClick:()=>t("account"),children:F.jsx("strong",{children:"Account"})}),F.jsx("div",{className:`settings-menu-item ${n==="payment"?"active":""}`,onClick:()=>t("payment"),children:F.jsx("strong",{children:"Payment"})}),F.jsx("div",{className:`settings-menu-item ${n==="coupon"?"active":""}`,onClick:()=>t("coupon"),children:F.jsx("strong",{children:"Coupon"})}),F.jsx("div",{className:`settings-menu-item ${n==="renthistory"?"active":""}`,onClick:()=>t("renthistory"),children:F.jsx("strong",{children:"Rent History"})})]}),F.jsxs("div",{className:"settings-content",children:[F.jsx("div",{className:`account-settings ${n==="account"?"show":""}`,children:F.jsx(Qle,{})}),F.jsx("div",{className:`payment-settings ${n==="payment"?"show":""}`,children:F.jsx(qle,{})}),F.jsx("div",{className:`coupon-settings ${n==="coupon"?"show":""}`,children:F.jsx(eue,{})}),F.jsx("div",{className:`renhistory-settings ${n==="renthistory"?"show":""}`,children:F.jsx(nue,{})})]})]})})}function rue(){const[n,e]=w.useState(!1);return gre().then(()=>e(!0)),F.jsx(F.Fragment,{children:n===!0?F.jsx(Gv,{to:"/"}):""})}const iue=b8([{path:"/",element:F.jsx(pre,{}),errorElement:F.jsx(f_,{}),children:[{path:"login",element:F.jsx(Mre,{})},{path:"signup",element:F.jsx(Ere,{})},{path:"logout",element:F.jsx(rue,{})}]},{path:"/user",element:F.jsx(Tre,{}),errorElement:F.jsx(f_,{}),children:[{path:"settings",element:F.jsx(FR,{})},{path:"map",element:F.jsx(gse,{})}]},{path:"/admin",element:F.jsx(Pre,{}),children:[{path:"settings",element:F.jsx(FR,{})}]},{path:"/error",element:F.jsx(f_,{})}]);x_.createRoot(document.getElementById("root")).render(F.jsx(ne.StrictMode,{children:F.jsx(p8,{router:iue})}));
